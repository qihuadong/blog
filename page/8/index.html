<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/blog/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/blog/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/blog/atom.xml" title="张鹏的博客" type="application/atom+xml">






<meta property="og:type" content="website">
<meta property="og:title" content="张鹏的博客">
<meta property="og:url" content="https://dunwu.github.io/page/8/index.html">
<meta property="og:site_name" content="张鹏的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="张鹏的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dunwu.github.io/page/8/">





  <title>张鹏的博客 - 大道至简，知易行难</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">张鹏的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">大道至简，知易行难</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/blog/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/blog/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/os/mac/README/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/os/mac/README/" itemprop="url">Mac</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Mac"><a href="#Mac" class="headerlink" title="Mac"></a>Mac</h1><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><h3 id="软件管理"><a href="#软件管理" class="headerlink" title="软件管理"></a>软件管理</h3><p>dmg 格式：双击安装包，然后拖到 applications 文件夹下即可。</p>
<h3 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h3><h4 id="更改默认搜索引擎"><a href="#更改默认搜索引擎" class="headerlink" title="更改默认搜索引擎"></a>更改默认搜索引擎</h4><p>选择「偏好设置–>搜索–>搜索引擎–>Google」。</p>
<h4 id="导入-chrome-浏览器的书签"><a href="#导入-chrome-浏览器的书签" class="headerlink" title="导入 chrome 浏览器的书签"></a>导入 chrome 浏览器的书签</h4><p>选择「文件–&gt;导入自–&gt; Google Chrome」，然后选择要导入的项目。</p>
<h4 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h4><p>Command + R 刷新</p>
<h4 id="上方显示书签栏／收藏栏"><a href="#上方显示书签栏／收藏栏" class="headerlink" title="上方显示书签栏／收藏栏"></a>上方显示书签栏／收藏栏</h4><p>选择「显示–&gt; 显示个人收藏栏」。</p>
<h4 id="关闭软件的右上角通知"><a href="#关闭软件的右上角通知" class="headerlink" title="关闭软件的右上角通知"></a>关闭软件的右上角通知</h4><p>在 Mac 系统中有对通知的设置，打开系统偏好设置 — 通知 找到 QQ，然后将 QQ 提示样式设置成无即可。</p>
<h4 id="复制文件-文件夹路径"><a href="#复制文件-文件夹路径" class="headerlink" title="复制文件/文件夹路径"></a>复制文件/文件夹路径</h4><ul>
<li>OS X 10.11 系统，选中文件夹，「cmd +Option +c」 复制文件夹路径，cmd+v 粘贴。<br>之前的系统，利用 Administrator 创建一个到右键菜单，然后到设置里面设置快捷键。具体操作请百度。</li>
</ul>
<h4 id="打开来自身份不明的开发者的应用程序"><a href="#打开来自身份不明的开发者的应用程序" class="headerlink" title="打开来自身份不明的开发者的应用程序"></a>打开来自身份不明的开发者的应用程序</h4><p>在应用程序文件夹，按住 control 键的同时打开应用程序。</p>
<h4 id="复制文件路径"><a href="#复制文件路径" class="headerlink" title="复制文件路径"></a>复制文件路径</h4><ul>
<li><p>选择文件／文件夹按 Command+C 复制，在终端中 Command+V 粘贴即可。</p>
</li>
<li><p>如果只是想在 Finder 中看到文件的路径, 并方便切换层级, Finder 内置了「显示路径栏」的功能, 并配置了快捷键(Option+Cmd+P). 如下图所示：</p>
</li>
</ul>
<p>20161124-184148.png</p>
<p>参考链接：</p>
<ul>
<li>[<a href="https://www.zhihu.com/question/22883229]" target="_blank" rel="noopener">https://www.zhihu.com/question/22883229]</a></li>
</ul>
<h3 id="隐藏和取消隐藏-Mac-App-Store-中的已购项目"><a href="#隐藏和取消隐藏-Mac-App-Store-中的已购项目" class="headerlink" title="隐藏和取消隐藏 Mac App Store 中的已购项目"></a>隐藏和取消隐藏 Mac App Store 中的已购项目</h3><h3 id="Mac-同时登陆两个-QQ"><a href="#Mac-同时登陆两个-QQ" class="headerlink" title="Mac 同时登陆两个 QQ"></a>Mac 同时登陆两个 QQ</h3><p>在已经打开的 QQ 中，按住「command + N」即可。</p>
<h2 id="系统便好设置"><a href="#系统便好设置" class="headerlink" title="系统便好设置"></a>系统便好设置</h2><h3 id="语音播报"><a href="#语音播报" class="headerlink" title="语音播报"></a>语音播报</h3><p>打开「系统便好设置–&gt;辅助功能–&gt;语音」，即可设置不同国家的语言。</p>
<p>勾选上图中的红框部分，可以设置全局快捷键。这样的话，在任何一个软件当中，按下「 option+esc」时，就会朗读选中的文本。</p>
<h3 id="调整字体大小"><a href="#调整字体大小" class="headerlink" title="调整字体大小"></a>调整字体大小</h3><p>Mac 调整字体大小：「系统偏好设置 -&gt; 显示器 -&gt; 缩放」。如下图：</p>
<h3 id="如何分别设置-Mac-的鼠标和触控板的滚动方向"><a href="#如何分别设置-Mac-的鼠标和触控板的滚动方向" class="headerlink" title="如何分别设置 Mac 的鼠标和触控板的滚动方向"></a>如何分别设置 Mac 的鼠标和触控板的滚动方向</h3><p>很多人习惯鼠标使用相反的滚动方向，而触控板类似 iPad 那样的自然滚动，问如何设置，当时我的回答是不知道，因为目前 OS X 的系统设置里，鼠标和触控板的设置是统一<br>的。今天发现了一个免费的软件 Scroll Reverser，可以实现鼠标和触控板的分别设置。下载地址：<a href="https://pilotmoon.com/scrollreverser/" target="_blank" rel="noopener">https://pilotmoon.com/scrollreverser/</a><br>启动后程序显示在顶部菜单栏，设置简单明了，有需要的用户体验一下吧。</p>
<h3 id="Touch-Bar-自定义"><a href="#Touch-Bar-自定义" class="headerlink" title="Touch Bar 自定义"></a>Touch Bar 自定义</h3><p>打开「系统偏好设置-键盘」，下面有个自定义控制条。</p>
<h3 id="色温调节：夜间模式"><a href="#色温调节：夜间模式" class="headerlink" title="色温调节：夜间模式"></a>色温调节：夜间模式</h3><p>iOS9.3 的最明显变化，莫过于苹果在发布会上特意提到的 Night Shift 夜间护眼模式。</p>
<h3 id="iCloud-邮箱"><a href="#iCloud-邮箱" class="headerlink" title="iCloud 邮箱"></a>iCloud 邮箱</h3><p>如果您用于设置 iCloud 的 Apple ID 不以“@icloud.com”、“@me.com”或“@mac.com”结尾，您必须先设置一个“@icloud.com”电子邮件地址，然后才能使用 iCloud“邮件”。</p>
<p>如果您拥有以“@mac.com”或“@me.com”结尾的电子邮件地址，则您已经拥有了名称相同但以“@icloud.com”结尾的等效地址。如果您使用的电子邮件别名以“@mac.com”或“@me.com”结尾，您也将拥有以“@icloud.com”结尾的等效地址。</p>
<p><strong>操作如下：</strong></p>
<ul>
<li><p>在 iOS 设备上，前往“设置”&gt;“iCloud”，开启“邮件”，然后按照屏幕上的说明操作。</p>
</li>
<li><p>在 Mac 上，选取 Apple 菜单 &gt;“系统偏好设置”，点按“iCloud”，再选择“邮件”，然后按照屏幕上的说明操作。</p>
</li>
</ul>
<p>PS：创建 iCloud 电子邮件地址后，您无法对其进行更改。</p>
<p>设置 @icloud.com 电子邮件地址后即可用其登录 iCloud。您也可以用创建 iCloud 帐户时所用的 Apple ID 登录。</p>
<p>您可以从以下任意地址发送 iCloud 电子邮件：</p>
<p>您的 iCloud 电子邮件地址（您的帐号名称@icloud.com）</p>
<p>别名</p>
<p>参考链接：</p>
<p><strong>直接注册以@icloud.com 结尾的 Apple ID：</strong></p>
<p>参考链接：</p>
<h2 id="PodCast"><a href="#PodCast" class="headerlink" title="PodCast"></a>PodCast</h2><p>PodCast 中文翻译为播客，是一种特殊的音频 or 视频节目。PodCast 这个单词是由 iPod+Broadcast 这两个单词组成的。</p>
<p>PodCast 可以在 iTunes 中收听。</p>
<h2 id="others"><a href="#others" class="headerlink" title="others"></a>others</h2><h3 id="词典"><a href="#词典" class="headerlink" title="词典"></a>词典</h3><p>系统有一个自带应用「词典」，可以进行单词的查询。</p>
<h3 id="如何解决-MAC-软件（dmg，akp，app）出现程序已损坏的提示"><a href="#如何解决-MAC-软件（dmg，akp，app）出现程序已损坏的提示" class="headerlink" title="如何解决 MAC 软件（dmg，akp，app）出现程序已损坏的提示"></a>如何解决 MAC 软件（dmg，akp，app）出现程序已损坏的提示</h3><p>「xxx.app 已损坏,打不开.你应该将它移到废纸篓」，并非你安装的软件已损坏，而是 Mac 系统的安全设置问题，因为这些应用都是破解或者汉化的,那么解决方法就是临时改变 Mac 系统安全设置。</p>
<p>出现这个问题的解决方法：修改系统配置：系统偏好设置… -&gt; 安全性与隐私。修改为任何来源。</p>
<p>如果没有这个选项的话（macOS Sierra 10.12）,打开终端，执行：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo spctl --master-disable</span><br></pre></td></tr></table></figure>
<p>即可。</p>
<p>参考链接：</p>
<ul>
<li><p><a href="http://www.jianshu.com/p/379b49b88df9" target="_blank" rel="noopener">Max OS-[xxx.app 已损坏,打不开.你应该将它移到废纸篓]</a></p>
</li>
<li><p><a href="http://www.yunrui.co/25693.html" target="_blank" rel="noopener">如何解决 MAC 软件（dmg，akp，app）出现程序已损坏的提示</a></p>
</li>
</ul>
<p>备注：这个链接里的各种资源都很不错啊。</p>
<h4 id="终端"><a href="#终端" class="headerlink" title="终端"></a>终端</h4><h4 id="在-Finder-的当前目录打开终端"><a href="#在-Finder-的当前目录打开终端" class="headerlink" title="在 Finder 的当前目录打开终端"></a>在 Finder 的当前目录打开终端</h4><p>在 Finder 打开 terminal 终端这个功能其实是有的，但是系统默认没有打开。我们可以通过如下方法将其打开：</p>
<p>进入系统偏好设置-&gt;键盘-&gt;快捷键-&gt;服务。</p>
<p>在右边新建位于文件夹位置的终端窗口上打勾。</p>
<p>如此设置后，在 Finder 中右击某文件，在出现的菜单中找到服务，然后点击新建位于文件夹位置的终端窗口即可！</p>
<h2 id="Mac-常用快捷键"><a href="#Mac-常用快捷键" class="headerlink" title="Mac 常用快捷键"></a>Mac 常用快捷键</h2><h3 id="Finder"><a href="#Finder" class="headerlink" title="Finder"></a>Finder</h3><table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">作用</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Shift + Command + G</td>
<td style="text-align:left">前往指定路径的文件夹</td>
<td style="text-align:left">包括隐藏文件夹</td>
</tr>
<tr>
<td style="text-align:left">Shift + Command + .</td>
<td style="text-align:left">显示隐藏文件、文件夹</td>
<td style="text-align:left">再按一次，恢复隐藏</td>
</tr>
<tr>
<td style="text-align:left">Command + ↑</td>
<td style="text-align:left">返回上一层</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">Command + ↓</td>
<td style="text-align:left">进入当前文件夹</td>
</tr>
</tbody>
</table>
<h3 id="编辑"><a href="#编辑" class="headerlink" title="编辑"></a>编辑</h3><p><strong>删除文字</strong>：</p>
<table>
<thead>
<tr>
<th style="text-align:left">快捷键</th>
<th style="text-align:left">作用</th>
<th style="text-align:left">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">delete</td>
<td style="text-align:left">删除光标的前一个字符</td>
<td style="text-align:left">相当于 Windows 键盘上的退格键</td>
</tr>
<tr>
<td style="text-align:left">fn + delete</td>
<td style="text-align:left">删除光标的后一个字符</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">option + delete</td>
<td style="text-align:left">删除光标之前的一个单词</td>
<td style="text-align:left">英文有效</td>
</tr>
<tr>
<td style="text-align:left"><strong>command + delete</strong></td>
<td style="text-align:left">删除光标之前的整行内容</td>
<td style="text-align:left">【荐】</td>
</tr>
<tr>
<td style="text-align:left">command + delete</td>
<td style="text-align:left">在 finder 中删掉该文件</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">shift + command + delete</td>
<td style="text-align:left">清空回收站</td>
</tr>
</tbody>
</table>
<p><strong>剪切文件</strong>：</p>
<p>首先选中文件，按 Command+C 复制文件；然后按「Command ＋ Option ＋ V」剪切文件。</p>
<p>备注：Command+X 只能剪切文字文本，不要混淆了。</p>
<h2 id="Mac-用户必须知道的-15-组快捷键"><a href="#Mac-用户必须知道的-15-组快捷键" class="headerlink" title="Mac 用户必须知道的 15 组快捷键"></a>Mac 用户必须知道的 15 组快捷键</h2><blockquote>
<p>参考链接：<a href="http://v.youku.com/v_show/id_XNDE4MzM0NDgw.html" target="_blank" rel="noopener">《轻松玩 Mac》第 6 期：Mac 用户必须知道的 15 组快捷键</a></p>
</blockquote>
<h3 id="「space」键：快速预览"><a href="#「space」键：快速预览" class="headerlink" title="「space」键：快速预览"></a>「space」键：快速预览</h3><p>选中文件后， 不需要启动任何应用程序，使用「space」空格键可进行快速预览，再次按下「space」空格键取消预览。</p>
<p>可以预览 mp3、视频、pdf 等文件。</p>
<p>我们还可以<strong>选中多张图片</strong>， 然后按「space」键，就可以同时对比预览多张图片。这一点，很赞。</p>
<h3 id="改名"><a href="#改名" class="headerlink" title="改名"></a>改名</h3><p>选中文件/文件夹后，按 enter 键，就可以改名了。</p>
<h3 id="「command-I」键：查看文件属性"><a href="#「command-I」键：查看文件属性" class="headerlink" title="「command + I」键：查看文件属性"></a>「command + I」键：查看文件属性</h3><ul>
<li><p>选中文件后，按「command + I」键，可以查看文件的各种属性。</p>
</li>
<li><p>选中<strong>文件夹</strong>后，按「command + I」键，可以查看文件夹的大小。【荐】</p>
</li>
</ul>
<h3 id="切换输入法"><a href="#切换输入法" class="headerlink" title="切换输入法"></a>切换输入法</h3><p>「control + space」</p>
<h3 id="打开-spotlight-搜索框"><a href="#打开-spotlight-搜索框" class="headerlink" title="打开 spotlight 搜索框"></a>打开 spotlight 搜索框</h3><p>spotlight 是系统自带的软件，搜索功能不是很强大。我们一般都会用第三方的 Alfred 软件。</p>
<h3 id="编辑相关"><a href="#编辑相关" class="headerlink" title="编辑相关"></a>编辑相关</h3><p>Cmd+C、Cmd+V、Cmd+X、Cmd+A、Cmd+Z。</p>
<h3 id="翻页和光标"><a href="#翻页和光标" class="headerlink" title="翻页和光标"></a>翻页和光标</h3><ul>
<li><p>「control + ↑」：将光标定位到文章的最开头（翻页到文档的最上方）</p>
</li>
<li><p>「control + ↓」：将光标定位到文章的最末尾（翻页到文档的最下方）</p>
</li>
<li><p>「control + ←」：将光标定位到当前行的最左侧</p>
</li>
<li><p>「control + →」：将光标定位到当前行的最右侧</p>
</li>
</ul>
<h3 id="「command-shift-Y」：将文字快速保存到便笺"><a href="#「command-shift-Y」：将文字快速保存到便笺" class="headerlink" title="「command + shift + Y」：将文字快速保存到便笺"></a>「command + shift + Y」：将文字快速保存到便笺</h3><p>选中你想要的内容（例如文字、链接等），然后按下 command + shift + Y」，那么你选中的内容就会快速保存到系统自带的「便笺」软件中。</p>
<p>如果你想临时性的保存一段内容，这个操作很实用。</p>
<h3 id="程序相关"><a href="#程序相关" class="headerlink" title="程序相关"></a>程序相关</h3><ul>
<li><p>「command + Q」：快速退出程序</p>
</li>
<li><p>「command + tab」：切换程序</p>
</li>
<li><p>「command + H」：隐藏当前应用程序。这是一个有趣的快捷键。</p>
</li>
<li><p>「command + ，」：打开当前应用程序的「偏好设置」。</p>
</li>
</ul>
<h3 id="窗口相关"><a href="#窗口相关" class="headerlink" title="窗口相关"></a>窗口相关</h3><ul>
<li><p>「command + N」：新建一个当前应用程序的窗口</p>
</li>
<li><p>「command + `」：在当前应用程序的不同窗口之间切换【很实用】</p>
</li>
</ul>
<p>我们知道，「command + tab」是在不同的软件之间切换。但你不知道的是，「command + `」是在同一个软件的不同窗口之间切换。</p>
<ul>
<li><p>「command + M」：将当前窗口最小化</p>
</li>
<li><p>「command + W」：关闭当前窗口</p>
</li>
</ul>
<h3 id="浏览器相关"><a href="#浏览器相关" class="headerlink" title="浏览器相关"></a>浏览器相关</h3><ul>
<li><p>「command + T」：浏览器中，新建一个标签</p>
</li>
<li><p>「command + W」：关闭当前标签</p>
</li>
</ul>
<ul>
<li>「command + R」：强制刷新。</li>
</ul>
<ul>
<li>「command + L」：定位到地址栏。【重要】</li>
</ul>
<h3 id="截图相关"><a href="#截图相关" class="headerlink" title="截图相关"></a>截图相关</h3><ul>
<li>「command + shift + 3」：截全屏（对整个屏幕截图）。</li>
</ul>
<h3 id="声音相关"><a href="#声音相关" class="headerlink" title="声音相关"></a>声音相关</h3><p>选中文字后，按住「ctrl + esc」键，会将文字进行朗读。（我发现，在触控条版的 mac 上，并没有生效）</p>
<h3 id="Dock-栏相关"><a href="#Dock-栏相关" class="headerlink" title="Dock 栏相关"></a>Dock 栏相关</h3><ul>
<li>「option + command + D」：隐藏 dock 栏</li>
</ul>
<h3 id="强制推出"><a href="#强制推出" class="headerlink" title="强制推出"></a>强制推出</h3><blockquote>
<p>强制退出的快捷键非常重要</p>
</blockquote>
<ul>
<li>「option + command + esc」：打开强制退出的窗口</li>
</ul>
<h3 id="option-相关"><a href="#option-相关" class="headerlink" title="option 相关"></a>option 相关</h3><blockquote>
<p>强烈推荐</p>
</blockquote>
<ul>
<li><p>「option + command + H」：隐藏除当前应用程序之外的其他应用程序</p>
</li>
<li><p>在文本中，按住「option」键，配合鼠标的选中，可以进行块状文字选取。</p>
</li>
<li><p>「option + command + W」：快速关闭当前应用程序的所有窗口。【很实用】</p>
</li>
</ul>
<p>比如说，你一次性打开了很多文件的详情，然后就可以通过此快捷键，将这些窗口一次性关闭。</p>
<ul>
<li>「option + command + I」：查看多个文件的总的属性。</li>
</ul>
<ul>
<li><p>打开 launchpad，按住「option」键，可以快速卸载应用程序。</p>
</li>
<li><p>在 dock 栏，右键点击软件图标，同时按住「option」键，就可以<strong>强制退出</strong>该软件。【重要】</p>
</li>
</ul>
<ul>
<li>在 Safari 浏览器中，按住「option + command + Q」退出 Safari。等下次进入 Safari 的时候，上次退出时的网址会自动被打开。【实用】</li>
</ul>
<h3 id="推荐一个软件：CheatSheet"><a href="#推荐一个软件：CheatSheet" class="headerlink" title="推荐一个软件：CheatSheet"></a>推荐一个软件：CheatSheet</h3><p>打开 CheatSheet 后，长按 command 键，会弹出当前应用程序的所有快捷键。我们还可以对这些快捷键进行保存。</p>
<h2 id="books-学习资源"><a href="#books-学习资源" class="headerlink" title=":books: 学习资源"></a>:books: 学习资源</h2><ul>
<li><a href="https://github.com/jaywcjlove/awesome-mac" target="_blank" rel="noopener">Awesome Mac</a></li>
<li><a href="https://github.com/herrbischoff/awesome-macos-command-line" target="_blank" rel="noopener">awesome-macos-command-line</a></li>
</ul>
<h2 id="door-传送门"><a href="#door-传送门" class="headerlink" title=":door: 传送门"></a>:door: 传送门</h2><p>| <a href="https://github.com/dunwu/notes" target="_blank" rel="noopener">回首頁</a> |</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/programming/summary/如何学习一门编程语言/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/programming/summary/如何学习一门编程语言/" itemprop="url">如何学习一门编程语言</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="如何学习一门编程语言"><a href="#如何学习一门编程语言" class="headerlink" title="如何学习一门编程语言"></a>如何学习一门编程语言</h1><!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#前言">前言</a></li>
<li><a href="#学习编程语言的步骤">学习编程语言的步骤</a><ul>
<li><a href="#基本语法">基本语法</a></li>
<li><a href="#数组枚举集合">数组、枚举、集合</a></li>
<li><a href="#常用类">常用类</a></li>
<li><a href="#语言特性">语言特性</a></li>
<li><a href="#代码组织模块加载库管理">代码组织、模块加载、库管理</a></li>
<li><a href="#容错处理">容错处理</a></li>
<li><a href="#输入输出和文件处理">输入输出和文件处理</a></li>
<li><a href="#回调机制">回调机制</a></li>
<li><a href="#序列化和反序列化">序列化和反序列化</a></li>
<li><a href="#进阶特性">进阶特性</a></li>
<li><a href="#库和框架">库和框架</a></li>
</ul>
</li>
<li><a href="#小结">小结</a></li>
</ul>
<!-- /TOC -->
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>很多人喜欢争论什么什么编程语言好，我认为这个话题如果不限定应用范围，就毫无意义。</p>
<p>每种编程语言必然有其优点和缺点，这也决定了它有适合的应用场景和不适合的应用场景。现代软件行业，想一门编程语言包打天下是不现实的。这中现状也造成了一种现象，一个程序员往往要掌握多种编程语言。</p>
<p>学习任何一门编程语言，都会面临的第一个问题都是：如何学习 XX 语言？</p>
<p>我不想说什么多看、多学、多写、多练之类的废话。世上事有难易乎？无他，唯手熟尔。谁不知道熟能生巧的道理？</p>
<p>我觉得有必要谈谈的是：如何由浅入深的学习一门编程语言？学习所有编程语言有没有一个相对统一的学习方法？</p>
<p>曾几何时，当我还是一名小菜鸟时，总是叹服那些大神掌握多门编程语言。后来，在多年编程工作和学习中，我陆陆续续也接触过不少编程语言：C、C++、Java、C#、Javascript、shell 等等。每次学习一门新的编程语言，掌握程度或深或浅，但是学习的曲线却大抵相似。</p>
<p>下面，我按照个人的学习经验总结一下，学习编程语言的基本步骤。</p>
<h2 id="学习编程语言的步骤"><a href="#学习编程语言的步骤" class="headerlink" title="学习编程语言的步骤"></a>学习编程语言的步骤</h2><p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/images/programming/learn-programming-language.png"></div><br></p>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><p>首先当然是了解语言的最基本语法。</p>
<p>控制台输出，如 C 的 printf，Java 的 System.out.println 等。</p>
<p>普通程序员的第一行代码一般都是输出 “Hello World” 吧。</p>
<ul>
<li><p>基本数据类型</p>
<p>不同编程语言的基本数据类型不同。基本数据类型是的申请内存空间变得方便、规范化。</p>
</li>
<li><p>变量</p>
<p>不同编程语言的声明变量方式有很大不同。有的如 Java 、C++ 需要明确指定变量数据类型，这种叫强类型定义语言。有的语言（主要是脚本语言），如 Javascript、Shell 等，不需要明确指定数据类型，这种叫若类型定义语言。</p>
<p>还需要注意的一点是变量的作用域范围和生命周期。不同语言变量的作用域范围和生命周期不一定一样，这个需要在代码中细细体会，有时会为此埋雷。</p>
</li>
<li><p>逻辑控制语句</p>
<p>编程语言都会有逻辑控制语句，哪怕是汇编语言。</p>
<p>掌握条件语句、循环语句、中断循环语句（break、continue）、选择语句。一般区别仅仅在于关键字、语法格式略有不同。</p>
</li>
<li><p>运算符</p>
<p>掌握基本运算符，如算术运算符、关系运算符、逻辑运算符、赋值运算符等。</p>
<p>有些语言还提供位运算符、特殊运算符，视情节掌握。</p>
</li>
<li><p>注释（没啥好说的）</p>
</li>
<li><p>函数</p>
<p>编程语言基本都有函数。注意语法格式：是否支持出参；支持哪些数据作为入参，有些语言允许将函数作为参数传入另一个参数（即回调）；返回值；如何退出函数（如 Java、C++的 return，）。</p>
</li>
</ul>
<h3 id="数组、枚举、集合"><a href="#数组、枚举、集合" class="headerlink" title="数组、枚举、集合"></a>数组、枚举、集合</h3><p>枚举只有部分编程语言有，如 Java、C++、C#。</p>
<p>但是数组和集合（有些语言叫容器）一般编程语言都有，只是有的编程语言提供的集合比较丰富。使用方法基本类似。</p>
<h3 id="常用类"><a href="#常用类" class="headerlink" title="常用类"></a>常用类</h3><p>比较常用的类（当然有些语言中不叫类，叫对象或者其他什么，这个不重要，领会精神）请了解其 API 用法，如：字符串、日期、数学计算等等。</p>
<h3 id="语言特性"><a href="#语言特性" class="headerlink" title="语言特性"></a>语言特性</h3><p>语言特性这个特字反映的就是各个编程语言自身的”独特个性”，这涉及的点比较多，简单列举一些。</p>
<p><strong>编程模式</strong></p>
<p>比较流行的编程模式大概有：</p>
<p>面向对象编程，主要是封装、继承、多态；函数式编程，主要是应用 Lambda；过程式编程，可以理解为实现需求功能的特定步骤。</p>
<p>每种编程模式都有一定的道理，我从不认为只有面向对象编程才是王道。</p>
<p>Java 是面向对象语言，从 Java8 开始也支持函数编程（引入 Lambda 表达式）；C++ 可以算是半面向对象，半面向过程式语言。</p>
<p><strong>语言自身特性</strong></p>
<p>每个语言自身都有一些重要特性需要了解。例如，学习 C、C++，你必须了解内存的申请和释放，了解指针、引用。而学习 Java，你需要了解 JVM，垃圾回收机制。学习 Javascript，你需要了解 DOM 操作等。</p>
<h3 id="代码组织、模块加载、库管理"><a href="#代码组织、模块加载、库管理" class="headerlink" title="代码组织、模块加载、库管理"></a>代码组织、模块加载、库管理</h3><p>一个程序一般都有很多个源代码文件。这就会引入这些问题：如何将代码文件组织起来？如何根据业务需要，选择将部分模块启动时进行加载，部分模块使用懒加载（或者热加载）？</p>
<p>最基本的引用文件就不提了，如 C、C++的#include，Java 的 import 等。</p>
<p>针对代码组织、模块加载、库管理这些问题，不同语言会有不同的解决方案。</p>
<p>如 Java 可以用 maven、gradle 管理项目依赖、组织代码结构；Javascript （包括 Nodejs、jquery、react 等等库）可以用 npm、yarn 管理依赖，用 webpack 等工具管理模块加载。</p>
<h3 id="容错处理"><a href="#容错处理" class="headerlink" title="容错处理"></a>容错处理</h3><p>程序总难免会有 bug。</p>
<p>所以为了代码健壮性也好，为了方便定位问题也好，代码中需要有容错处理。常见的手段有：</p>
<ul>
<li>异常</li>
<li>断言</li>
<li>日志</li>
<li>调试</li>
<li>单元测试</li>
</ul>
<h3 id="输入输出和文件处理"><a href="#输入输出和文件处理" class="headerlink" title="输入输出和文件处理"></a>输入输出和文件处理</h3><p>这块知识比较繁杂。建议提纲挈领的学习一下，理解基本概念，比如输入输出流、管道等等。至于 API，用到的时候再查一下即可。</p>
<h3 id="回调机制"><a href="#回调机制" class="headerlink" title="回调机制"></a>回调机制</h3><p>每种语言实现回调的方式有所不同，如 .Net 的 delegate （大量被用于 WinForm 程序）；Javascript 中函数天然支持回调：Javascript 函数允许传入另一个函数作为入参，然后在方法中调用它。其它语言的回调方式不一一列举。</p>
<h3 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h3><p>首先需要了解的是，序列化和反序列化的作用是为了在不同平台之间传输对象。</p>
<p>其次，要知道序列化存在多种方式，不同编程语言可能有多种方案。根据应用的序列化方式，选择性了解即可。</p>
<h3 id="进阶特性"><a href="#进阶特性" class="headerlink" title="进阶特性"></a>进阶特性</h3><p>以下学习内容属于进阶性内容。可以根据开发需要去学习、掌握。需要注意的是，学习这些特性的态度应该是不学则已，学则死磕。因为半懂半不懂，特别容易引入问题。</p>
<p><em>对于半桶水的同学，我想说：放过自己，也放过别人，活着不好吗？</em></p>
<p><strong>并发编程：</strong>好处多多，十分重要，但是并发代码容易出错，且出错难以定位。要学习还是要花很大力气的，需要了解大量知识，如：进程、线程、同步、异步、读写锁等等。</p>
<p><strong>反射：</strong>让你可以动态编程（慎用）。</p>
<p><strong>泛型：</strong>集合（或者叫容器）的基石。精通泛型，能大大提高你的代码效率。</p>
<p><strong>元数据</strong>：描述数据的数据。Java 中叫做注解。</p>
<h3 id="库和框架"><a href="#库和框架" class="headerlink" title="库和框架"></a>库和框架</h3><p>学习一门编程语言，难免需要用到围绕它构建的技术生态圈——库和框架。这方面知识范围太庞大，根据实际应用领域去学习吧。比如搞 JavaWeb，你多多少少肯定要用到 Spring、Mybatis、Hibernate、Shiro 等大量开发框架；如果做 Javascript 前端，你可能会用到 React、Vue、Angular 、jQuery 等库或框架。</p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>总结以上，编程语言学习的道路是任重而道远的，未来是光明的。</p>
<p>最后一句话与君共勉：路漫漫兮其修远，吾将上下而求索。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/web/nginx/install-nginx/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/web/nginx/install-nginx/" itemprop="url">Nginx 安装</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Nginx-安装"><a href="#Nginx-安装" class="headerlink" title="Nginx 安装"></a>Nginx 安装</h1><!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#windows-安装">Windows 安装</a></li>
<li><a href="#linux-安装">Linux 安装</a><ul>
<li><a href="#rpm-包方式推荐">rpm 包方式（推荐）</a></li>
<li><a href="#源码编译方式">源码编译方式</a></li>
</ul>
</li>
<li><a href="#linux-开机自启动">Linux 开机自启动</a><ul>
<li><a href="#rpm-包方式">rpm 包方式</a></li>
<li><a href="#源码编译方式-1">源码编译方式</a></li>
</ul>
</li>
<li><a href="#脚本">脚本</a></li>
<li><a href="#参考资料">参考资料</a></li>
</ul>
<!-- /TOC -->
<h2 id="Windows-安装"><a href="#Windows-安装" class="headerlink" title="Windows 安装"></a>Windows 安装</h2><p>（1）进入<a href="https://nginx.org/en/download.html" target="_blank" rel="noopener">官方下载地址</a>，选择合适版本（nginx/Windows-xxx）。</p>
<p><br><div align="center"><img src="http://oyz7npk35.bkt.clouddn.com/images/20180920181023092347.png"></div><br></p>
<p>（2）解压到本地</p>
<p><br><div align="center"><img src="http://oyz7npk35.bkt.clouddn.com/images/20180920181023092044.png"></div><br></p>
<p>（3）启动</p>
<p>下面以 C 盘根目录为例说明下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd C:</span><br><span class="line">cd C:\nginx-0.8.54 start nginx</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：Nginx / Win32 是运行在一个控制台程序，而非 windows 服务方式的。服务器方式目前还是开发尝试中。</p>
</blockquote>
<h2 id="Linux-安装"><a href="#Linux-安装" class="headerlink" title="Linux 安装"></a>Linux 安装</h2><h3 id="rpm-包方式（推荐）"><a href="#rpm-包方式（推荐）" class="headerlink" title="rpm 包方式（推荐）"></a>rpm 包方式（推荐）</h3><p>（1）进入<a href="http://nginx.org/packages/" target="_blank" rel="noopener">下载页面</a>，选择合适版本下载。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ wget http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm</span><br></pre></td></tr></table></figure>
<p>（2）安装 nginx rpm 包</p>
<p>nginx rpm 包实际上安装的是 nginx 的 yum 源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rpm -ivh nginx-*.rpm</span><br></pre></td></tr></table></figure>
<p>（3）正式安装 rpm 包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum install nginx</span><br></pre></td></tr></table></figure>
<p>（4）关闭防火墙</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">$ firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<h3 id="源码编译方式"><a href="#源码编译方式" class="headerlink" title="源码编译方式"></a>源码编译方式</h3><h4 id="安装编译工具及库文件"><a href="#安装编译工具及库文件" class="headerlink" title="安装编译工具及库文件"></a>安装编译工具及库文件</h4><p>Nginx 源码的编译依赖于 gcc 以及一些库文件，所以必须提前安装。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yum -y install make zlib zlib-devel gcc-c++ libtool  openssl openssl-devel</span><br></pre></td></tr></table></figure>
<p>Nginx 依赖 pcre 库，安装步骤如下：</p>
<p>（1）下载解压到本地</p>
<p>进入<a href="https://sourceforge.net/projects/pcre/files/pcre/" target="_blank" rel="noopener">pcre 官网下载页面</a>，选择合适的版本下载。</p>
<p>我选择的是 8.35 版本：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -O /opt/pcre/pcre-8.35.tar.gz http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz</span><br><span class="line">cd /opt/pcre</span><br><span class="line">tar zxvf pcre-8.35.tar.gz</span><br></pre></td></tr></table></figure>
<p>（2）编译安装</p>
<p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/pcre/pcre-8.35</span><br><span class="line">./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>（3）检验是否安装成功</p>
<p>执行 <code>pcre-config --version</code> 命令。</p>
<h4 id="安装-Nginx"><a href="#安装-Nginx" class="headerlink" title="安装 Nginx"></a>安装 Nginx</h4><p>安装步骤如下：</p>
<p>（1）下载解压到本地</p>
<p>进入官网下载地址：<a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">http://nginx.org/en/download.html</a> ，选择合适的版本下载。</p>
<p>我选择的是 1.12.2 版本：<a href="http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz" target="_blank" rel="noopener">http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -O /opt/nginx/nginx-1.12.2.tar.gz http://nginx.org/download/nginx-1.12.2.tar.gz</span><br><span class="line">cd /opt/nginx</span><br><span class="line">tar zxvf nginx-1.12.2.tar.gz</span><br></pre></td></tr></table></figure>
<p>（2）编译安装</p>
<p>执行以下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/nginx/nginx-1.12.2</span><br><span class="line">./configure --with-http_stub_status_module --with-http_ssl_module --with-pcre=/opt/pcre/pcre-8.35</span><br></pre></td></tr></table></figure>
<p>（3）关闭防火墙</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br><span class="line">$ firewall-cmd --reload</span><br></pre></td></tr></table></figure>
<p>（4） 启动 Nginx</p>
<p>安装成功后，直接执行 <code>nginx</code> 命令即可启动 nginx。</p>
<p>启动后，访问站点：</p>
<p><br><div align="center"><img src="http://oyz7npk35.bkt.clouddn.com/images/20180920181016133223.png"></div><br></p>
<h2 id="Linux-开机自启动"><a href="#Linux-开机自启动" class="headerlink" title="Linux 开机自启动"></a>Linux 开机自启动</h2><p>Centos7 以上是用 Systemd 进行系统初始化的，Systemd 是 Linux 系统中最新的初始化系统（init），它主要的设计目标是克服 sysvinit 固有的缺点，提高系统的启动速度。Systemd 服务文件以 .service 结尾。</p>
<h3 id="rpm-包方式"><a href="#rpm-包方式" class="headerlink" title="rpm 包方式"></a>rpm 包方式</h3><p>如果是通过 rpm 包安装的，会自动创建 nginx.service 文件。</p>
<p>直接用命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ systemctl <span class="built_in">enable</span> nginx.service</span><br></pre></td></tr></table></figure>
<p>设置开机启动即可。</p>
<h3 id="源码编译方式-1"><a href="#源码编译方式-1" class="headerlink" title="源码编译方式"></a>源码编译方式</h3><p>如果采用源码编译方式，需要手动创建 nginx.service 文件。</p>
<h2 id="脚本"><a href="#脚本" class="headerlink" title="脚本"></a>脚本</h2><p>| <a href="https://github.com/dunwu/linux/tree/master/codes/deploy/tool/nginx" target="_blank" rel="noopener">安装脚本</a> |</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li><a href="http://www.dohooe.com/2016/03/03/352.html?utm_source=tuicool&amp;utm_medium=referral" target="_blank" rel="noopener">http://www.dohooe.com/2016/03/03/352.html?utm_source=tuicool&amp;utm_medium=referral</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/frontend/qa/eslint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/frontend/qa/eslint/" itemprop="url">ESLint</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h1><p>ESLint 是一种用于识别和报告 ECMAScript / JavaScript 代码中的模式的工具。在许多方面，它类似于 JSLint 和 JSHint，但有一些例外：</p>
<ul>
<li>ESLint 使用 Espree 进行 JavaScript 解析。</li>
<li>ESLint 使用 AST 来评估代码中的模式。</li>
<li>ESLint 是完全可插拔的，每个规则都是一个插件，您可以在运行时添加更多。</li>
</ul>
<!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#安装">安装</a></li>
<li><a href="#eslint-配置">ESLint 配置</a><ul>
<li><a href="#指定解析器选项">指定解析器选项</a></li>
<li><a href="#指定解析器">指定解析器</a></li>
<li><a href="#指定环境">指定环境</a></li>
<li><a href="#指定全局变量">指定全局变量</a></li>
<li><a href="#配置插件">配置插件</a></li>
<li><a href="#配置规则">配置规则</a></li>
<li><a href="#使用行注释禁用规则">使用行注释禁用规则</a></li>
<li><a href="#添加分享配置">添加分享配置</a></li>
<li><a href="#使用配置文件">使用配置文件</a></li>
<li><a href="#配置文件文件格式">配置文件文件格式</a></li>
<li><a href="#配置的层级和继承">配置的层级和继承</a></li>
<li><a href="#扩展配置文件">扩展配置文件</a></li>
<li><a href="#基于-glob-模式的配置">基于 glob 模式的配置</a></li>
<li><a href="#在配置文件中注释">在配置文件中注释</a></li>
<li><a href="#指定需要检查的文件扩展名">指定需要检查的文件扩展名</a></li>
<li><a href="#忽略文件和目录">忽略文件和目录</a></li>
</ul>
</li>
<li><a href="#实战">实战</a><ul>
<li><a href="#eslint-集成-airbnb">ESLint 集成 Airbnb</a></li>
</ul>
</li>
<li><a href="#eslint-命令">ESLint 命令</a><ul>
<li><a href="#选项">选项</a></li>
<li><a href="#eslintignore-文件">.eslintignore 文件</a></li>
</ul>
</li>
<li><a href="#更多内容">更多内容</a></li>
</ul>
<!-- /TOC -->
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>（1）本地安装</p>
<p>如果要将 ESLint 作为项目构建系统的一部分，我们建议在本地进行安装。你可以使用 npm：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install eslint --save-dev</span><br></pre></td></tr></table></figure>
<p>然后您应该设置一个配置文件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint --init</span><br></pre></td></tr></table></figure>
<p>之后，您可以在项目的根目录中运行 ESLint，如下所示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ./node_modules/.bin/eslint yourfile.js</span><br></pre></td></tr></table></figure>
<p>您使用的任何插件或可共享配置也必须在本地安装以与本地安装的 ESLint 配合使用。</p>
<p>（2）全局安装</p>
<p>如果要使 ESLint 可用于跨所有项目运行的工具，我们建议在全局安装 ESLint。你可以使用 npm：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g eslint</span><br></pre></td></tr></table></figure>
<p>然后您应该设置一个配置文件：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ eslint --init</span><br></pre></td></tr></table></figure>
<p>之后，您可以在任何文件或目录下运行 ESLint，如下所示：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ eslint yourfile.js</span><br></pre></td></tr></table></figure>
<p>您使用的任何插件或可共享配置也必须全局安装，才能使用全局安装的 ESLint。</p>
<blockquote>
<p>注意：eslint –init 旨在根据每个项目设置和配置 ESLint，并将 ESLint 及其插件的本地安装运行在其运行的目录中。如果您希望使用 ESLint 的全局安装，则配置中使用的任何插件也必须全局安装</p>
</blockquote>
<h2 id="ESLint-配置"><a href="#ESLint-配置" class="headerlink" title="ESLint 配置"></a>ESLint 配置</h2><p>运行 <code>eslint --init</code> 后，您的目录中将有一个 <code>.eslintrc</code> 文件。在其中，您将看到一些如下配置的规则：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"rules"</span>: &#123;</span><br><span class="line">    <span class="attr">"semi"</span>: [<span class="string">"error"</span>, <span class="string">"always"</span>],</span><br><span class="line">    <span class="attr">"quotes"</span>: [<span class="string">"error"</span>, <span class="string">"double"</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>semi</code> 和 <code>quotes</code> 是 ESLint 中规则的名称。第一个值是规则的错误级别，可以是以下值之一：</p>
<ul>
<li><code>off</code> or <code>0</code> -  关闭规则</li>
<li><code>warn</code> or <code>1</code> -  将规则作为警告（不影响退出代码）</li>
<li><code>error</code> or <code>2</code> -  将规则作为错误（退出代码将为 1）</li>
</ul>
<p>这三个错误级别允许您细分控制 ESLint 如何应用规则（有关更多配置选项和详细信息，请参阅<a href="https://eslint.org/docs/user-guide/configuring" target="_blank" rel="noopener">配置文档</a>）。</p>
<p>您的 <code>.eslintrc</code> 配置文件也将包括以下行：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"extends": "eslint:recommended"</span><br></pre></td></tr></table></figure>
<p>由于这一行，<a href="https://eslint.org/docs/rules/" target="_blank" rel="noopener">规则页面</a>上的所有打钩的规则都将被打开。或者，您可以通过在  <a href="https://www.npmjs.com/search?q=eslint-config" target="_blank" rel="noopener">npmjs.com</a> 上搜索 “eslint-config” 来使用其他人创建的配置。 ESLint 不会删除您的代码，除非您从共享配置中扩展或在配置中明确地打开规则。</p>
<p>ESlint 被设计为完全可配置的，这意味着你可以关闭每一个规则而只运行基本语法验证，或混合和匹配 ESLint 默认绑定的规则和你的自定义规则，以让 ESLint 更适合你的项目。有两种主要的方式来配置 ESLint：</p>
<ol>
<li><strong>Configuration Comments</strong> - 使用 JavaScript 注释把配置信息直接嵌入到一个代码源文件中。</li>
<li><strong>Configuration Files</strong> - 使用 JavaScript、JSON 或者 YAML 文件为整个目录和它的子目录指定配置信息。可以配置一个独立的  <a href="https://cn.eslint.org/docs/user-guide/configuring#configuration-file-formats" target="_blank" rel="noopener">.eslintrc.*</a>  文件，或者直接在  <a href="https://docs.npmjs.com/files/package.json" target="_blank" rel="noopener"><code>package.json</code></a>  文件里的  <code>eslintConfig</code>  字段指定配置，ESLint 会查找和自动读取它们，再者，你可以在<a href="https://cn.eslint.org/docs/user-guide/command-line-interface" target="_blank" rel="noopener">命令行</a>运行时指定一个任意的配置文件。</li>
</ol>
<p>有很多信息可以配置：</p>
<ul>
<li><strong>Environments</strong> - 指定脚本的运行环境。每种环境都会有一组特定的预定义全局变量。</li>
<li><strong>Globals</strong> - 脚本在执行期间访问的额外的全局变量。</li>
<li><strong>Rules</strong> - 启用的规则及其各自的错误级别。</li>
</ul>
<p>所有这些选项让你可以细粒度地控制 ESLint 如何对待你的代码。</p>
<h3 id="指定解析器选项"><a href="#指定解析器选项" class="headerlink" title="指定解析器选项"></a>指定解析器选项</h3><p>ESLint 允许你指定你想要支持的 JavaScript 语言选项。默认情况下，ESLint 支持 ECMAScript 5 语法。你可以覆盖该设置，以启用对 ECMAScript 其它版本和 JSX 的支持。</p>
<p>请注意，对 JSX 语法的支持不用于对 React 的支持。React 使用了一些特定的 ESLint 无法识别的 JSX 语法。如果你正在使用 React 并且想要 React 语义支持，我们推荐你使用  <a href="https://github.com/yannickcr/eslint-plugin-react" target="_blank" rel="noopener">eslint-plugin-react</a>。</p>
<p>同样的，支持 ES6 语法并不意味着同时支持新的 ES6 全局变量或类型（比如  <code>Set</code>  等新类型）。使用  <code>{ &quot;parserOptions&quot;: { &quot;ecmaVersion&quot;: 6 } }</code>  来启用 ES6 语法支持；要额外支持新的 ES6 全局变量，使用  <code>{ &quot;env&quot;:{ &quot;es6&quot;: true } }</code>(这个设置会同时自动启用 ES6 语法支持)。</p>
<p>解析器选项可以在  <code>.eslintrc.*</code>  文件使用  <code>parserOptions</code>  属性设置。可用的选项有：</p>
<ul>
<li><code>ecmaVersion</code> - 默认设置为 5， 你可以使用 3、5、6、7 或 8 来指定你想要使用的 ECMAScript 版本。你也可以用使用年份命名的版本号指定为 2015（同 6），2016（同 7），或 2017（同 8）</li>
<li><code>sourceType</code> - 设置为  <code>script</code> (默认) 或  <code>module</code>（如果你的代码是 ECMAScript 模块)。</li>
<li><code>ecmaFeatures</code> - 这是个对象，表示你想使用的额外的语言特性:<code>globalReturn</code> - 允许在全局作用域下使用  <code>return</code>  语句<code>impliedStrict</code> - 启用全局  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode" target="_blank" rel="noopener">strict mode</a> (如果  <code>ecmaVersion</code>  是 5 或更高)<code>jsx</code> - 启用  <a href="http://facebook.github.io/jsx/" target="_blank" rel="noopener">JSX</a><code>experimentalObjectRestSpread</code> - 启用实验性的  <a href="https://github.com/sebmarkbage/ecmascript-rest-spread" target="_blank" rel="noopener">object rest/spread properties</a>  支持。(<strong>重要：</strong>这是一个实验性的功能,在未来可能会有明显改变。 建议你写的规则  <strong>不要</strong>  依赖该功能，除非当它发生改变时你愿意承担维护成本。)</li>
</ul>
<p><code>.eslintrc.json</code>  文件示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;parserOptions&quot;: &#123;</span><br><span class="line">        &quot;ecmaVersion&quot;: 6,</span><br><span class="line">        &quot;sourceType&quot;: &quot;module&quot;,</span><br><span class="line">        &quot;ecmaFeatures&quot;: &#123;</span><br><span class="line">            &quot;jsx&quot;: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;semi&quot;: 2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>设置解析器选项能帮助 ESLint 确定什么是解析错误，所有语言选项默认都是  <code>false</code>。</p>
<h3 id="指定解析器"><a href="#指定解析器" class="headerlink" title="指定解析器"></a>指定解析器</h3><p>ESLint 默认使用<a href="https://github.com/eslint/espree" target="_blank" rel="noopener">Espree</a>作为其解析器，你可以在配置文件中指定一个不同的解析器，只要该解析器符合下列要求：</p>
<ol>
<li>它必须是本地安装的一个 npm 模块。</li>
<li>它必须有兼容 Esprima 的接口（它必须输出一个  <code>parse()</code>  方法）</li>
<li>它必须产出兼容 Esprima 的 AST 和 token 对象。</li>
</ol>
<p>注意，即使满足这些兼容性要求，也不能保证一个外部解析器可以与 ESLint 正常配合工作，ESLint 也不会修复与其它解析器不兼容的相关 bug。</p>
<p>为了表明使用该 npm 模块作为你的解析器，你需要在你的  <code>.eslintrc</code>  文件里指定  <code>parser</code>  选项。例如，下面的配置指定了 Esprima 作为解析器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;parser&quot;: &quot;esprima&quot;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;semi&quot;: &quot;error&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>以下解析器与 ESLint 兼容：</p>
<ul>
<li><a href="https://npmjs.com/package/esprima" target="_blank" rel="noopener">Esprima</a></li>
<li><a href="https://npmjs.com/package/babel-eslint" target="_blank" rel="noopener">Babel-ESLint</a> - 一个对<a href="http://babeljs.io/" target="_blank" rel="noopener">Babel</a>解析器的包装，使其能够与 ESLint 兼容。</li>
<li><a href="https://npmjs.com/package/typescript-eslint-parser" target="_blank" rel="noopener">typescript-eslint-parser(实验)</a> - 一个把 TypeScript 转换为 ESTree 兼容格式的解析器，这样它就可以在 ESLint 中使用了。这样做的目的是通过 ESLint 来解析 TypeScript 文件（尽管不一定必须通过所有的 ESLint 规则）。</li>
</ul>
<p>注意，在使用自定义解析器时，为了让 ESLint 在处理非 ECMAScript 5 特性时正常工作，配置属性  <code>parserOptions</code>  仍然是必须的。解析器会被传入  <code>parserOptions</code>，但是不一定会使用它们来决定功能特性的开关。</p>
<h3 id="指定环境"><a href="#指定环境" class="headerlink" title="指定环境"></a>指定环境</h3><p>一个“环境”定义了一组预定义的全局变量。可用的环境包括：</p>
<ul>
<li><code>browser</code> - 浏览器环境中的全局变量。</li>
<li><code>node</code> - Node.js 全局变量和 Node.js 作用域。</li>
<li><code>commonjs</code> - CommonJS 全局变量和 CommonJS 作用域 (一般用于 Browserify/WebPack 打包的只在浏览器中运行的代码)。</li>
<li><code>shared-node-browser</code> - Node 和 Browser 通用全局变量。</li>
<li><code>es6</code> - 启用除了 modules 以外的所有 ECMAScript 6 特性（该选项会自动设置  <code>ecmaVersion</code>  解析器选项为 6）。</li>
<li><code>worker</code> - Web Workers 全局变量。</li>
<li><code>amd</code> - 将  <code>require()</code>  和  <code>define()</code>  定义为像  <a href="https://github.com/amdjs/amdjs-api/wiki/AMD" target="_blank" rel="noopener">amd</a>  一样的全局变量。</li>
<li><code>mocha</code> - 添加所有的 Mocha 测试全局变量。</li>
<li><code>jasmine</code> - 添加所有的 Jasmine 版本 1.3 和 2.0 的测试全局变量。</li>
<li><code>jest</code> - Jest 全局变量。</li>
<li><code>phantomjs</code> - PhantomJS 全局变量。</li>
<li><code>protractor</code> - Protractor 全局变量。</li>
<li><code>qunit</code> - QUnit 全局变量。</li>
<li><code>jquery</code> - jQuery 全局变量。</li>
<li><code>prototypejs</code> - Prototype.js 全局变量。</li>
<li><code>shelljs</code> - ShellJS 全局变量。</li>
<li><code>meteor</code> - Meteor 全局变量。</li>
<li><code>mongo</code> - MongoDB 全局变量。</li>
<li><code>applescript</code> - AppleScript 全局变量。</li>
<li><code>nashorn</code> - Java 8 Nashorn 全局变量。</li>
<li><code>serviceworker</code> - Service Worker 全局变量。</li>
<li><code>atomtest</code> - Atom 测试全局变量。</li>
<li><code>embertest</code> - Ember 测试全局变量。</li>
<li><code>webextensions</code> - WebExtensions 全局变量。</li>
<li><code>greasemonkey</code> - GreaseMonkey 全局变量。</li>
</ul>
<p>这些环境并不是互斥的，所以你可以同时定义多个。</p>
<p>可以在源文件里、在配置文件中或使用  <a href="https://cn.eslint.org/docs/user-guide/command-line-interface" target="_blank" rel="noopener">命令行</a>  的  <code>--env</code>  选项来指定环境。</p>
<p>要在你的 JavaScript 文件中使用注释来指定环境，格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-env node, mocha */</span><br></pre></td></tr></table></figure>
<p>该设置启用了 Node.js 和 Mocha 环境。</p>
<p>要在配置文件里指定环境，使用  <code>env</code>  关键字指定你想启用的环境，并设置它们为  <code>true</code>。例如，以下示例启用了 browser 和 Node.js 的环境：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;browser&quot;: true,</span><br><span class="line">        &quot;node&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或在  <code>package.json</code>  文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;mypackage&quot;,</span><br><span class="line">    &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">    &quot;eslintConfig&quot;: &#123;</span><br><span class="line">        &quot;env&quot;: &#123;</span><br><span class="line">            &quot;browser&quot;: true,</span><br><span class="line">            &quot;node&quot;: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  env:</span><br><span class="line">    browser: true</span><br><span class="line">    node: true</span><br></pre></td></tr></table></figure>
<p>如果你想在一个特定的插件中使用一种环境，确保提前在  <code>plugins</code>  数组里指定了插件名，然后在 env 配置中不带前缀的插件名后跟一个  <code>/</code> ，紧随着环境名。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;plugins&quot;: [&quot;example&quot;],</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;example/custom&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>或在  <code>package.json</code>  文件中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;mypackage&quot;,</span><br><span class="line">    &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">    &quot;eslintConfig&quot;: &#123;</span><br><span class="line">        &quot;plugins&quot;: [&quot;example&quot;],</span><br><span class="line">        &quot;env&quot;: &#123;</span><br><span class="line">            &quot;example/custom&quot;: true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  plugins:</span><br><span class="line">    - example</span><br><span class="line">  env:</span><br><span class="line">    example/custom: true</span><br></pre></td></tr></table></figure>
<h3 id="指定全局变量"><a href="#指定全局变量" class="headerlink" title="指定全局变量"></a>指定全局变量</h3><p>当访问当前源文件内未定义的变量时，<a href="https://cn.eslint.org/docs/rules/no-undef" target="_blank" rel="noopener">no-undef</a>  规则将发出警告。如果你想在一个源文件里使用全局变量，推荐你在 ESLint 中定义这些全局变量，这样 ESLint 就不会发出警告了。你可以使用注释或在配置文件中定义全局变量。</p>
<p>要在你的 JavaScript 文件中，用注释指定全局变量，格式如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* global var1, var2 */</span><br></pre></td></tr></table></figure>
<p>这里定义了两个全局变量：<code>var1</code>  和  <code>var2</code>。如果你想指定这些变量不应被重写（只读），你可以将它们设置为  <code>false</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* global var1:false, var2:false */</span><br></pre></td></tr></table></figure>
<p>在配置文件里配置全局变量时，使用  <code>globals</code>  指出你要使用的全局变量。将变量设置为  <code>true</code>  将允许变量被重写，或  <code>false</code>  将不允许被重写。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;globals&quot;: &#123;</span><br><span class="line">        &quot;var1&quot;: true,</span><br><span class="line">        &quot;var2&quot;: false</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  globals:</span><br><span class="line">    var1: true</span><br><span class="line">    var2: false</span><br></pre></td></tr></table></figure>
<p>在这些例子中  <code>var1</code>  允许被重写，<code>var2</code>  不允许被重写。</p>
<p><strong>注意：</strong>  要启用<a href="https://cn.eslint.org/docs/rules/no-global-assign" target="_blank" rel="noopener">no-global-assign</a>规则来禁止对只读的全局变量进行修改。</p>
<h3 id="配置插件"><a href="#配置插件" class="headerlink" title="配置插件"></a>配置插件</h3><p>ESLint 支持使用第三方插件。在使用插件之前，你必须使用 npm 安装它。</p>
<p>在配置文件里配置插件时，可以使用  <code>plugins</code>  关键字来存放插件名字的列表。插件名称可以省略  <code>eslint-plugin-</code>  前缀。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;plugin1&quot;,</span><br><span class="line">        &quot;eslint-plugin-plugin2&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  plugins:</span><br><span class="line">    - plugin1</span><br><span class="line">    - eslint-plugin-plugin2</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>全局安装的 ESLint 只能使用全局安装的插件。本地安装的 ESLint 不仅可以使用本地安装的插件，也可以使用全局安装的插件。</p>
<h3 id="配置规则"><a href="#配置规则" class="headerlink" title="配置规则"></a>配置规则</h3><p>ESLint 附带有大量的规则。你可以使用注释或配置文件修改你项目中要使用的规则。要改变一个规则设置，你必须将规则 ID 设置为下列值之一：</p>
<ul>
<li><code>off</code>  或  <code>0</code> - 关闭规则</li>
<li><code>warn</code>  或  <code>1</code> - 开启规则，使用警告级别的错误：<code>warn</code> (不会导致程序退出)</li>
<li><code>error</code>  或  <code>2</code> - 开启规则，使用错误级别的错误：<code>error</code> (当被触发的时候，程序会退出)</li>
</ul>
<p>为了在文件注释里配置规则，使用以下格式的注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* eslint eqeqeq: &quot;off&quot;, curly: &quot;error&quot; */</span><br></pre></td></tr></table></figure>
<p>在这个例子里，<a href="https://cn.eslint.org/docs/rules/eqeqeq" target="_blank" rel="noopener"><code>eqeqeq</code></a>  规则被关闭，<a href="https://cn.eslint.org/docs/rules/curly" target="_blank" rel="noopener"><code>curly</code></a>  规则被打开，定义为错误级别。你也可以使用对应的数字定义规则严重程度：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* eslint eqeqeq: 0, curly: 2 */</span><br></pre></td></tr></table></figure>
<p>这个例子和上个例子是一样的，只不过它是用的数字而不是字符串。<code>eqeqeq</code>  规则是关闭的，<code>curly</code>  规则被设置为错误级别。</p>
<p>如果一个规则有额外的选项，你可以使用数组字面量指定它们，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* eslint quotes: [&quot;error&quot;, &quot;double&quot;], curly: 2 */</span><br></pre></td></tr></table></figure>
<p>这条注释为规则  <a href="https://cn.eslint.org/docs/rules/quotes" target="_blank" rel="noopener"><code>quotes</code></a>  指定了 “double”选项。数组的第一项总是规则的严重程度（数字或字符串）。</p>
<p>还可以使用  <code>rules</code>  连同错误级别和任何你想使用的选项，在配置文件中进行规则配置。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;eqeqeq&quot;: &quot;off&quot;,</span><br><span class="line">        &quot;curly&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;quotes&quot;: [&quot;error&quot;, &quot;double&quot;]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">rules:</span><br><span class="line">  eqeqeq: off</span><br><span class="line">  curly: error</span><br><span class="line">  quotes:</span><br><span class="line">    - error</span><br><span class="line">    - double</span><br></pre></td></tr></table></figure>
<p>配置定义在插件中的一个规则的时候，你必须使用  <code>插件名/规则ID</code>  的形式。比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;plugin1&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;eqeqeq&quot;: &quot;off&quot;,</span><br><span class="line">        &quot;curly&quot;: &quot;error&quot;,</span><br><span class="line">        &quot;quotes&quot;: [&quot;error&quot;, &quot;double&quot;],</span><br><span class="line">        &quot;plugin1/rule1&quot;: &quot;error&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">plugins:</span><br><span class="line">  - plugin1</span><br><span class="line">rules:</span><br><span class="line">  eqeqeq: 0</span><br><span class="line">  curly: error</span><br><span class="line">  quotes:</span><br><span class="line">    - error</span><br><span class="line">    - &quot;double&quot;</span><br><span class="line">  plugin1/rule1: error</span><br></pre></td></tr></table></figure>
<p>在这些配置文件中，规则  <code>plugin1/rule1</code>  表示来自插件  <code>plugin1</code>  的  <code>rule1</code>  规则。你也可以使用这种格式的注释配置，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/* eslint &quot;plugin1/rule1&quot;: &quot;error&quot; */</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>当指定来自插件的规则时，确保删除  <code>eslint-plugin-</code>  前缀。ESLint 在内部只使用没有前缀的名称去定位规则。</p>
<h3 id="使用行注释禁用规则"><a href="#使用行注释禁用规则" class="headerlink" title="使用行注释禁用规则"></a>使用行注释禁用规则</h3><p>可以在你的文件中使用以下格式的块注释来临时禁止规则出现警告：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-disable */</span><br><span class="line"></span><br><span class="line">alert(&apos;foo&apos;);</span><br><span class="line"></span><br><span class="line">/* eslint-enable */</span><br></pre></td></tr></table></figure>
<p>你也可以对指定的规则启用或禁用警告:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-disable no-alert, no-console */</span><br><span class="line"></span><br><span class="line">alert(&apos;foo&apos;);</span><br><span class="line">console.log(&apos;bar&apos;);</span><br><span class="line"></span><br><span class="line">/* eslint-enable no-alert, no-console */</span><br></pre></td></tr></table></figure>
<p>如果在整个文件范围内禁止规则出现警告，将  <code>/* eslint-disable */</code>  块注释放在文件顶部：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-disable */</span><br><span class="line"></span><br><span class="line">alert(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
<p>你也可以对整个文件启用或禁用警告:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* eslint-disable no-alert */</span><br><span class="line"></span><br><span class="line">// Disables no-alert for the rest of the file</span><br><span class="line">alert(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
<p>可以在你的文件中使用以下格式的行注释在某一特定的行上禁用所有规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert(&apos;foo&apos;); // eslint-disable-line</span><br><span class="line"></span><br><span class="line">// eslint-disable-next-line</span><br><span class="line">alert(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
<p>在某一特定的行上禁用某个指定的规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert(&apos;foo&apos;); // eslint-disable-line no-alert</span><br><span class="line"></span><br><span class="line">// eslint-disable-next-line no-alert</span><br><span class="line">alert(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
<p>在某个特定的行上禁用多个规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">alert(&apos;foo&apos;); // eslint-disable-line no-alert, quotes, semi</span><br><span class="line"></span><br><span class="line">// eslint-disable-next-line no-alert, quotes, semi</span><br><span class="line">alert(&apos;foo&apos;);</span><br></pre></td></tr></table></figure>
<p>上面的所有方法同样适用于插件规则。例如，禁止  <code>eslint-plugin-example</code>  的  <code>rule-name</code>  规则，把插件名（<code>example</code>）和规则名（<code>rule-name</code>）结合为  <code>example/rule-name</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo(); // eslint-disable-line example/rule-name</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>为文件的某部分禁用警告的注释，告诉 ESLint 不要对禁用的代码报告规则的冲突。ESLint 仍解析整个文件，然而，禁用的代码仍需要是有效的 JavaScript 语法。</p>
<h3 id="添加分享配置"><a href="#添加分享配置" class="headerlink" title="添加分享配置"></a>添加分享配置</h3><p>ESLint 支持在配置文件添加共享设置。你可以添加  <code>settings</code>  对象到配置文件，它将提供给每一个将被执行的规则。如果你想添加的自定义规则而且使它们可以访问到相同的信息，这将会很有用，并且很容易配置。</p>
<p>在 JSON 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;sharedData&quot;: &quot;Hello&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  settings:</span><br><span class="line">    sharedData: &quot;Hello&quot;</span><br></pre></td></tr></table></figure>
<h3 id="使用配置文件"><a href="#使用配置文件" class="headerlink" title="使用配置文件"></a>使用配置文件</h3><p>有两种方式可以使用配置文件。第一种是将文件保存到你喜欢的地方，然后将它的位置使用  <code>-c</code>  选项传递命令行，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -c myconfig.json myfiletotest.js</span><br></pre></td></tr></table></figure>
<p>第二种方式是通过  <code>.eslintrc.*</code>  和  <code>package.json</code>。ESLint 将自动在要检测的文件目录里寻找它们，紧接着是父级目录，一直到文件系统的根目录。当你想对一个项目的不同部分的使用不同配置，或当你希望别人能够直接使用 ESLint，而无需记住要在配置文件中传递什么，这种方式就很有用。</p>
<p>每种情况，配置文件都会覆盖默认设置。</p>
<h3 id="配置文件文件格式"><a href="#配置文件文件格式" class="headerlink" title="配置文件文件格式"></a>配置文件文件格式</h3><p>ESLint 支持几种格式的配置文件：</p>
<ul>
<li><strong>JavaScript</strong> - 使用  <code>.eslintrc.js</code>  然后输出一个配置对象。</li>
<li><strong>YAML</strong> - 使用  <code>.eslintrc.yaml</code>  或  <code>.eslintrc.yml</code>  去定义配置的结构。</li>
<li><strong>JSON</strong> - 使用  <code>.eslintrc.json</code>  去定义配置的结构，ESLint 的 JSON 文件允许 JavaScript 风格的注释。</li>
<li><strong>(不推荐)</strong> - 使用  <code>.eslintrc</code>，可以使 JSON 也可以是 YAML。</li>
<li><strong>package.json</strong> - 在  <code>package.json</code>  里创建一个  <code>eslintConfig</code>属性，在那里定义你的配置。</li>
</ul>
<p>如果同一个目录下有多个配置文件，ESLint 只会使用一个。优先级顺序如下：</p>
<ol>
<li><code>.eslintrc.js</code></li>
<li><code>.eslintrc.yaml</code></li>
<li><code>.eslintrc.yml</code></li>
<li><code>.eslintrc.json</code></li>
<li><code>.eslintrc</code></li>
<li><code>package.json</code></li>
</ol>
<h3 id="配置的层级和继承"><a href="#配置的层级和继承" class="headerlink" title="配置的层级和继承"></a>配置的层级和继承</h3><p>当使用  <code>.eslintrc.*</code>  和  <code>package.json</code>文件的配置时，你可以利用层叠配置。例如，假如你有以下结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">your-project</span><br><span class="line">├── .eslintrc</span><br><span class="line">├── lib</span><br><span class="line">│ └── source.js</span><br><span class="line">└─┬ tests</span><br><span class="line">  ├── .eslintrc</span><br><span class="line">  └── test.js</span><br></pre></td></tr></table></figure>
<p>层叠配置使用离要检测的文件最近的  <code>.eslintrc</code>文件作为最高优先级，然后才是父目录里的配置文件，等等。当你在这个项目中允许 ESLint 时，<code>lib/</code>下面的所有文件将使用项目根目录里的  <code>.eslintrc</code>  文件作为它的配置文件。当 ESLint 遍历到  <code>test/</code>  目录，<code>your-project/.eslintrc</code>  之外，它还会用到  <code>your-project/tests/.eslintrc</code>。所以  <code>your-project/tests/test.js</code>  是基于它的目录层次结构中的两个<code>.eslintrc</code>  文件的组合，并且离的最近的一个优先。通过这种方式，你可以有项目级 ESLint 设置，也有覆盖特定目录的 ESLint 设置。</p>
<p>同样的，如果在根目录的  <code>package.json</code>  文件中有一个  <code>eslintConfig</code>  字段，其中的配置将使用于所有子目录，但是当  <code>tests</code>  目录下的  <code>.eslintrc</code>  文件中的规则与之发生冲突时，就会覆盖它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">your-project</span><br><span class="line">├── package.json</span><br><span class="line">├── lib</span><br><span class="line">│ └── source.js</span><br><span class="line">└─┬ tests</span><br><span class="line">  ├── .eslintrc</span><br><span class="line">  └── test.js</span><br></pre></td></tr></table></figure>
<p>如果同一目录下  <code>.eslintrc</code>  和  <code>package.json</code>  同时存在，<code>.eslintrc</code>  优先级高会被使用，<code>package.json</code>  文件将不会被使用。</p>
<p><strong>注意：</strong>如果在你的主目录下有一个自定义的配置文件 (<code>\~/.eslintrc</code>) ，如果没有其它配置文件时它才会被使用。因为个人配置将适用于用户目录下的所有目录和文件，包括第三方的代码，当 ESLint 运行时可能会导致问题。</p>
<p>默认情况下，ESLint 会在所有父级目录里寻找配置文件，一直到根目录。如果你想要你所有项目都遵循一个特定的约定时，这将会很有用，但有时候会导致意想不到的结果。为了将 ESLint 限制到一个特定的项目，在你项目根目录下的  <code>package.json</code>  文件或者  <code>.eslintrc.*</code>  文件里的  <code>eslintConfig</code>  字段下设置  <code>root&quot;: true</code>。ESLint 一旦发现配置文件中有  <code>root&quot;: true</code>，它就会停止在父级目录中寻找。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;root&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在 YAML 中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">  root: true</span><br></pre></td></tr></table></figure>
<p>例如，<code>projectA</code>  的  <code>lib/</code>  目录下的  <code>.eslintrc</code>  文件中设置了  <code>root&quot;: true</code>。这种情况下，当检测  <code>main.js</code>  时，<code>lib/</code>  下的配置将会被使用，<code>projectA/</code>  下的  <code>.eslintrc</code>  将不会被使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">home</span><br><span class="line">└── user</span><br><span class="line">    ├── .eslintrc &lt;- Always skipped if other configs present</span><br><span class="line">    └── projectA</span><br><span class="line">        ├── .eslintrc  &lt;- Not used</span><br><span class="line">        └── lib</span><br><span class="line">            ├── .eslintrc  &lt;- &#123; &quot;root&quot;: true &#125;</span><br><span class="line">            └── main.js</span><br></pre></td></tr></table></figure>
<p>完整的配置层次结构，从最高优先级最低的优先级，如下:</p>
<ol>
<li>行内配置<ol>
<li><code>/*eslint-disable*/</code>  和  <code>/*eslint-enable*/</code></li>
<li><code>/*global*/</code></li>
<li><code>/*eslint*/</code></li>
<li><code>/*eslint-env*/</code></li>
</ol>
</li>
<li>命令行选项：<ol>
<li><code>--global</code></li>
<li><code>--rule</code></li>
<li><code>--env</code></li>
<li><code>-c</code>、<code>--config</code></li>
</ol>
</li>
<li>项目级配置：<ol>
<li>与要检测的文件在同一目录下的  <code>.eslintrc.*</code>  或  <code>package.json</code>  文件</li>
<li>继续在父级目录寻找  <code>.eslintrc</code>  或  <code>package.json</code>文件，直到根目录（包括根目录）或直到发现一个有<code>root&quot;: true</code>的配置。</li>
<li>如果不是（1）到（3）中的任何一种情况，退回到  <code>\~/.eslintrc</code>  中自定义的默认配置。</li>
</ol>
</li>
</ol>
<h3 id="扩展配置文件"><a href="#扩展配置文件" class="headerlink" title="扩展配置文件"></a>扩展配置文件</h3><p>一个配置文件可以被基础配置中的已启用的规则继承。</p>
<p><code>extends</code>  属性值可以是：</p>
<ul>
<li>在配置中指定的一个字符串</li>
<li>字符串数组：每个配置继承它前面的配置</li>
</ul>
<p>ESLint 递归地进行扩展配置，所以一个基础的配置也可以有一个  <code>extends</code>  属性。</p>
<p><code>rules</code>  属性可以做下面的任何事情以扩展（或覆盖）规则：</p>
<ul>
<li>启用额外的规则</li>
<li>改变继承的规则级别而不改变它的选项：<ul>
<li>基础配置：<code>eqeqeq&quot;: [&quot;error&quot;, &quot;allow-null&quot;]</code></li>
<li>派生的配置：<code>eqeqeq&quot;: &quot;warn</code></li>
<li>最后生成的配置：<code>eqeqeq&quot;: [&quot;warn&quot;, &quot;allow-null&quot;]</code></li>
</ul>
</li>
<li>覆盖基础配置中的规则的选项<ul>
<li>基础配置：<code>quotes&quot;: [&quot;error&quot;, &quot;single&quot;, &quot;avoid-escape&quot;]</code></li>
<li>派生的配置：<code>quotes&quot;: [&quot;error&quot;, &quot;single&quot;]</code></li>
<li>最后生成的配置：<code>quotes&quot;: [&quot;error&quot;, &quot;single&quot;]</code></li>
</ul>
</li>
</ul>
<h4 id="使用-eslint-recommended"><a href="#使用-eslint-recommended" class="headerlink" title="使用  eslint:recommended"></a>使用  eslint:recommended</h4><p>值为  <code>eslint:recommended</code>  的  <code>extends</code>  属性启用一系列核心规则，这些规则报告一些常见问题，在  <a href="https://cn.eslint.org/docs/rules/" target="_blank" rel="noopener">规则页面</a>  中被标记为   。这个推荐的子集只能在 ESLint 主要版本进行更新。</p>
<p>如果你的配置集成了推荐的规则：在你升级到 ESLint 新的主版本之后，在你使用<a href="https://cn.eslint.org/docs/user-guide/command-line-interface#fix" target="_blank" rel="noopener">命令行</a>的  <code>--fix</code>  选项之前，检查一下报告的问题，这样你就知道一个新的可修复的推荐的规则将更改代码。</p>
<p><code>eslint --init</code>  命令可以创建一个配置，这样你就可以继承推荐的规则。</p>
<p>JavaScript 格式的一个配置文件的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    &quot;extends&quot;: &quot;eslint:recommended&quot;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        // enable additional rules</span><br><span class="line">        &quot;indent&quot;: [&quot;error&quot;, 4],</span><br><span class="line">        &quot;linebreak-style&quot;: [&quot;error&quot;, &quot;unix&quot;],</span><br><span class="line">        &quot;quotes&quot;: [&quot;error&quot;, &quot;double&quot;],</span><br><span class="line">        &quot;semi&quot;: [&quot;error&quot;, &quot;always&quot;],</span><br><span class="line"></span><br><span class="line">        // override default options for rules from base configurations</span><br><span class="line">        &quot;comma-dangle&quot;: [&quot;error&quot;, &quot;always&quot;],</span><br><span class="line">        &quot;no-cond-assign&quot;: [&quot;error&quot;, &quot;always&quot;],</span><br><span class="line"></span><br><span class="line">        // disable rules from base configurations</span><br><span class="line">        &quot;no-console&quot;: &quot;off&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用可共享的配置包"><a href="#使用可共享的配置包" class="headerlink" title="使用可共享的配置包"></a>使用可共享的配置包</h4><p><a href="https://cn.eslint.org/docs/developer-guide/shareable-configs" target="_blank" rel="noopener">可共享的配置</a>  是一个 npm 包，它输出一个配置对象。要确保这个包安装在 ESLint 能请求到的目录下。</p>
<p><code>extends</code>  属性值可以省略包名的前缀  <code>eslint-config-</code>。</p>
<p><code>eslint --init</code>  命令可以创建一个配置，这样你就可以扩展一个流行的风格指南（比如，<code>eslint-config-standard</code>）。</p>
<p>YAML 格式的一个配置文件的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">extends: standard</span><br><span class="line">rules:</span><br><span class="line">  comma-dangle:</span><br><span class="line">    - error</span><br><span class="line">    - always</span><br><span class="line">  no-empty: warn</span><br></pre></td></tr></table></figure>
<h4 id="使用插件中的配置"><a href="#使用插件中的配置" class="headerlink" title="使用插件中的配置"></a>使用插件中的配置</h4><p><a href="https://cn.eslint.org/docs/developer-guide/working-with-plugins" target="_blank" rel="noopener">插件</a>  是一个 npm 包，通常输出规则。一些插件也可以输出一个或多个命名的  <a href="https://cn.eslint.org/docs/developer-guide/working-with-plugins#configs-in-plugins" target="_blank" rel="noopener">配置</a>。要确保这个包安装在 ESLint 能请求到的目录下。</p>
<p><code>plugins</code> <a href="https://cn.eslint.org/docs/user-guide/configuring#configuring-plugins" target="_blank" rel="noopener">属性值</a>  可以省略包名的前缀  <code>eslint-plugin-</code>。</p>
<p><code>extends</code>  属性值可以由以下组成：</p>
<ul>
<li><code>plugin:</code></li>
<li>包名 (省略了前缀，比如，<code>react</code>)</li>
<li><code>/</code></li>
<li>配置名称 (比如  <code>recommended</code>)</li>
</ul>
<p>JSON 格式的一个配置文件的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;react&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;extends&quot;: [</span><br><span class="line">        &quot;eslint:recommended&quot;,</span><br><span class="line">        &quot;plugin:react/recommended&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">       &quot;no-set-state&quot;: &quot;off&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用一个配置文件"><a href="#使用一个配置文件" class="headerlink" title="使用一个配置文件"></a>使用一个配置文件</h4><p><code>extends</code>  属性值可以是基本<a href="https://cn.eslint.org/docs/user-guide/configuring#using-configuration-files" target="_blank" rel="noopener">配置文件</a>的绝对路径或相对路径。</p>
<p>ESLint 解析基本配置文件的相对路径相对你你使用的配置文件，<strong>除非</strong>那个文件在你的主目录或非 ESLint 安装目录的父级目录。在这些情况下，ESLint 解析基本配合文件的相对路径相对于被检测的  <strong>项目</strong>目录（尤其是当前工作目录）。</p>
<p>JSON 格式的一个配置文件的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;extends&quot;: [</span><br><span class="line">        &quot;./node_modules/coding-standard/eslintDefaults.js&quot;,</span><br><span class="line">        &quot;./node_modules/coding-standard/.eslintrc-es6&quot;,</span><br><span class="line">        &quot;./node_modules/coding-standard/.eslintrc-jsx&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;eqeqeq&quot;: &quot;warn&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="使用-eslint-all"><a href="#使用-eslint-all" class="headerlink" title="使用  eslint:all"></a>使用  eslint:all</h4><p><code>extends</code>  属性值可以是  <code>eslint:all</code>，启用当前安装的 ESLint 中所有的核心规则。这些规则可以在 ESLint 的任何版本进行更改。</p>
<p><strong>重要：</strong>这些配置  <strong>不推荐在产品中使用</strong>，因为它随着 ESLint 版本进行更改。使用的话，请自己承担风险。</p>
<p>如果你配置 ESLint 升级时自动地启用新规则，当源码没有任何改变时，ESLint 可以报告新问题，因此任何 ESLint 的新的小版本好像有破坏性的更改。</p>
<p>当你决定在一个项目上使用的规则和选项，尤其是如果你很少覆盖选项或禁用规则，你可能启用所有核心规则作为一种快捷方式使用。规则的默认选项并不是 ESLint 推荐的（例如，<code>quotes</code>  规则的默认选项并不意味着双引号要比单引号好）。</p>
<p>如果你的配置扩展了所有的核心规则：在你升级到一个新的大或小的 ESLint 版本，在你使用<a href="https://cn.eslint.org/docs/user-guide/command-line-interface#fix" target="_blank" rel="noopener">命令行</a>的  <code>--fix</code>  选项之前，检查一下报告的问题，这样你就知道一个新的可修复的规则将更改代码。</p>
<p>JavaScript 格式的一个配置文件的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">module.exports = &#123;</span><br><span class="line">    &quot;extends&quot;: &quot;eslint:all&quot;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        // override default options</span><br><span class="line">        &quot;comma-dangle&quot;: [&quot;error&quot;, &quot;always&quot;],</span><br><span class="line">        &quot;indent&quot;: [&quot;error&quot;, 2],</span><br><span class="line">        &quot;no-cond-assign&quot;: [&quot;error&quot;, &quot;always&quot;],</span><br><span class="line"></span><br><span class="line">        // disable now, but enable in the future</span><br><span class="line">        &quot;one-var&quot;: &quot;off&quot;, // [&quot;error&quot;, &quot;never&quot;]</span><br><span class="line"></span><br><span class="line">        // disable</span><br><span class="line">        &quot;init-declarations&quot;: &quot;off&quot;,</span><br><span class="line">        &quot;no-console&quot;: &quot;off&quot;,</span><br><span class="line">        &quot;no-inline-comments&quot;: &quot;off&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="基于-glob-模式的配置"><a href="#基于-glob-模式的配置" class="headerlink" title="基于 glob 模式的配置"></a>基于 glob 模式的配置</h3><p>有时，你可能需要更精细的配置，比如，如果同一个目录下的文件需要有不同的配置。因此，你可以在配置中使用  <code>overrides</code>  键，它只适用于匹配特定的 glob 模式的文件，使用你在命令行上传递的格式 (e.g., <code>app/**/*.test.js</code>)。</p>
<h4 id="怎么工作"><a href="#怎么工作" class="headerlink" title="怎么工作"></a>怎么工作</h4><ul>
<li>Glob 模式覆盖只能在配置文件 (<code>.eslintrc.*</code>  或  <code>package.json</code>) 中进行配置。</li>
<li>模式应用于相对于配置文件的目录的文件路径。 比如，如果你的配置文件的路径为  <code>/Users/john/workspace/any-project/.eslintrc.js</code>  而你要检测的路径为  <code>/Users/john/workspace/any-project/lib/util.js</code>，那么你在  <code>.eslintrc.js</code>  中提供的模式是相对于 <code>lib/util.js</code> 来执行的.</li>
<li>在相同的配置文件中，Glob 模式覆盖比其他常规配置具有更高的优先级。 同一个配置中的多个覆盖将按顺序被应用。也就是说，配置文件中的最后一个覆盖会有最高优先级。</li>
<li>一个 glob 特定的配置几乎与 ESLint 的其他配置相同。覆盖块可以包含常规配置中的除了  <code>extends</code>、<code>overrides</code>  和  <code>root</code>  之外的其他任何有效配置选项，</li>
<li>可以在单个覆盖块中提供多个 glob 模式。一个文件必须匹配至少一个配置中提供的模式。</li>
<li>覆盖块也可以指定从匹配中排除的模式。如果一个文件匹配了任何一个排除模式，该配置将不再被应用。</li>
</ul>
<h4 id="相对-glob-模式"><a href="#相对-glob-模式" class="headerlink" title="相对 glob 模式"></a>相对 glob 模式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">project-root</span><br><span class="line">├── app</span><br><span class="line">│   ├── lib</span><br><span class="line">│   │   ├── foo.js</span><br><span class="line">│   │   ├── fooSpec.js</span><br><span class="line">│   ├── components</span><br><span class="line">│   │   ├── bar.js</span><br><span class="line">│   │   ├── barSpec.js</span><br><span class="line">│   ├── .eslintrc.json</span><br><span class="line">├── server</span><br><span class="line">│   ├── server.js</span><br><span class="line">│   ├── serverSpec.js</span><br><span class="line">├── .eslintrc.json</span><br></pre></td></tr></table></figure>
<p><code>app/.eslintrc.json</code>  文件中的配置定义了 glob 模式  <code>**/*Spec.js</code>。该模式是相对  <code>app/.eslintrc.json</code>  的基本目录的。因此，该模式将匹配  <code>app/lib/fooSpec.js</code>  和  <code>app/components/barSpec.js</code>  但  <strong>不匹配</strong> <code>server/serverSpec.js</code>。如果你在项目根目录下的  <code>.eslintrc.json</code>  文件中定义了同样的模式，它将匹配这三个  <code>*Spec</code>  文件。</p>
<h4 id="配置示例"><a href="#配置示例" class="headerlink" title="配置示例"></a>配置示例</h4><p>在你的  <code>.eslintrc.json</code>  文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;rules&quot;: &#123;</span><br><span class="line">    &quot;quotes&quot;: [ 2, &quot;double&quot; ]</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  &quot;overrides&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">      &quot;files&quot;: [ &quot;bin/*.js&quot;, &quot;lib/*.js&quot; ],</span><br><span class="line">      &quot;excludedFiles&quot;: &quot;*.test.js&quot;,</span><br><span class="line">      &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;quotes&quot;: [ 2, &quot;single&quot; ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="在配置文件中注释"><a href="#在配置文件中注释" class="headerlink" title="在配置文件中注释"></a>在配置文件中注释</h3><p>JSON 和 YAML 配置文件格式都支持注释 ( <code>package.json</code>  文件不应该包括注释)。你可以在其他类型的文件中使用 JavaScript 风格的注释或使用 YAML 风格的注释，ESLint 会忽略它们。这允许你的配置更加人性化。例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;browser&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        // Override our default settings just for this directory</span><br><span class="line">        &quot;eqeqeq&quot;: &quot;warn&quot;,</span><br><span class="line">        &quot;strict&quot;: &quot;off&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="指定需要检查的文件扩展名"><a href="#指定需要检查的文件扩展名" class="headerlink" title="指定需要检查的文件扩展名"></a>指定需要检查的文件扩展名</h3><p>目前，告诉 ESLint 哪个文件扩展名要检测的唯一方法是使用  <a href="https://cn.eslint.org/docs/user-guide/command-line-interface#ext" target="_blank" rel="noopener"><code>--ext</code></a>  命令行选项指定一个逗号分隔的扩展名列表。注意，该标记只在与目录一起使用时有效，如果使用文件名或 glob 模式，它将会被忽略。</p>
<h3 id="忽略文件和目录"><a href="#忽略文件和目录" class="headerlink" title="忽略文件和目录"></a>忽略文件和目录</h3><p>你可以通过在项目根目录创建一个  <code>.eslintignore</code>  文件告诉 ESLint 去忽略特定的文件和目录。<code>.eslintignore</code>  文件是一个纯文本文件，其中的每一行都是一个 glob 模式表明哪些路径应该忽略检测。例如，以下将忽略所有的 JavaScript 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">**/*.js</span><br></pre></td></tr></table></figure>
<p>当 ESLint 运行时，在确定哪些文件要检测之前，它会在当前工作目录中查找一个  <code>.eslintignore</code>  文件。如果发现了这个文件，当遍历目录时，将会应用这些偏好设置。一次只有一个  <code>.eslintignore</code>  文件会被使用，所以，不是当前工作目录下的  <code>.eslintignore</code>  文件将不会被用到。</p>
<p>Globs 匹配使用  <a href="https://github.com/kaelzhang/node-ignore" target="_blank" rel="noopener">node-ignore</a>，所以大量可用的特性有：</p>
<ul>
<li>以  <code>#</code>  开头的行被当作注释，不影响忽略模式。</li>
<li>路径是相对于  <code>.eslintignore</code>  的位置或当前工作目录。这也会影响通过  <code>--ignore-pattern</code>传递的路径。</li>
<li>忽略模式同  <code>.gitignore</code> <a href="http://git-scm.com/docs/gitignore" target="_blank" rel="noopener">规范</a></li>
<li>以  <code>!</code>  开头的行是否定模式，它将会重新包含一个之前被忽略的模式。</li>
</ul>
<p>除了  <code>.eslintignore</code>  文件中的模式，ESLint 总是忽略  <code>/node_modules/*</code>  和  <code>/bower_components/*</code>  中的文件。</p>
<p>例如：把下面  <code>.eslintignore</code>  文件放到当前工作目录里，将忽略  <code>node_modules</code>，<code>bower_components</code>  以及  <code>build/</code>  目录下除了  <code>build/index.js</code>  的所有文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">## /node_modules/* and /bower_components/* ignored by default</span><br><span class="line"></span><br><span class="line">## Ignore built files except build/index.js</span><br><span class="line">build/*</span><br><span class="line">!build/index.js</span><br></pre></td></tr></table></figure>
<h4 id="使用备用文件"><a href="#使用备用文件" class="headerlink" title="使用备用文件"></a>使用备用文件</h4><p>如果相比于当前工作目录下  <code>.eslintignore</code>  文件，你更想使用一个不同的文件，你可以在命令行使用  <code>--ignore-path</code>  选项指定它。例如，你可以使用  <code>.jshintignore</code>  文件，因为它有相同的格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --ignore-path .jshintignore file.js</span><br></pre></td></tr></table></figure>
<p>你也可以使用你的  <code>.gitignore</code>  文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --ignore-path .gitignore file.js</span><br></pre></td></tr></table></figure>
<p>任何文件只要满足标准忽略文件格式都可以用。记住，指定  <code>--ignore-path</code>  意味着任何现有的  <code>.eslintignore</code>  文件将不被使用。请注意，<code>.eslintignore</code>  中的匹配规则比  <code>.gitignore</code>  中的更严格。</p>
<h4 id="在-package-json-中使用-eslintConfig"><a href="#在-package-json-中使用-eslintConfig" class="headerlink" title="在 package.json 中使用 eslintConfig"></a>在 package.json 中使用 eslintConfig</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;mypackage&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.1&quot;,</span><br><span class="line">  &quot;eslintConfig&quot;: &#123;</span><br><span class="line">      &quot;env&quot;: &#123;</span><br><span class="line">          &quot;browser&quot;: true,</span><br><span class="line">          &quot;node&quot;: true</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;eslintIgnore&quot;: [&quot;hello.js&quot;, &quot;world.js&quot;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="忽略文件告警"><a href="#忽略文件告警" class="headerlink" title="忽略文件告警"></a>忽略文件告警</h4><p>当您将目录传递给 ESLint 时，文件和目录将被忽略。如果将特定文件传递给 ESLint，则会看到一条警告，指示该文件已被跳过。例如，假设你有一个 <code>.eslintignore</code> 文件，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">foo.js</span><br></pre></td></tr></table></figure>
<p>然后，您执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint foo.js</span><br></pre></td></tr></table></figure>
<p>您将会看到以下告警：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">foo.js</span><br><span class="line">  0:0  warning  File ignored because of your .eslintignore file. Use --no-ignore to override.</span><br><span class="line"></span><br><span class="line">✖ 1 problem (0 errors, 1 warning)</span><br></pre></td></tr></table></figure>
<p>发生此消息是因为 ESLint 不确定是否要检查该文件。如消息所示，您可以使用 <code>--no-ignore</code> 省略使用忽略规则。</p>
<h2 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h2><p>React 项目中，通常会使用 React、JSX、ES6 等特性，所以 ESLint 推荐的检查规则可能还不能满足我们对代码检查的需要。</p>
<h3 id="ESLint-集成-Airbnb"><a href="#ESLint-集成-Airbnb" class="headerlink" title="ESLint 集成 Airbnb"></a>ESLint 集成 Airbnb</h3><p>业界比较流行的 <a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener">Airbnb JavaScript Style</a> 可以说是一个不错的选择。</p>
<p><strong>那么如何让 ESLint 支持 Airbnb 呢？</strong></p>
<p>下面将一一道来。</p>
<h4 id="eslint-config-airbnb"><a href="#eslint-config-airbnb" class="headerlink" title="eslint-config-airbnb"></a>eslint-config-airbnb</h4><p><a href="https://www.npmjs.com/package/eslint-config-airbnb" target="_blank" rel="noopener">eslint-config-airbnb</a> 该包将 Airbnb 的规则作为 ESLint 可扩展的共享配置。</p>
<p><strong>安装方法一</strong></p>
<p>执行 <code>eslint --init</code> 命令，依次选择 <strong>Use a popular style guide</strong> -&gt; <strong>Airbnb</strong></p>
<p>ESLint 会自动下载 Airbnb 扩展所需的所有插件。</p>
<p><strong>安装方法二</strong></p>
<p>ESLint 默认的下载地址是 <a href="https://registry.npmjs.org/" target="_blank" rel="noopener">https://registry.npmjs.org/</a> ，由于是外网，可能会很慢。</p>
<p>如果你使用淘宝的 cnpm，也可以自己下载 Airbnb 扩展所需的插件：</p>
<ul>
<li><a href="https://www.npmjs.com/package/eslint-config-airbnb" target="_blank" rel="noopener">eslint-config-airbnb</a></li>
<li><a href="https://github.com/benmosher/eslint-plugin-import" target="_blank" rel="noopener">eslint-plugin-import</a></li>
<li><a href="https://github.com/evcohen/eslint-plugin-jsx-a11y" target="_blank" rel="noopener">eslint-plugin-jsx-a11y</a></li>
<li><a href="https://github.com/yannickcr/eslint-plugin-react" target="_blank" rel="noopener">eslint-plugin-react</a></li>
</ul>
<p>执行安装命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i -D eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react eslint-config-airbnb</span><br></pre></td></tr></table></figure>
<h4 id="babel-eslint"><a href="#babel-eslint" class="headerlink" title="babel-eslint"></a>babel-eslint</h4><p>由于 React 项目往往会使用 ES6 特性。ES6 若想识别 ES6 特性，需要相应的解析器，<a href="https://github.com/babel/babel-eslint" target="_blank" rel="noopener">babel-eslint</a> 是比较流行的选择。</p>
<p>执行安装命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm i -D babel-eslint</span><br></pre></td></tr></table></figure>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>ESLint 支持几种格式的配置文件，个人推荐使用 <code>.eslintrc.js</code> ，这是官方优先级最高的配置文件。</p>
<p>配置文件中配置 Airbnb 有几个重点项：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  // 指定校验的环境</span><br><span class="line">  'env': &#123;</span><br><span class="line">    'browser': true,</span><br><span class="line">    'node': true,</span><br><span class="line">    'es6': true,</span><br><span class="line">    'commonjs': true</span><br><span class="line">  &#125;,</span><br><span class="line">  // 指定扩展标准</span><br><span class="line">  'extends': ['airbnb'],</span><br><span class="line">  // 指定解析器</span><br><span class="line">  'parser': 'babel-eslint',</span><br><span class="line">  // 指定插件</span><br><span class="line">  'plugins': [</span><br><span class="line">    'import',</span><br><span class="line">    'jsx-a11y',</span><br><span class="line">    'react'</span><br><span class="line">  ],</span><br><span class="line">  'rules': &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Airbnb 的检查规则是比较严格的，如果你认为有些检查项没有必要，也可以自行在 <code>rules</code> 中修改。</p>
<h2 id="ESLint-命令"><a href="#ESLint-命令" class="headerlink" title="ESLint 命令"></a>ESLint 命令</h2><p>为了在 Node.js 上运行 ESLint，你必须先安装 npm。如果还没有安装 npm ，按照这里的说明进行安装：<a href="https://www.npmjs.com/" target="_blank" rel="noopener">https://www.npmjs.com/</a>。</p>
<p>一旦安装了 npm，运行下面的命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -g eslint</span><br></pre></td></tr></table></figure>
<p>这句命令从 npm 仓库安装了 ESLint CLI。使用以下格式运行 ESLint：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint [options] [file|dir|glob]*</span><br></pre></td></tr></table></figure>
<p>比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint file1.js file2.js</span><br></pre></td></tr></table></figure>
<p>或者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint lib/**</span><br></pre></td></tr></table></figure>
<p>请注意，传递一个 glob 模式作为参数时，它将由你的 shell 进行扩展。扩展的结果取决于你的 shell 及其配置。如果你想使用 node 的  <code>glob</code>  语法，你需要给参数加上引号（在 windows 系统运行时，如果你需要，也可以使用双引号 ），像下面这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint &quot;lib/**&quot;</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><p>命令行工具有几个选项，你可以通过运行  <code>eslint -h</code>  查看所有选项。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">eslint [options] file.js [file.js] [dir]</span><br><span class="line"></span><br><span class="line">Basic configuration:</span><br><span class="line">  -c, --config path::String    Use configuration from this file or shareable config</span><br><span class="line">  --no-eslintrc                Disable use of configuration from .eslintrc</span><br><span class="line">  --env [String]               Specify environments</span><br><span class="line">  --ext [String]               Specify JavaScript file extensions - default: .js</span><br><span class="line">  --global [String]            Define global variables</span><br><span class="line">  --parser String              Specify the parser to be used</span><br><span class="line">  --parser-options Object      Specify parser options</span><br><span class="line"></span><br><span class="line">Caching:</span><br><span class="line">  --cache                      Only check changed files - default: <span class="literal">false</span></span><br><span class="line">  --cache-file path::String    Path to the cache file. Deprecated: use --cache-location - default: .eslintcache</span><br><span class="line">  --cache-location path::String  Path to the cache file or directory</span><br><span class="line"></span><br><span class="line">Specifying rules and plugins:</span><br><span class="line">  --rulesdir [path::String]    Use additional rules from this directory</span><br><span class="line">  --plugin [String]            Specify plugins</span><br><span class="line">  --rule Object                Specify rules</span><br><span class="line"></span><br><span class="line">Ignoring files:</span><br><span class="line">  --ignore-path path::String   Specify path of ignore file</span><br><span class="line">  --no-ignore                  Disable use of ignore files and patterns</span><br><span class="line">  --ignore-pattern [String]    Pattern of files to ignore (<span class="keyword">in</span> addition to those <span class="keyword">in</span> .eslintignore)</span><br><span class="line"></span><br><span class="line">Using stdin:</span><br><span class="line">  --stdin                      Lint code provided on &lt;STDIN&gt; - default: <span class="literal">false</span></span><br><span class="line">  --stdin-filename String      Specify filename to process STDIN as</span><br><span class="line"></span><br><span class="line">Handling warnings:</span><br><span class="line">  --quiet                      Report errors only - default: <span class="literal">false</span></span><br><span class="line">  --max-warnings Int           Number of warnings to trigger nonzero <span class="built_in">exit</span> code - default: -1</span><br><span class="line"></span><br><span class="line">Output:</span><br><span class="line">  -o, --output-file path::String  Specify file to write report to</span><br><span class="line">  -f, --format String          Use a specific output format - default: stylish</span><br><span class="line">  --color, --no-color          Force enabling/disabling of color</span><br><span class="line"></span><br><span class="line">Miscellaneous:</span><br><span class="line">  --init                       Run config initialization wizard - default: <span class="literal">false</span></span><br><span class="line">  --fix                        Automatically fix problems</span><br><span class="line">  --debug                      Output debugging information</span><br><span class="line">  -h, --<span class="built_in">help</span>                   Show <span class="built_in">help</span></span><br><span class="line">  -v, --version                Output the version number</span><br><span class="line">  --no-inline-config           Prevent comments from changing config or rules</span><br><span class="line">  --<span class="built_in">print</span>-config path::String  Print the configuration <span class="keyword">for</span> the given file</span><br></pre></td></tr></table></figure>
<p>这些选项可以通过重复该选项或使用逗号分隔的列表进行指定（除了  <code>--ignore-pattern</code>  不允许第二种风格）。</p>
<p>示例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --ext .jsx --ext .js  lib/</span><br><span class="line">eslint --ext .jsx,.js  lib/</span><br></pre></td></tr></table></figure>
<h4 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h4><h5 id="c-config"><a href="#c-config" class="headerlink" title="-c, --config"></a><code>-c</code>, <code>--config</code></h5><p>该选项允许你为 ESLint (查看  <a href="https://cn.eslint.org/docs/user-guide/configuring" target="_blank" rel="noopener">Configuring ESLint</a>  了解更多)指定一个额外的配置文件。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -c ~/my-eslint.json file.js</span><br></pre></td></tr></table></figure>
<p>这个例子使用了  <code>\~/my-eslint.json</code>  作为配置文件。</p>
<p>它还接受  <a href="https://cn.eslint.org/docs/developer-guide/shareable-configs" target="_blank" rel="noopener">sharable config</a>  的一个模块的 ID。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -c myconfig file.js</span><br></pre></td></tr></table></figure>
<p>这个例子直接使用可共享的配置  <code>eslint-config-myconfig</code>。</p>
<h5 id="no-eslintrc"><a href="#no-eslintrc" class="headerlink" title="--no-eslintrc"></a><code>--no-eslintrc</code></h5><p>禁用  <code>.eslintrc</code>  和  <code>package.json</code>  文件中的配置。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --no-eslintrc file.js</span><br></pre></td></tr></table></figure>
<h5 id="env"><a href="#env" class="headerlink" title="--env"></a><code>--env</code></h5><p>这个选项用来指定环境。关于每种环境中定义的全局变量的详细信息请查看  <a href="https://cn.eslint.org/docs/user-guide/configuring" target="_blank" rel="noopener">configuration</a>  文档。该选项只能启用环境，不能禁用在其它配置文件中设置的环境。要指定多个环境的话，使用逗号分隔它们，或多次使用这个选项。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --env browser,node file.js</span><br><span class="line">eslint --env browser --env node file.js</span><br></pre></td></tr></table></figure>
<h5 id="ext"><a href="#ext" class="headerlink" title="--ext"></a><code>--ext</code></h5><p>这个选项允许你指定 ESLint 在指定的目录下查找 JavaScript 文件时要使用的文件扩展名。默认情况下，它使用  <code>.js</code>  作为唯一性文件扩展名。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">## Use only .js2 extension</span><br><span class="line">eslint . --ext .js2</span><br><span class="line"></span><br><span class="line">## Use both .js and .js2</span><br><span class="line">eslint . --ext .js --ext .js2</span><br><span class="line"></span><br><span class="line">## Also use both .js and .js2</span><br><span class="line">eslint . --ext .js,.js2</span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong>如果你使用了 glob 模式，则  <code>--ext</code>  被忽略</p>
<p>例如，<code>eslint lib/* --ext .js</code>  将匹配  <code>lib/</code>  下的所有文件，忽略扩展名。</p>
<h5 id="global"><a href="#global" class="headerlink" title="--global"></a><code>--global</code></h5><p>这个选项定义了全局变量，这样它们就不会被  <code>no-undef</code>  规则标记为未定义了。任何指定的全局变量默认是只读的，在变量名字后加上  <code>:true</code>  后会使它变为可写。要指定多个变量，使用逗号分隔它们，或多次使用这个选项。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --global require,exports:true file.js</span><br><span class="line">eslint --global require --global exports:true</span><br></pre></td></tr></table></figure>
<h5 id="parser"><a href="#parser" class="headerlink" title="--parser"></a><code>--parser</code></h5><p>该选项允许你为 ESLint 指定一个解析器。默认情况下，使用  <code>espree</code>。</p>
<h5 id="parser-options"><a href="#parser-options" class="headerlink" title="--parser-options"></a><code>--parser-options</code></h5><p>该选项允许你指定 ESLint 要使用的解析器选项。注意，可用的解析器选项取决于你所选用的解析器。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &apos;3 ** 4&apos; | eslint --stdin --parser-options=ecmaVersion:6 ## will fail with a parsing error</span><br><span class="line">echo &apos;3 ** 4&apos; | eslint --stdin --parser-options=ecmaVersion:7 ## succeeds, yay!</span><br></pre></td></tr></table></figure>
<h4 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h4><h5 id="cache"><a href="#cache" class="headerlink" title="--cache"></a><code>--cache</code></h5><p>存储处理过的文件的信息以便只对有改变的文件进行操作。缓存默认被存储在  <code>.eslintcache</code>。启用这个选项可以显著改善 ESLint 的运行时间，确保只对有改变的文件进行检测。</p>
<p><strong>注意：</strong>如果你运行 ESLint <code>--cache</code>，然后又运行 ESLint 不带  <code>--cache</code>，<code>.eslintcache</code>  文件将被删除。这是必要的，因为检测的结果可能会改变，使  <code>.eslintcache</code>  无效。如果你想控制缓存文件何时被删除，那么使用  <code>--cache-location</code>  来指定一个缓存文件的位置。</p>
<h5 id="cache-file"><a href="#cache-file" class="headerlink" title="--cache-file"></a><code>--cache-file</code></h5><p>缓存文件的路径。如果没有指定，则使用  <code>.eslintcache</code>。这个文件会在  <code>eslint</code>  命令行被执行的文件目录中被创建。 <strong>已弃用：</strong>  请使用  <code>--cache-location</code>。</p>
<h5 id="cache-location"><a href="#cache-location" class="headerlink" title="--cache-location"></a><code>--cache-location</code></h5><p>缓存文件的路径。可以是一个文件或者一个目录。如果没有指定，则使用  <code>.eslintcache</code> 。这个文件会在  <code>eslint</code>  命令行被执行的文件目录中被创建。</p>
<p>如果指定一个目录，缓存文件将在指定的文件夹下被创建。文件名将基于当前工作目录（CWD) 的 hash 值，比如：<code>.cache_hashOfCWD</code>。</p>
<p><strong>重要提示：</strong>如果不存在缓存文件的目录，请确保在尾部添加  <code>/</code>（*nix 系统）或  <code>\</code>（windows 系统）。否则该路径将被假定为是一个文件。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint &quot;src/**/*.js&quot; --cache --cache-location &quot;/Users/user/.eslintcache/&quot;</span><br></pre></td></tr></table></figure>
<h4 id="指定规则和插件"><a href="#指定规则和插件" class="headerlink" title="指定规则和插件"></a>指定规则和插件</h4><h5 id="rulesdir"><a href="#rulesdir" class="headerlink" title="--rulesdir"></a><code>--rulesdir</code></h5><p>这个选项允许你指定另一个加载规则文件的目录。这允许你在运行时动态加载新规则。当你有自定义规则，而且这些规则不适合绑定到 ESLint 时，这会很有用。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --rulesdir my-rules/ file.js</span><br></pre></td></tr></table></figure>
<p>为了使你自定义的规则目录下的规则正常工作，必须遵照同绑定的规则一样的格式。你也可以通过包含多个  <code>--rulesdir</code>  选项来为自定义规则指定多个位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --rulesdir my-rules/ --rulesdir my-other-rules/ file.js</span><br></pre></td></tr></table></figure>
<p>注意，与核心规则和插件规则一样，你仍需要在配置文件或通过  <code>--rule</code>  命令行选项启用这些规则，以便在检测过程中实际运行这些规则。使用  <code>--rulesdir</code>  指定一个规则目录不会自动启用那些目录下的规则。</p>
<h5 id="plugin"><a href="#plugin" class="headerlink" title="--plugin"></a><code>--plugin</code></h5><p>这个选项指定一个要加载的插件。你可以省略插件名的前缀  <code>eslint-plugin-</code>。在你使用插件直接，你必须使用 npm 安装它。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --plugin jquery file.js</span><br><span class="line">eslint --plugin eslint-plugin-mocha file.js</span><br></pre></td></tr></table></figure>
<h5 id="rule"><a href="#rule" class="headerlink" title="--rule"></a><code>--rule</code></h5><p>这个选项指定要使用的规则。这些规则将会与配制文件中指定的规则合并。（你可以使用  <code>--no-eslintrc</code>  改变这种行为。）要定义多个规则，使用逗号分隔它们，或多次使用这个选项。<a href="https://github.com/gkz/levn#levn--" target="_blank" rel="noopener">levn</a>  格式被用来指定规则。</p>
<p>如果这个规则定义在插件内，你必须在规则 ID 前使用插件名和  <code>/</code>，即  <code>插件名/规则ID</code>。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">eslint --rule &apos;quotes: [2, double]&apos;</span><br><span class="line">eslint --rule &apos;guard-for-in: 2&apos; --rule &apos;brace-style: [2, 1tbs]&apos;</span><br><span class="line">eslint --rule &apos;jquery/dollar-sign: 2&apos;</span><br></pre></td></tr></table></figure>
<h4 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h4><h5 id="ignore-path"><a href="#ignore-path" class="headerlink" title="--ignore-path"></a><code>--ignore-path</code></h5><p>这个选项允许你指定一个文件作为  <code>.eslintignore</code>。默认情况下，ESLint 在当前工作目录下查找  <code>.eslintignore</code>。你可以通过提供另一个文件的路径改变这种行为。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --ignore-path tmp/.eslintignore file.js</span><br><span class="line">eslint --ignore-path .gitignore file.js</span><br></pre></td></tr></table></figure>
<h5 id="no-ignore"><a href="#no-ignore" class="headerlink" title="--no-ignore"></a><code>--no-ignore</code></h5><p>禁止排除  <code>.eslintignore</code>、<code>--ignore-path</code>  和  <code>--ignore-pattern</code>  文件中指定的文件。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --no-ignore file.js</span><br></pre></td></tr></table></figure>
<h5 id="ignore-pattern"><a href="#ignore-pattern" class="headerlink" title="--ignore-pattern"></a><code>--ignore-pattern</code></h5><p>该选项允许你指定要忽略的文件模式(除了那些在  <code>.eslintignore</code>  的)。你可以重复该选项已提供多个模式。语法同  <code>.eslintignore</code>  文件中的相同。你应该将你的模式用引号括起来，以避免命令行解析器的解析。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --ignore-pattern &apos;/lib/&apos; --ignore-pattern &apos;/src/vendor/*&apos; .</span><br></pre></td></tr></table></figure>
<h4 id="使用-stdin"><a href="#使用-stdin" class="headerlink" title="使用 stdin"></a>使用 stdin</h4><h5 id="stdin"><a href="#stdin" class="headerlink" title="--stdin"></a><code>--stdin</code></h5><p>这个选项告诉 ESLint 从 STDIN 而不是从文件中读取和检测源码。你可以使用该选项向 ESLint 来输入代码。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat myfile.js | eslint --stdin</span><br></pre></td></tr></table></figure>
<h5 id="stdin-filename"><a href="#stdin-filename" class="headerlink" title="--stdin-filename"></a><code>--stdin-filename</code></h5><p>这个选项允许你指定一个文件名去处理 STDIN。当你处理从 STDIN 来的文件和有规则依赖于这个文件名时，这会很有用。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat myfile.js | eslint --stdin --stdin-filename=myfile.js</span><br></pre></td></tr></table></figure>
<h4 id="处理告警"><a href="#处理告警" class="headerlink" title="处理告警"></a>处理告警</h4><h5 id="quiet"><a href="#quiet" class="headerlink" title="--quiet"></a><code>--quiet</code></h5><p>这个选项允许你禁止报告警告。如果开启这个选项，ESLint 只会报告错误。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --quiet file.js</span><br></pre></td></tr></table></figure>
<h5 id="max-warnings"><a href="#max-warnings" class="headerlink" title="--max-warnings"></a><code>--max-warnings</code></h5><p>这个选项允许你指定一个警告的阈值，当你的项目中有太多违反规则的警告时，这个阈值被用来强制 ESLint 以错误状态退出。</p>
<p>通常情况下，如果 ESLint 运行过程中，没有出现错误（只有警告），它将以成功的状态退出。然而，如果指定了  <code>--max-warnings</code>，而且警告的总数超过了指定的阈值，ESLint 将以错误的状态退出。通过指定一个  <code>-1</code>  的阈值或省略这个选项将会避免这种行为。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --max-warnings 10 file.js</span><br></pre></td></tr></table></figure>
<h4 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h4><h5 id="o-output-file"><a href="#o-output-file" class="headerlink" title="-o, --output-file"></a><code>-o</code>, <code>--output-file</code></h5><p>将报告写到一个文件。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -o ./test/test.html</span><br></pre></td></tr></table></figure>
<p>当指定这个选项时，就会按给定的格式输出到指定的文件名。</p>
<h5 id="f-format"><a href="#f-format" class="headerlink" title="-f, --format"></a><code>-f</code>, <code>--format</code></h5><p>这个选项指定了控制台的输出格式。可用的格式是：</p>
<ul>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#codeframe" target="_blank" rel="noopener">codeframe</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#compact" target="_blank" rel="noopener">compact</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#html" target="_blank" rel="noopener">html</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#jslint-xml" target="_blank" rel="noopener">jslint-xml</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#json" target="_blank" rel="noopener">json</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#junit" target="_blank" rel="noopener">junit</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#stylish" target="_blank" rel="noopener">stylish</a> (the default)</li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#table" target="_blank" rel="noopener">table</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#tap" target="_blank" rel="noopener">tap</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#unix" target="_blank" rel="noopener">unix</a></li>
<li><a href="https://cn.eslint.org/docs/user-guide/formatters/#visualstudio" target="_blank" rel="noopener">visualstudio</a></li>
</ul>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -f compact file.js</span><br></pre></td></tr></table></figure>
<p>你也可以在命令行中通过指定一个自定义的格式的文件路径来使用自定义的格式。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -f ./customformat.js file.js</span><br></pre></td></tr></table></figure>
<p>当指定之后，给定的格式就输出到控制台。如果你想将输出保存到一个文件，你可以在命令行上这样操作：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint -f compact file.js &gt; results.txt</span><br></pre></td></tr></table></figure>
<p>这会将输出保存到  <code>results.txt</code>  文件。</p>
<h5 id="color-no-color"><a href="#color-no-color" class="headerlink" title="--color, --no-color"></a><code>--color</code>, <code>--no-color</code></h5><p>在管道输出中禁用颜色。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">eslint --color file.js | cat</span><br><span class="line">eslint --no-color file.js</span><br></pre></td></tr></table></figure>
<h4 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h4><h5 id="init"><a href="#init" class="headerlink" title="--init"></a><code>--init</code></h5><p>这个选项将会配置初始化向导。它被用来帮助新用户快速地创建  <code>.eslintrc</code>  文件，用户通过回答一些问题，选择一个流行的风格指南，或检查你的源文件，自动生成一个合适的配置。</p>
<p>生成的配置文件将被创建在当前目录。</p>
<h5 id="fix"><a href="#fix" class="headerlink" title="--fix"></a><code>--fix</code></h5><p>该选项指示 ESLint 试图修复尽可能多的问题。修复只针对实际文件本身，而且剩下的未修复的问题才会输出。不是所有的问题都能使用这个选项进行修复，该选项在以下情形中不起作用：</p>
<ol>
<li>当代码传递给 ESLint 时，这个选项抛出一个错误。</li>
<li>这个选项对使用处理器的代码不起作用。</li>
</ol>
<h5 id="debug"><a href="#debug" class="headerlink" title="--debug"></a><code>--debug</code></h5><p>这个选项将调试信息输出到控制台。当你看到一个问题并且很难定位它时，这些调试信息会很有用。ESLint 团队可能会通过询问这些调试信息帮助你解决 bug。</p>
<h5 id="h-help"><a href="#h-help" class="headerlink" title="-h, --help"></a><code>-h</code>, <code>--help</code></h5><p>这个选项会输出帮助菜单，显示所有可用的选项。当有这个选项时，忽略其他所有选项。</p>
<h5 id="v-version"><a href="#v-version" class="headerlink" title="-v, --version"></a><code>-v</code>, <code>--version</code></h5><p>这个选项在控制台输出当前 ESlint 的版本。当有这个标记时，忽略其他所有标记。</p>
<h5 id="no-inline-config"><a href="#no-inline-config" class="headerlink" title="--no-inline-config"></a><code>--no-inline-config</code></h5><p>这个选项会阻止像  <code>/*eslint-disable*/</code>  或者  <code>/*global foo*/</code>  这样的内联注释起作用。这允许你在不修改文件的情况下设置一个 ESLint 配置。所有的内联注释都会被忽略，比如：</p>
<ul>
<li><code>/*eslint-disable*/</code></li>
<li><code>/*eslint-enable*/</code></li>
<li><code>/*global*/</code></li>
<li><code>/*eslint*/</code></li>
<li><code>/*eslint-env*/</code></li>
<li><code>// eslint-disable-line</code></li>
<li><code>// eslint-disable-next-line</code></li>
</ul>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --no-inline-config file.js</span><br></pre></td></tr></table></figure>
<h5 id="print-config"><a href="#print-config" class="headerlink" title="--print-config"></a><code>--print-config</code></h5><p>这个选项输出传递的文件使用的配置。当有这个标记时，不进行检测，只有配置相关的选项才是有效的。</p>
<p>示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eslint --print-config file.js</span><br></pre></td></tr></table></figure>
<h3 id="eslintignore-文件"><a href="#eslintignore-文件" class="headerlink" title=".eslintignore 文件"></a>.eslintignore 文件</h3><p>当 ESLint 作用于一个目录时，ESLint 支持使用  <code>.eslintignore</code>  文件来避免检测处理。通过特定的命令行参数指定的文件就可以免除被忽略。<code>.eslintignore</code>  文件是个纯文本文件，每一行都包含一种模式。它可以放在目标目录的任何父级目录；它将影响到它所在的当前目录和所有子目录。这里是  <code>.eslintignore</code>  文件的一个简单示例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node_modules/*</span><br><span class="line">**/vendor/*.js</span><br></pre></td></tr></table></figure>
<p>ESLint 默认忽略的模式分解和目录的更多详细信息可以在  <a href="https://cn.eslint.org/docs/user-guide/configuring#ignoring-files-and-directories" target="_blank" rel="noopener">Configuring ESLint</a>  中找到。</p>
<h2 id="更多内容"><a href="#更多内容" class="headerlink" title="更多内容"></a>更多内容</h2><blockquote>
<p>:package: 本文归档在 <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener">我的前端技术教程系列：frontend-tutorial</a></p>
</blockquote>
<p><a href="https://github.com/eslint/eslint" target="_blank" rel="noopener">ESLint</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/database/sql/关系型数据库面试题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/database/sql/关系型数据库面试题/" itemprop="url">关系型数据库面试题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="关系型数据库面试题"><a href="#关系型数据库面试题" class="headerlink" title="关系型数据库面试题"></a>关系型数据库面试题</h1><!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#1-存储引擎">1. 存储引擎</a><ul>
<li><a href="#11-mysql-有哪些存储引擎有什么区别">1.1. mysql 有哪些存储引擎？有什么区别？</a></li>
</ul>
</li>
<li><a href="#2-索引">2. 索引</a><ul>
<li><a href="#21-数据库索引有哪些数据结构">2.1. 数据库索引有哪些数据结构？</a></li>
<li><a href="#22-b-tree-和-btree-有什么区别">2.2. B-Tree 和 B+Tree 有什么区别？</a></li>
<li><a href="#23-索引原则有哪些">2.3. 索引原则有哪些？</a></li>
</ul>
</li>
<li><a href="#3-事务">3. 事务</a><ul>
<li><a href="#31-数据库事务隔离级别事务隔离级别分别解决什么问题">3.1. 数据库事务隔离级别？事务隔离级别分别解决什么问题？</a></li>
<li><a href="#32-如何解决分布式事务若出现网络问题或宕机问题如何解决">3.2. 如何解决分布式事务？若出现网络问题或宕机问题，如何解决？</a></li>
</ul>
</li>
<li><a href="#4-锁">4. 锁</a><ul>
<li><a href="#41-数据库锁有哪些类型如何实现">4.1. 数据库锁有哪些类型？如何实现？</a></li>
</ul>
</li>
<li><a href="#5-分库分表">5. 分库分表</a><ul>
<li><a href="#51-为什么要分库分表">5.1. 为什么要分库分表？</a></li>
<li><a href="#52-分库分表的常见问题以及解决方案">5.2. 分库分表的常见问题以及解决方案？</a></li>
<li><a href="#53-如何设计可以动态扩容缩容的分库分表方案">5.3. 如何设计可以动态扩容缩容的分库分表方案？</a></li>
<li><a href="#54-有哪些分库分表中间件各自有什么优缺点底层实现原理">5.4. 有哪些分库分表中间件？各自有什么优缺点？底层实现原理？</a></li>
</ul>
</li>
<li><a href="#6-数据库优化">6. 数据库优化</a><ul>
<li><a href="#61-什么是执行计划">6.1. 什么是执行计划？</a></li>
</ul>
</li>
<li><a href="#7-数据库架构设计">7. 数据库架构设计</a><ul>
<li><a href="#71-高并发系统数据层面如何设计">7.1. 高并发系统数据层面如何设计？</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<h2 id="1-存储引擎"><a href="#1-存储引擎" class="headerlink" title="1. 存储引擎"></a>1. 存储引擎</h2><h3 id="1-1-mysql-有哪些存储引擎？有什么区别？"><a href="#1-1-mysql-有哪些存储引擎？有什么区别？" class="headerlink" title="1.1. mysql 有哪些存储引擎？有什么区别？"></a>1.1. mysql 有哪些存储引擎？有什么区别？</h3><ul>
<li><strong>InnoDB</strong> - Mysql 的默认事务型存储引擎。性能不错且支持自动崩溃恢复。</li>
<li><strong>MyISAM</strong> - Mysql 5.1 版本前的默认存储引擎。特性丰富但不支持事务，也没有崩溃恢复功能。</li>
<li><strong>CSV</strong> - 可以将 CSV 文件作为 Mysql 的表来处理，但这种表不支持索引。</li>
<li><strong>Memory</strong> - 适合快速访问数据，且数据不会被修改，重启丢失也没有关系。</li>
<li><strong>NDB</strong> - 用于 Mysql 集群场景。</li>
</ul>
<h2 id="2-索引"><a href="#2-索引" class="headerlink" title="2. 索引"></a>2. 索引</h2><h3 id="2-1-数据库索引有哪些数据结构？"><a href="#2-1-数据库索引有哪些数据结构？" class="headerlink" title="2.1. 数据库索引有哪些数据结构？"></a>2.1. 数据库索引有哪些数据结构？</h3><ul>
<li>B-Tree</li>
<li>B+Tree</li>
<li>Hash</li>
</ul>
<h4 id="2-1-1-B-Tree"><a href="#2-1-1-B-Tree" class="headerlink" title="2.1.1. B-Tree"></a>2.1.1. B-Tree</h4><p>一棵 M 阶的 B-Tree 满足以下条件：</p>
<ul>
<li>每个结点至多有 M 个孩子；</li>
<li>除根结点和叶结点外，其它每个结点至少有 M/2 个孩子；</li>
<li>根结点至少有两个孩子（除非该树仅包含一个结点）；</li>
<li>所有叶结点在同一层，叶结点不包含任何关键字信息；</li>
<li>有 K 个关键字的非叶结点恰好包含 K+1 个孩子；</li>
</ul>
<p>对于任意结点，其内部的关键字 Key 是升序排列的。每个节点中都包含了 data。</p>
<div align="center"><br><img src="https://raw.githubusercontent.com/dunwu/images/master/images/database/RDB/B-TREE.png"><br></div>

<p>对于每个结点，主要包含一个关键字数组 Key[]，一个指针数组（指向儿子）Son[]。</p>
<p>在 B-Tree 内，查找的流程是：</p>
<ol>
<li>使用顺序查找（数组长度较短时）或折半查找方法查找 Key[]数组，若找到关键字 K，则返回该结点的地址及 K 在 Key[]中的位置；</li>
<li>否则，可确定 K 在某个 Key[i]和 Key[i+1]之间，则从 Son[i]所指的子结点继续查找，直到在某结点中查找成功；</li>
<li>或直至找到叶结点且叶结点中的查找仍不成功时，查找过程失败。</li>
</ol>
<h4 id="2-1-2-B-Tree"><a href="#2-1-2-B-Tree" class="headerlink" title="2.1.2. B+Tree"></a>2.1.2. B+Tree</h4><p>B+Tree 是 B-Tree 的变种：</p>
<ul>
<li>每个节点的指针上限为 2d 而不是 2d+1（d 为节点的出度）。</li>
<li>非叶子节点不存储 data，只存储 key；叶子节点不存储指针。</li>
</ul>
<div align="center"><br><img src="https://raw.githubusercontent.com/dunwu/images/master/images/database/RDB/B+TREE.png"><br></div>

<p>由于并不是所有节点都具有相同的域，因此 B+Tree 中叶节点和内节点一般大小不同。这点与 B-Tree 不同，虽然 B-Tree 中不同节点存放的 key 和指针可能数量不一致，但是每个节点的域和上限是一致的，所以在实现中 B-Tree 往往对每个节点申请同等大小的空间。</p>
<h5 id="带有顺序访问指针的-B-Tree"><a href="#带有顺序访问指针的-B-Tree" class="headerlink" title="带有顺序访问指针的 B+Tree"></a>带有顺序访问指针的 B+Tree</h5><p>一般在数据库系统或文件系统中使用的 B+Tree 结构都在经典 B+Tree 的基础上进行了优化，增加了顺序访问指针。</p>
<div align="center"><br><img src="https://raw.githubusercontent.com/dunwu/images/master/images/database/RDB/带有顺序访问指针的B+Tree.png"><br></div>

<p>在 B+Tree 的每个叶子节点增加一个指向相邻叶子节点的指针，就形成了带有顺序访问指针的 B+Tree。</p>
<p>这个优化的目的是为了提高区间访问的性能，例如上图中如果要查询 key 为从 18 到 49 的所有数据记录，当找到 18 后，只需顺着节点和指针顺序遍历就可以一次性访问到所有数据节点，极大提到了区间查询效率。</p>
<h4 id="2-1-3-Hash"><a href="#2-1-3-Hash" class="headerlink" title="2.1.3. Hash"></a>2.1.3. Hash</h4><p>Hash 索引只有精确匹配索引所有列的查询才有效。</p>
<p>对于每一行数据，对所有的索引列计算一个 hashcode。哈希索引将所有的 hashcode 存储在索引中，同时在 Hash 表中保存指向每个数据行的指针。</p>
<p>哈希索引的优点：</p>
<ul>
<li>因为索引数据结构紧凑，所以查询速度非常快。</li>
</ul>
<p>哈希索引的缺点：</p>
<ul>
<li>哈希索引数据不是按照索引值顺序存储的，所以无法用于排序。</li>
<li>哈希索引不支持部分索引匹配查找。如，在数据列 (A,B) 上建立哈希索引，如果查询只有数据列 A，无法使用该索引。</li>
<li>哈希索引只支持等值比较查询，不支持任何范围查询，如 WHERE price &gt; 100。</li>
<li>哈希索引有可能出现哈希冲突，出现哈希冲突时，必须遍历链表中所有的行指针，逐行比较，直到找到符合条件的行。</li>
</ul>
<h3 id="2-2-B-Tree-和-B-Tree-有什么区别？"><a href="#2-2-B-Tree-和-B-Tree-有什么区别？" class="headerlink" title="2.2. B-Tree 和 B+Tree 有什么区别？"></a>2.2. B-Tree 和 B+Tree 有什么区别？</h3><ul>
<li>B+Tree 更适合外部存储(一般指磁盘存储)，由于内节点(非叶子节点)不存储 data，所以一个节点可以存储更多的内节点，每个节点能索引的范围更大更精确。也就是说使用 B+Tree 单次磁盘 IO 的信息量相比较 B-Tree 更大，IO 效率更高。</li>
<li>mysql 是关系型数据库，经常会按照区间来访问某个索引列，B+Tree 的叶子节点间按顺序建立了链指针，加强了区间访问性，所以 B+Tree 对索引列上的区间范围查询很友好。而 B-Tree 每个节点的 key 和 data 在一起，无法进行区间查找。</li>
</ul>
<h3 id="2-3-索引原则有哪些？"><a href="#2-3-索引原则有哪些？" class="headerlink" title="2.3. 索引原则有哪些？"></a>2.3. 索引原则有哪些？</h3><h4 id="2-3-1-独立的列"><a href="#2-3-1-独立的列" class="headerlink" title="2.3.1. 独立的列"></a>2.3.1. 独立的列</h4><p>如果查询中的列不是独立的列，则数据库不会使用索引。</p>
<p>“独立的列” 是指索引列不能是表达式的一部分，也不能是函数的参数。</p>
<p>:x: 错误示例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> actor_id <span class="keyword">FROM</span> sakila.actor <span class="keyword">WHERE</span> actor_id + <span class="number">1</span> = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">SELECT</span> ... <span class="keyword">WHERE</span> <span class="keyword">TO_DAYS</span>(CURRENT_DAT) - <span class="keyword">TO_DAYS</span>(date_col) &lt;= <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<h4 id="2-3-2-前缀索引和索引选择性"><a href="#2-3-2-前缀索引和索引选择性" class="headerlink" title="2.3.2. 前缀索引和索引选择性"></a>2.3.2. 前缀索引和索引选择性</h4><p>有时候需要索引很长的字符列，这会让索引变得大且慢。</p>
<p>解决方法是：可以索引开始的部分字符，这样可以大大节约索引空间，从而提高索引效率。但这样也会降低索引的选择性。</p>
<p>索引的选择性是指：不重复的索引值和数据表记录总数的比值。最大值为 1，此时每个记录都有唯一的索引与其对应。选择性越高，查询效率也越高。</p>
<p>对于 BLOB/TEXT/VARCHAR 这种文本类型的列，必须使用前缀索引，因为数据库往往不允许索引这些列的完整长度。</p>
<p>要选择足够长的前缀以保证较高的选择性，同时又不能太长（节约空间）。</p>
<h4 id="2-3-3-多列索引"><a href="#2-3-3-多列索引" class="headerlink" title="2.3.3. 多列索引"></a>2.3.3. 多列索引</h4><p>不要为每个列创建独立的索引。</p>
<h4 id="2-3-4-选择合适的索引列顺序"><a href="#2-3-4-选择合适的索引列顺序" class="headerlink" title="2.3.4. 选择合适的索引列顺序"></a>2.3.4. 选择合适的索引列顺序</h4><p>经验法则：将选择性高的列或基数大的列优先排在多列索引最前列。</p>
<p>但有时，也需要考虑 WHERE 子句中的排序、分组和范围条件等因素，这些因素也会对查询性能造成较大影响。</p>
<h4 id="2-3-5-聚簇索引"><a href="#2-3-5-聚簇索引" class="headerlink" title="2.3.5. 聚簇索引"></a>2.3.5. 聚簇索引</h4><p>聚簇索引不是一种单独的索引类型，而是一种数据存储方式。</p>
<p>聚簇表示数据行和相邻的键值紧凑地存储在一起。因为无法同时把数据行存放在两个不同的地方，所以一个表只能有一个聚簇索引。</p>
<h4 id="2-3-6-覆盖索引"><a href="#2-3-6-覆盖索引" class="headerlink" title="2.3.6. 覆盖索引"></a>2.3.6. 覆盖索引</h4><p>索引包含所有需要查询的字段的值。</p>
<p>具有以下优点：</p>
<ul>
<li>因为索引条目通常远小于数据行的大小，所以若只读取索引，能大大减少数据访问量。</li>
<li>一些存储引擎（例如 MyISAM）在内存中只缓存索引，而数据依赖于操作系统来缓存。因此，只访问索引可以不使用系统调用（通常比较费时）。</li>
<li>对于 InnoDB 引擎，若辅助索引能够覆盖查询，则无需访问主索引。</li>
</ul>
<h4 id="2-3-7-使用索引扫描来做排序"><a href="#2-3-7-使用索引扫描来做排序" class="headerlink" title="2.3.7. 使用索引扫描来做排序"></a>2.3.7. 使用索引扫描来做排序</h4><p>索引最好既满足排序，又用于查找行。这样，就可以使用索引来对结果排序。</p>
<h4 id="2-3-8-和-in-可以乱序"><a href="#2-3-8-和-in-可以乱序" class="headerlink" title="2.3.8. = 和 in 可以乱序"></a>2.3.8. = 和 in 可以乱序</h4><p>比如 a = 1 and b = 2 and c = 3 建立（a,b,c）索引可以任意顺序，mysql 的查询优化器会帮你优化成索引可以识别的形式。</p>
<h4 id="2-3-9-尽量的扩展索引，不要新建索引"><a href="#2-3-9-尽量的扩展索引，不要新建索引" class="headerlink" title="2.3.9. 尽量的扩展索引，不要新建索引"></a>2.3.9. 尽量的扩展索引，不要新建索引</h4><p>比如表中已经有 a 的索引，现在要加(a,b)的索引，那么只需要修改原来的索引即可。</p>
<h2 id="3-事务"><a href="#3-事务" class="headerlink" title="3. 事务"></a>3. 事务</h2><h3 id="3-1-数据库事务隔离级别？事务隔离级别分别解决什么问题？"><a href="#3-1-数据库事务隔离级别？事务隔离级别分别解决什么问题？" class="headerlink" title="3.1. 数据库事务隔离级别？事务隔离级别分别解决什么问题？"></a>3.1. 数据库事务隔离级别？事务隔离级别分别解决什么问题？</h3><ul>
<li>未提交读（READ UNCOMMITTED） - 事务中的修改，即使没有提交，对其它事务也是可见的。</li>
<li>提交读（READ COMMITTED） - 一个事务只能读取已经提交的事务所做的修改。换句话说，一个事务所做的修改在提交之前对其它事务是不可见的。</li>
<li>可重复读（REPEATABLE READ） - 保证在同一个事务中多次读取同样数据的结果是一样的。</li>
<li>可串行化（SERIALIXABLE） - 强制事务串行执行。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">隔离级别</th>
<th style="text-align:center">脏读</th>
<th style="text-align:center">不可重复读</th>
<th style="text-align:center">幻影读</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">未提交读</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">提交读</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">可重复读</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">可串行化</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
</tr>
</tbody>
</table>
<h3 id="3-2-如何解决分布式事务？若出现网络问题或宕机问题，如何解决？"><a href="#3-2-如何解决分布式事务？若出现网络问题或宕机问题，如何解决？" class="headerlink" title="3.2. 如何解决分布式事务？若出现网络问题或宕机问题，如何解决？"></a>3.2. 如何解决分布式事务？若出现网络问题或宕机问题，如何解决？</h3><h2 id="4-锁"><a href="#4-锁" class="headerlink" title="4. 锁"></a>4. 锁</h2><h3 id="4-1-数据库锁有哪些类型？如何实现？"><a href="#4-1-数据库锁有哪些类型？如何实现？" class="headerlink" title="4.1. 数据库锁有哪些类型？如何实现？"></a>4.1. 数据库锁有哪些类型？如何实现？</h3><h4 id="4-1-1-锁粒度"><a href="#4-1-1-锁粒度" class="headerlink" title="4.1.1. 锁粒度"></a>4.1.1. 锁粒度</h4><ul>
<li><strong>表级锁（table lock）</strong> - 锁定整张表。用户对表进行写操作前，需要先获得写锁，这会阻塞其他用户对该表的所有读写操作。只有没有写锁时，其他用户才能获得读锁，读锁之间不会相互阻塞。</li>
<li><strong>行级锁（row lock）</strong> - 仅对指定的行记录进行加锁，这样其它进程还是可以对同一个表中的其它记录进行操作。</li>
</ul>
<p>InnoDB 行锁是通过给索引上的索引项加锁来实现的。只有通过索引条件检索数据，InnoDB 才使用行级锁；否则，InnoDB 将使用表锁！</p>
<p>索引分为主键索引和非主键索引两种，如果一条 sql 语句操作了主键索引，MySQL 就会锁定这条主键索引；如果一条语句操作了非主键索引，MySQL 会先锁定该非主键索引，再锁定相关的主键索引。在 UPDATE、DELETE 操作时，MySQL 不仅锁定 WHERE 条件扫描过的所有索引记录，而且会锁定相邻的键值，即所谓的 next-key locking。</p>
<p>当两个事务同时执行，一个锁住了主键索引，在等待其他相关索引。另一个锁定了非主键索引，在等待主键索引。这样就会发生死锁。发生死锁后，InnoDB 一般都可以检测到，并使一个事务释放锁回退，另一个获取锁完成事务。</p>
<h4 id="4-1-2-读写锁"><a href="#4-1-2-读写锁" class="headerlink" title="4.1.2. 读写锁"></a>4.1.2. 读写锁</h4><ul>
<li>排它锁（Exclusive），简写为 X 锁，又称写锁。</li>
<li>共享锁（Shared），简写为 S 锁，又称读锁。</li>
</ul>
<p>有以下两个规定：</p>
<ul>
<li>一个事务对数据对象 A 加了 X 锁，就可以对 A 进行读取和更新。加锁期间其它事务不能对 A 加任何锁。</li>
<li>一个事务对数据对象 A 加了 S 锁，可以对 A 进行读取操作，但是不能进行更新操作。加锁期间其它事务能对 A 加 S 锁，但是不能加 X 锁。</li>
</ul>
<p>锁的兼容关系如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">X</th>
<th style="text-align:center">S</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
</tr>
<tr>
<td style="text-align:center">S</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
</tr>
</tbody>
</table>
<p>使用：</p>
<ul>
<li>排他锁：<code>SELECT ... FOR UPDATE;</code></li>
<li>共享锁：<code>SELECT ... LOCK IN SHARE MODE;</code></li>
</ul>
<p>innodb 下的记录锁（也叫行锁），间隙锁，next-key 锁统统属于排他锁。</p>
<p>在 InnoDB 中，行锁是通过给索引上的索引项加锁来实现的。如果没有索引，InnoDB 将会通过隐藏的聚簇索引来对记录加锁。另外，根据针对 sql 语句检索条件的不同，加锁又有以下三种情形需要我们掌握。</p>
<ol>
<li>Record lock：对索引项加锁。若没有索引项则使用表锁。</li>
<li>Gap lock：对索引项之间的间隙加锁。</li>
<li>Next-key lock：1+2，锁定一个范围，并且锁定记录本身。对于行的查询，都是采用该方法，主要目的是解决幻读的问题。当利用范围条件而不是相等条件获取排他锁时，innoDB 会给符合条件的所有数据加锁。对于在条件范围内但是不存在的记录，叫做间隙。innoDB 也会对这个间隙进行加锁。另外，使用相等的检索条件时，若指定了本身不存在的记录作为检索条件的值的话，则此值对应的索引项也会加锁。</li>
</ol>
<h4 id="4-1-3-意向锁"><a href="#4-1-3-意向锁" class="headerlink" title="4.1.3. 意向锁"></a>4.1.3. 意向锁</h4><p>使用意向锁（Intention Locks）可以更容易地支持多粒度封锁。</p>
<p>在存在行级锁和表级锁的情况下，事务 T 想要对表 A 加 X 锁，就需要先检测是否有其它事务对表 A 或者表 A 中的任意一行加了锁，那么就需要对表 A 的每一行都检测一次，这是非常耗时的。</p>
<p>意向锁在原来的 X/S 锁之上引入了 IX/IS，IX/IS 都是表锁，用来表示一个事务想要在表中的某个数据行上加 X 锁或 S 锁。有以下两个规定：</p>
<ul>
<li>一个事务在获得某个数据行对象的 S 锁之前，必须先获得表的 IS 锁或者更强的锁；</li>
<li>一个事务在获得某个数据行对象的 X 锁之前，必须先获得表的 IX 锁。</li>
</ul>
<p>通过引入意向锁，事务 T 想要对表 A 加 X 锁，只需要先检测是否有其它事务对表 A 加了 X/IX/S/IS 锁，如果加了就表示有其它事务正在使用这个表或者表中某一行的锁，因此事务 T 加 X 锁失败。</p>
<p>各种锁的兼容关系如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">X</th>
<th style="text-align:center">IX</th>
<th style="text-align:center">S</th>
<th style="text-align:center">IS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
</tr>
<tr>
<td style="text-align:center">IX</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">S</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
<tr>
<td style="text-align:center">IS</td>
<td style="text-align:center">NO</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
<td style="text-align:center">YES</td>
</tr>
</tbody>
</table>
<p>解释如下：</p>
<ul>
<li>任意 IS/IX 锁之间都是兼容的，因为它们只是表示想要对表加锁，而不是真正加锁；</li>
<li>S 锁只与 S 锁和 IS 锁兼容，也就是说事务 T 想要对数据行加 S 锁，其它事务可以已经获得对表或者表中的行的 S 锁。</li>
</ul>
<p>意向锁是 InnoDB 自动加的，不需要用户干预。</p>
<h2 id="5-分库分表"><a href="#5-分库分表" class="headerlink" title="5. 分库分表"></a>5. 分库分表</h2><h3 id="5-1-为什么要分库分表？"><a href="#5-1-为什么要分库分表？" class="headerlink" title="5.1. 为什么要分库分表？"></a>5.1. 为什么要分库分表？</h3><p>分库分表的基本思想就要把一个数据库切分成多个部分放到不同的数据库(server)上，从而缓解单一数据库的性能问题。</p>
<h3 id="5-2-分库分表的常见问题以及解决方案？"><a href="#5-2-分库分表的常见问题以及解决方案？" class="headerlink" title="5.2. 分库分表的常见问题以及解决方案？"></a>5.2. 分库分表的常见问题以及解决方案？</h3><h4 id="5-2-1-事务问题"><a href="#5-2-1-事务问题" class="headerlink" title="5.2.1. 事务问题"></a>5.2.1. 事务问题</h4><p>方案一：使用分布式事务</p>
<ul>
<li>优点：交由数据库管理，简单有效</li>
<li>缺点：性能代价高，特别是 shard 越来越多时</li>
</ul>
<p>方案二：由应用程序和数据库共同控制</p>
<ul>
<li>原理：将一个跨多个数据库的分布式事务分拆成多个仅处于单个数据库上面的小事务，并通过应用程序来总控各个小事务。</li>
<li>优点：性能上有优势</li>
<li>缺点：需要应用程序在事务控制上做灵活设计。如果使用了 spring 的事务管理，改动起来会面临一定的困难。</li>
</ul>
<h4 id="5-2-2-跨节点-Join-的问题"><a href="#5-2-2-跨节点-Join-的问题" class="headerlink" title="5.2.2. 跨节点 Join 的问题"></a>5.2.2. 跨节点 Join 的问题</h4><p>只要是进行切分，跨节点 Join 的问题是不可避免的。但是良好的设计和切分却可以减少此类情况的发生。解决这一问题的普遍做法是分两次查询实现。在第一次查询的结果集中找出关联数据的 id，根据这些 id 发起第二次请求得到关联数据。</p>
<h4 id="5-2-3-跨节点的-count-order-by-group-by-以及聚合函数问题"><a href="#5-2-3-跨节点的-count-order-by-group-by-以及聚合函数问题" class="headerlink" title="5.2.3. 跨节点的 count,order by,group by 以及聚合函数问题"></a>5.2.3. 跨节点的 count,order by,group by 以及聚合函数问题</h4><p>这些是一类问题，因为它们都需要基于全部数据集合进行计算。多数的代理都不会自动处理合并工作。</p>
<p>解决方案：与解决跨节点 join 问题的类似，分别在各个节点上得到结果后在应用程序端进行合并。和 join 不同的是每个节点的查询可以并行执行，因此很多时候它的速度要比单一大表快很多。但如果结果集很大，对应用程序内存的消耗是一个问题。</p>
<h4 id="5-2-4-ID-唯一性"><a href="#5-2-4-ID-唯一性" class="headerlink" title="5.2.4. ID 唯一性"></a>5.2.4. ID 唯一性</h4><p>一旦数据库被切分到多个物理节点上，我们将不能再依赖数据库自身的主键生成机制。一方面，某个分区数据库自生成的 ID 无法保证在全局上是唯一的；另一方面，应用程序在插入数据之前需要先获得 ID，以便进行 SQL 路由。</p>
<p>一些常见的主键生成策略：</p>
<ul>
<li>使用全局唯一 ID：GUID。</li>
<li>为每个分片指定一个 ID 范围。</li>
<li>分布式 ID 生成器 (如 Twitter 的 Snowflake 算法)。</li>
</ul>
<h4 id="5-2-5-数据迁移，容量规划，扩容等问题"><a href="#5-2-5-数据迁移，容量规划，扩容等问题" class="headerlink" title="5.2.5. 数据迁移，容量规划，扩容等问题"></a>5.2.5. 数据迁移，容量规划，扩容等问题</h4><p>来自淘宝综合业务平台团队，它利用对 2 的倍数取余具有向前兼容的特性（如对 4 取余得 1 的数对 2 取余也是 1）来分配数据，避免了行级别的数据迁移，但是依然需要进行表级别的迁移，同时对扩容规模和分表数量都有限制。总得来说，这些方案都不是十分的理想，多多少少都存在一些缺点，这也从一个侧面反映出了 Sharding 扩容的难度。</p>
<h4 id="5-2-6-分库数量"><a href="#5-2-6-分库数量" class="headerlink" title="5.2.6. 分库数量"></a>5.2.6. 分库数量</h4><p>分库数量首先和单库能处理的记录数有关，一般来说，Mysql 单库超过 5000 万条记录，Oracle 单库超过 1 亿条记录，DB 压力就很大(当然处理能力和字段数量/访问模式/记录长度有进一步关系)。</p>
<h4 id="5-2-7-跨分片的排序分页"><a href="#5-2-7-跨分片的排序分页" class="headerlink" title="5.2.7. 跨分片的排序分页"></a>5.2.7. 跨分片的排序分页</h4><ul>
<li>如果是在前台应用提供分页，则限定用户只能看前面 n 页，这个限制在业务上也是合理的，一般看后面的分页意义不大（如果一定要看，可以要求用户缩小范围重新查询）。</li>
<li>如果是后台批处理任务要求分批获取数据，则可以加大 page size，比如每次获取 5000 条记录，有效减少分页数（当然离线访问一般走备库，避免冲击主库）。</li>
<li>分库设计时，一般还有配套大数据平台汇总所有分库的记录，有些分页查询可以考虑走大数据平台。</li>
</ul>
<h3 id="5-3-如何设计可以动态扩容缩容的分库分表方案？"><a href="#5-3-如何设计可以动态扩容缩容的分库分表方案？" class="headerlink" title="5.3. 如何设计可以动态扩容缩容的分库分表方案？"></a>5.3. 如何设计可以动态扩容缩容的分库分表方案？</h3><h3 id="5-4-有哪些分库分表中间件？各自有什么优缺点？底层实现原理？"><a href="#5-4-有哪些分库分表中间件？各自有什么优缺点？底层实现原理？" class="headerlink" title="5.4. 有哪些分库分表中间件？各自有什么优缺点？底层实现原理？"></a>5.4. 有哪些分库分表中间件？各自有什么优缺点？底层实现原理？</h3><h4 id="简单易用的组件："><a href="#简单易用的组件：" class="headerlink" title="简单易用的组件："></a>简单易用的组件：</h4><ul>
<li><a href="https://github.com/dangdangdotcom/sharding-jdbc" target="_blank" rel="noopener">当当 sharding-jdbc</a></li>
<li><a href="https://github.com/baihui212/tsharding" target="_blank" rel="noopener">蘑菇街 TSharding</a></li>
</ul>
<h4 id="强悍重量级的中间件："><a href="#强悍重量级的中间件：" class="headerlink" title="强悍重量级的中间件："></a>强悍重量级的中间件：</h4><ul>
<li><a href="https://github.com/go-pg/sharding" target="_blank" rel="noopener">sharding </a></li>
<li><a href="https://github.com/alibaba/tb_tddl" target="_blank" rel="noopener">TDDL Smart Client 的方式（淘宝）</a></li>
<li><a href="https://github.com/Qihoo360/Atlas" target="_blank" rel="noopener">Atlas(Qihoo 360)</a></li>
<li><a href="https://github.com/alibaba/cobar" target="_blank" rel="noopener">alibaba.cobar(是阿里巴巴（B2B）部门开发)</a></li>
<li><a href="http://www.mycat.org.cn/" target="_blank" rel="noopener">MyCAT（基于阿里开源的 Cobar 产品而研发）</a></li>
<li><a href="https://github.com/58code/Oceanus" target="_blank" rel="noopener">Oceanus(58 同城数据库中间件)</a></li>
<li><a href="http://www.cnblogs.com/youge-OneSQL/articles/4208583.html" target="_blank" rel="noopener">OneProxy(支付宝首席架构师楼方鑫开发)</a></li>
<li><a href="https://github.com/youtube/vitess" target="_blank" rel="noopener">vitess（谷歌开发的数据库中间件）</a></li>
</ul>
<h2 id="6-数据库优化"><a href="#6-数据库优化" class="headerlink" title="6. 数据库优化"></a>6. 数据库优化</h2><h3 id="6-1-什么是执行计划？"><a href="#6-1-什么是执行计划？" class="headerlink" title="6.1. 什么是执行计划？"></a>6.1. 什么是执行计划？</h3><h2 id="7-数据库架构设计"><a href="#7-数据库架构设计" class="headerlink" title="7. 数据库架构设计"></a>7. 数据库架构设计</h2><h3 id="7-1-高并发系统数据层面如何设计？"><a href="#7-1-高并发系统数据层面如何设计？" class="headerlink" title="7.1. 高并发系统数据层面如何设计？"></a>7.1. 高并发系统数据层面如何设计？</h3><h4 id="读写分离的原理"><a href="#读写分离的原理" class="headerlink" title="读写分离的原理"></a>读写分离的原理</h4><p>主服务器用来处理写操作以及实时性要求比较高的读操作，而从服务器用来处理读操作。</p>
<p>读写分离常用代理方式来实现，代理服务器接收应用层传来的读写请求，然后决定转发到哪个服务器。</p>
<p>MySQL 读写分离能提高性能的原因在于：</p>
<ul>
<li>主从服务器负责各自的读和写，极大程度缓解了锁的争用；</li>
<li>从服务器可以配置 MyISAM 引擎，提升查询性能以及节约系统开销；</li>
<li>增加冗余，提高可用性。</li>
</ul>
<div align="center"><br><img src="https://raw.githubusercontent.com/dunwu/images/master/images/database/mysql/master-slave-proxy.png"><br></div>

<h5 id="Mysql-的复制原理"><a href="#Mysql-的复制原理" class="headerlink" title="Mysql 的复制原理"></a>Mysql 的复制原理</h5><p>Mysql 支持两种复制：基于行的复制和基于语句的复制。</p>
<p>这两种方式都是在主库上记录二进制日志，然后在从库重放日志的方式来实现异步的数据复制。这意味着：复制过程存在时延，这段时间内，主从数据可能不一致。</p>
<p>主要涉及三个线程：binlog 线程、I/O 线程和 SQL 线程。</p>
<ul>
<li><strong>binlog 线程</strong> ：负责将主服务器上的数据更改写入二进制文件（binlog）中。</li>
<li><strong>I/O 线程</strong> ：负责从主服务器上读取二进制日志文件，并写入从服务器的中继日志中。</li>
<li><strong>SQL 线程</strong> ：负责读取中继日志并重放其中的 SQL 语句。</li>
</ul>
<div align="center"><br><img src="https://raw.githubusercontent.com/dunwu/images/master/images/database/mysql/master-slave.png"><br></div>

<h4 id="垂直切分"><a href="#垂直切分" class="headerlink" title="垂直切分"></a>垂直切分</h4><p>按照业务线或功能模块拆分为不同数据库。</p>
<p>更进一步是服务化改造，将强耦合的系统拆分为多个服务。</p>
<h4 id="水平切分"><a href="#水平切分" class="headerlink" title="水平切分"></a>水平切分</h4><ul>
<li>哈希取模：hash(key) % NUM_DB</li>
<li>范围：可以是 ID 范围也可以是时间范围</li>
<li>映射表：使用单独的一个数据库来存储映射关系</li>
</ul>
<hr>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/frontend/base/html/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/frontend/base/html/" itemprop="url">Html 快速入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Html-快速入门"><a href="#Html-快速入门" class="headerlink" title="Html 快速入门"></a>Html 快速入门</h1><blockquote>
<p>超文本标记语言（英语：HyperText Markup Language，简称：HTML）是一种用于创建网页的标准标记语言。</p>
<p>关键词： <code>标签</code>, <code>元素</code>, <code>属性</code></p>
</blockquote>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/images/front/html/html5.jpg"></div><br></p>
<!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#简介">简介</a><ul>
<li><a href="#什么是-html">什么是 HTML？</a></li>
<li><a href="#html-文档--网页">HTML 文档 = 网页</a></li>
<li><a href="#html-结构">HTML 结构</a></li>
<li><a href="#html-标签">HTML 标签</a></li>
<li><a href="#html-元素">HTML 元素</a></li>
<li><a href="#html-属性">HTML 属性</a></li>
</ul>
</li>
<li><a href="#quickstart">Quickstart</a><ul>
<li><a href="#基础">基础</a></li>
<li><a href="#样式">样式</a></li>
<li><a href="#链接锚点图片">链接、锚点、图片</a></li>
<li><a href="#列表">列表</a></li>
<li><a href="#表单">表单</a></li>
<li><a href="#表格">表格</a></li>
<li><a href="#区块">区块</a></li>
<li><a href="#框架">框架</a></li>
</ul>
</li>
<li><a href="#html-基础">Html 基础</a><ul>
<li><a href="#标题">标题</a></li>
<li><a href="#段落">段落</a></li>
<li><a href="#链接">链接</a></li>
<li><a href="#图像">图像</a></li>
<li><a href="#水平线">水平线</a></li>
<li><a href="#换行">换行</a></li>
<li><a href="#注释">注释</a></li>
</ul>
</li>
<li><a href="#faq">FAQ</a><ul>
<li><a href="#中文编码">中文编码</a></li>
<li><a href="#html-和-htm">html 和 htm</a></li>
<li><a href="#html-忽略空格和换行">HTML 忽略空格和换行</a></li>
</ul>
</li>
<li><a href="#更多内容">更多内容</a></li>
</ul>
<!-- /TOC -->
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><h3 id="什么是-HTML？"><a href="#什么是-HTML？" class="headerlink" title="什么是 HTML？"></a>什么是 HTML？</h3><p>HTML 是用来描述网页的一种语言。</p>
<ul>
<li>HTML 指的是超文本标记语言: Hypertext Markup Language</li>
<li>HTML 不是一种编程语言，而是一种<strong>标记</strong>语言</li>
<li>标记语言是一套<strong>标记标签</strong> (markup tag)</li>
<li>HTML 使用标记标签来<strong>描述</strong>网页</li>
<li>HTML 文档包含了 HTML<strong>标签</strong>及<strong>文本</strong>内容</li>
<li>HTML 文档也叫做 <strong>web 页面</strong></li>
</ul>
<h3 id="HTML-文档-网页"><a href="#HTML-文档-网页" class="headerlink" title="HTML 文档 = 网页"></a>HTML 文档 = 网页</h3><ul>
<li>HTML 文档<strong>描述网页</strong></li>
<li>HTML 文档<strong>包含 HTML 标签</strong>和纯文本</li>
<li>HTML 文档也被称为<strong>网页</strong></li>
</ul>
<p>Web 浏览器的作用是读取 HTML 文档，并以网页的形式显示出它们。浏览器不会显示 HTML 标签，而是使用标签来解释页面的内容。</p>
<h3 id="HTML-结构"><a href="#HTML-结构" class="headerlink" title="HTML 结构"></a>HTML 结构</h3><h4 id="文档类型声明"><a href="#文档类型声明" class="headerlink" title="文档类型声明"></a>文档类型声明</h4><p><code>&lt;!doctype html&gt;</code> 声明为 HTML5 文档。</p>
<p><code>&lt;!DOCTYPE&gt;</code> 声明有助于浏览器中正确显示网页。</p>
<p>网络上有很多不同的文件，如果能够正确声明 HTML 的版本，浏览器就能正确显示网页内容。</p>
<p>doctype 声明是不区分大小写的，以下方式均可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE HTML&gt;</span></span><br><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="meta">&lt;!Doctype Html&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>通用声明</strong></p>
<ul>
<li><strong>HTML5</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>HTML 4.01</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"</span></span><br><span class="line"><span class="meta">"http://www.w3.org/TR/html4/loose.dtd"&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>XHTML 1.0</strong></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"</span></span><br><span class="line"><span class="meta">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="html-元素"><a href="#html-元素" class="headerlink" title="html 元素"></a>html 元素</h4><p><code>&lt;html&gt;</code> 元素是 HTML 页面的根元素。</p>
<h4 id="head-元素"><a href="#head-元素" class="headerlink" title="head 元素"></a>head 元素</h4><p><code>&lt;head&gt;</code> 元素包含了文档的元（meta）数据。</p>
<h4 id="body-元素"><a href="#body-元素" class="headerlink" title="body 元素"></a>body 元素</h4><p><code>&lt;body&gt;</code> 元素包含了可见的页面内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="HTML-标签"><a href="#HTML-标签" class="headerlink" title="HTML 标签"></a>HTML 标签</h3><p>HTML 标记标签通常被称为 HTML 标签 (HTML tag)。</p>
<ul>
<li>HTML 标签是由<strong>尖括号</strong>包围的关键词，比如 <code>&lt;html&gt;</code></li>
<li>HTML 标签通常是<strong>成对出现</strong>的，比如 <code>&lt;b&gt;</code> 和 <code>&lt;/b&gt;</code></li>
<li>标签对中的第一个标签是<strong>开始标签</strong>，第二个标签是<strong>结束标签</strong></li>
<li>开始和结束标签也被称为<strong>开放标签</strong>和<strong>闭合标签</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;标签&gt;内容&lt;/标签&gt;</span><br></pre></td></tr></table></figure>
<h3 id="HTML-元素"><a href="#HTML-元素" class="headerlink" title="HTML 元素"></a>HTML 元素</h3><p>“HTML 标签” 和 “HTML 元素” 通常都是描述同样的意思.</p>
<p>但是严格来讲, 一个 HTML 元素包含了开始标签与结束标签，如下实例:</p>
<p>HTML 元素:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="HTML-属性"><a href="#HTML-属性" class="headerlink" title="HTML 属性"></a>HTML 属性</h3><ul>
<li><p>HTML 元素可以设置<strong>属性</strong></p>
</li>
<li><p>属性可以在元素中添加<strong>附加信息</strong></p>
</li>
<li><p>属性一般描述于<strong>开始标签</strong></p>
</li>
<li><p>属性总是以名称/值对的形式出现，<strong>比如：name=”value”</strong>。</p>
</li>
<li><p>属性和属性值对大小写不敏感。</p>
<p>不过，万维网联盟在其 HTML 4 推荐标准中推荐小写的属性/属性值。</p>
<p>而新版本的 (X)HTML 要求使用小写属性。</p>
</li>
</ul>
<h4 id="HTML-属性常用引用属性值"><a href="#HTML-属性常用引用属性值" class="headerlink" title="HTML 属性常用引用属性值"></a>HTML 属性常用引用属性值</h4><p>属性值应该始终被包括在引号内。</p>
<p>双引号是最常用的，不过使用单引号也没有问题。</p>
<p><strong>提示:</strong>  在某些个别的情况下，比如属性值本身就含有双引号，那么您必须使用单引号，例如：<code>name=&#39;John &quot;ShotGun&quot; Nelson&#39;</code></p>
<h4 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h4><p>下面列出了适用于大多数 HTML 元素的属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>class</td>
<td>为 html 元素定义一个或多个类名（classname）(类名从样式文件引入)</td>
</tr>
<tr>
<td>id</td>
<td>定义元素的唯一 id</td>
</tr>
<tr>
<td>style</td>
<td>规定元素的行内样式（inline style）</td>
</tr>
<tr>
<td>title</td>
<td>描述了元素的额外信息 (作为工具条使用)</td>
</tr>
</tbody>
</table>
<h2 id="Quickstart"><a href="#Quickstart" class="headerlink" title="Quickstart"></a>Quickstart</h2><h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>这是文章标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 这是注释 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是标题 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是标题 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是标题 3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>这是标题 4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>这是标题 5<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>这是标题 6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span> <span class="comment">&lt;!-- 这是换行 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span> <span class="comment">&lt;!-- 这是分割线 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>粗体文本<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>斜体文本<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span>下划线文本<span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>定义着重文字<span class="tag">&lt;/<span class="name">em</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>定义加重语气<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ins</span>&gt;</span>定义插入字<span class="tag">&lt;/<span class="name">ins</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span>定义删除字<span class="tag">&lt;/<span class="name">sub</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span>上标<span class="tag">&lt;/<span class="name">sub</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span>下标<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 计算机样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">pre</span>&gt;</span>预格式文本<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">code</span>&gt;</span>一段电脑代码<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dfn</span>&gt;</span>定义项目<span class="tag">&lt;/<span class="name">dfn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">kbd</span>&gt;</span>键盘输入<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">samp</span>&gt;</span>计算机样本<span class="tag">&lt;/<span class="name">samp</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">var</span>&gt;</span>变量<span class="tag">&lt;/<span class="name">var</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 特殊含义的样式 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span></span><br><span class="line">  Written by <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:webmaster@example.com"</span>&gt;</span>Jon Doe<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Visit us at:<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Example.com<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  Box 564, Disneyland<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">  USA</span><br><span class="line"><span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 该段落文字从左到右显示 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bdo</span> <span class="attr">dir</span>=<span class="string">"rtl"</span>&gt;</span>该段落文字从右到左显示<span class="tag">&lt;/<span class="name">bdo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 长的引用语 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">cite</span>=<span class="string">"http://www.worldwildlife.org/who/index.html"</span>&gt;</span></span><br><span class="line">  For 50 years, WWF has been protecting the future of nature. The world's leading conservation organization, WWF works</span><br><span class="line">  in 100 countries and is supported by 1.2 million members in the United States and close to 5 million globally.</span><br><span class="line"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 短的引用语 --&gt;</span></span><br><span class="line">WWF's goal is to: <span class="tag">&lt;<span class="name">q</span>&gt;</span>Build a future where people live in harmony with nature.<span class="tag">&lt;/<span class="name">q</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 定义引用、引证 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">cite</span>&gt;</span>The Scream<span class="tag">&lt;/<span class="name">cite</span>&gt;</span> by Edward Munch. Painted in 1893.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dfn</span>&gt;</span>定义项目<span class="tag">&lt;/<span class="name">dfn</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="链接、锚点、图片"><a href="#链接、锚点、图片" class="headerlink" title="链接、锚点、图片"></a>链接、锚点、图片</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.example.com/"</span>&gt;</span>This is a Link<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.example.com/"</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"URL"</span> <span class="attr">alt</span>=<span class="string">"Alternate Text"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:webmaster@example.com"</span>&gt;</span>Send e-mail<span class="tag">&lt;/<span class="name">a</span>&gt;</span>A named anchor:</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"tips"</span>&gt;</span>Useful Tips Section<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#tips"</span>&gt;</span>Jump to the Useful Tips Section<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 无序列表 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>First item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Next item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 有序列表 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ol</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>First item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Next item<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 自定义列表 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>First term<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>Definition<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dt</span>&gt;</span>Next term<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dd</span>&gt;</span>Definition<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://www.example.com/test.asp"</span> <span class="attr">method</span>=<span class="string">"post/get"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"lastname"</span></span></span><br><span class="line"><span class="tag"><span class="attr">value</span>=<span class="string">"Nixon"</span> <span class="attr">size</span>=<span class="string">"30"</span> <span class="attr">maxlength</span>=<span class="string">"50"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">checked</span>=<span class="string">"checked"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"reset"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>Apples</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span> <span class="attr">selected</span>&gt;</span>Bananas</span><br><span class="line"><span class="tag">&lt;<span class="name">option</span>&gt;</span>Cherries</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">name</span>=<span class="string">"Comment"</span> <span class="attr">rows</span>=<span class="string">"60"</span> <span class="attr">cols</span>=<span class="string">"20"</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">caption</span>&gt;</span>Monthly Savings<span class="tag">&lt;/<span class="name">caption</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">colgroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">span</span>=<span class="string">"1"</span> <span class="attr">style</span>=<span class="string">"background-color:#dcdcdc"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">style</span>=<span class="string">"background-color:#00bfff"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">colgroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Month<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">th</span>&gt;</span>Savings<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tfoot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Sum<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>$180<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tfoot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>January<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>$100<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>February<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">td</span>&gt;</span>$80<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"color:#0000FF"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是一个在 div 元素中的标题。<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个在 div 元素中的文本。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color:red"</span>&gt;</span>some text.<span class="tag">&lt;/<span class="name">span</span>&gt;</span>some other text.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"http://www.runoob.com"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>您的浏览器不支持  iframe 标签。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Html-基础"><a href="#Html-基础" class="headerlink" title="Html 基础"></a>Html 基础</h2><h3 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h3><blockquote>
<p><strong>标题很重要</strong></p>
<p>请确保标题标签只用于标题。不要仅仅是为了产生粗体或大号的文本而使用标题。</p>
<p>搜索引擎使用标题为您的网页的结构和内容编制索引。</p>
<p>因为用户可以通过标题来快速浏览您的网页，所以用标题来呈现文档结构是很重要的。</p>
</blockquote>
<p>HTML 标题（Heading）是通过 <code>&lt;h1&gt;</code> - <code>&lt;h6&gt;</code> 标签来定义的。</p>
<p><code>&lt;h1&gt;</code> 定义最大的标题。<code>&lt;h6&gt;</code> 定义最小的标题。</p>
<p>默认情况下，HTML 会自动地在块级元素前后添加一个额外的空行，比如段落、标题元素前后。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是标题 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>这是标题 2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>这是标题 3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>这是标题 4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h5</span>&gt;</span>这是标题 5<span class="tag">&lt;/<span class="name">h5</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h6</span>&gt;</span>这是标题 6<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="段落"><a href="#段落" class="headerlink" title="段落"></a>段落</h3><blockquote>
<p><strong>可以把 HTML 文档分割为若干段落。</strong></p>
</blockquote>
<p>HTML 段落是通过 <code>&lt;p&gt;</code> 来定义的。</p>
<p>浏览器会自动地在段落的前后添加空行。（<code>&lt;p&gt;</code> 是块级元素）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是另外一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用空的段落标记 <code>&lt;p&gt;&lt;/p&gt;</code> 去插入一个空行是个坏习惯。用 <code>&lt;br /&gt;</code> 标签代替它！</p>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><blockquote>
<p><strong>HTML 使用超级链接与网络上的另一个文档相连。</strong></p>
<p><strong>几乎可以在所有的网页中找到链接。点击链接可以从一张页面跳转到另一张页面。</strong></p>
</blockquote>
<p>HTML 使用标签 <code>&lt;a&gt;</code> 来设置超文本链接。</p>
<p>超链接可以是一个字，一个词，或者一组词，也可以是一幅图像，您可以点击这些内容来跳转到新的文档或者当前文档中的某个部分。</p>
<p>当您把鼠标指针移动到网页中的某个链接上时，箭头会变为一只小手。</p>
<p>我们通过使用 <code>&lt;a&gt;</code> 标签在 HTML 中创建链接。有两种使用 <code>&lt;a&gt;</code> 标签的方式：</p>
<ol>
<li>通过使用 <code>href</code> 属性 - 创建指向另一个文档的链接</li>
<li>通过使用 <code>name</code> 属性 - 创建文档内的书签</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.baidu.com"</span>&gt;</span>这是一个链接<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="herf-属性"><a href="#herf-属性" class="headerlink" title="herf 属性"></a>herf 属性</h4><p><code>href</code> 属性规定链接的目标。</p>
<p>链接的 HTML 代码很简单。它类似这样：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"url"</span>&gt;</span>Link text<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>开始标签和结束标签之间的文字被作为超级链接来显示。</p>
<p><strong>示例</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=&quot;http://www.example.com/&quot;&gt;Visit&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>提示：”链接文本” 不必一定是文本。图片或其他 HTML 元素都可以成为链接。</p>
<h4 id="name-属性"><a href="#name-属性" class="headerlink" title="name 属性"></a>name 属性</h4><p><code>name</code> 属性规定锚（anchor）的名称。</p>
<p>您可以使用 name 属性创建 HTML 页面中的书签。书签不会以任何特殊方式显示，它对读者是不可见的。</p>
<p>当使用命名锚（named anchors）时，我们可以创建直接跳至该命名锚（比如页面中某个小节）的链接，这样使用者就无需不停地滚动页面来寻找他们需要的信息了。</p>
<p><strong>命名锚的语法：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a name=&quot;label&quot;&gt;锚（显示在页面上的文本）&lt;/a&gt;</span><br></pre></td></tr></table></figure>
<p>提示：锚的名称可以是任何你喜欢的名字。</p>
<p>提示：您可以使用 id 属性来替代 name 属性，命名锚同样有效。</p>
<p><strong>示例</strong></p>
<p>首先，我们在 HTML 文档中对锚进行命名（创建一个书签）：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"tips"</span>&gt;</span>基本的注意事项 - 有用的提示<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后，我们在同一个文档中创建指向该锚的链接：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#tips"</span>&gt;</span>有用的提示<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>您也可以在其他页面中创建指向该锚的链接：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.example.com/html/html-links.html#tips"</span>&gt;</span>有用的提示<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在上面的代码中，我们将 # 符号和锚名称添加到 URL 的末端，就可以直接链接到 tips 这个命名锚了。</p>
<h4 id="target-属性"><a href="#target-属性" class="headerlink" title="target 属性"></a>target 属性</h4><p>使用 <code>target</code> 属性，你可以定义被链接的文档在何处显示。</p>
<p>下面的这行会在新窗口打开文档：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.examplel.com/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Visit<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="图像"><a href="#图像" class="headerlink" title="图像"></a>图像</h3><p>HTML 图像是通过标签 <code>&lt;img&gt;</code> 来定义的。</p>
<p><code>&lt;img&gt;</code> 是空标签，意思是说，它只包含属性，并且没有闭合标签。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/assets/images/html.png"</span> <span class="attr">width</span>=<span class="string">"600"</span> <span class="attr">height</span>=<span class="string">"800"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="src-属性"><a href="#src-属性" class="headerlink" title="src 属性"></a>src 属性</h4><p>要在页面上显示图像，你需要使用 <code>src</code> 属性。src 指 “source”。源属性的值是图像的 URL 地址。</p>
<p>定义图像的语法是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;url&quot; /&gt;</span><br></pre></td></tr></table></figure>
<p>URL 指存储图像的位置。如果名为 “boat.gif” 的图像位于 <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> 的 images 目录中，那么其 URL 为 <a href="http://www.example.com/images/boat.gif。" target="_blank" rel="noopener">http://www.example.com/images/boat.gif。</a></p>
<p>浏览器将图像显示在文档中图像标签出现的地方。如果你将图像标签置于两个段落之间，那么浏览器会首先显示第一个段落，然后显示图片，最后显示第二段。</p>
<h4 id="alt-属性"><a href="#alt-属性" class="headerlink" title="alt 属性"></a>alt 属性</h4><p>alt 属性用来为图像定义一串预备的可替换的文本。替换文本属性的值是用户定义的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"boat.gif"</span> <span class="attr">alt</span>=<span class="string">"Big Boat"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在浏览器无法载入图像时，替换文本属性告诉读者她们失去的信息。此时，浏览器将显示这个替代性的文本而不是图像。为页面上的图像都加上替换文本属性是个好习惯，这样有助于更好的显示信息，并且对于那些使用纯文本浏览器的人来说是非常有用的。</p>
<h3 id="水平线"><a href="#水平线" class="headerlink" title="水平线"></a>水平线</h3><p><code>&lt;hr /&gt;</code> 标签在 HTML 页面中创建水平线。</p>
<p>水平线可用于分隔内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h3><p>如果您希望在不产生一个新段落的情况下进行换行（新行），请使用 <code>&lt;br /&gt;</code> 标签：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这个<span class="tag">&lt;<span class="name">br</span> /&gt;</span>段落<span class="tag">&lt;<span class="name">br</span> /&gt;</span>演示了分行的效果<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>&lt;br /&gt;</code> 元素是一个空的 HTML 元素。由于关闭标签没有任何意义，因此它没有结束标签。</p>
<p>选择 <code>&lt;br&gt;</code> 还是 <code>&lt;br /&gt;</code> ?</p>
<p>您也许发现 <code>&lt;br&gt;</code> 与 <code>&lt;br /&gt;</code> 很相似。</p>
<p>在 XHTML、XML 以及未来的 HTML 版本中，不允许使用没有结束标签（闭合标签）的 HTML 元素。</p>
<p>即使 <code>&lt;br&gt;</code> 在所有浏览器中的显示都没有问题，使用 <code>&lt;br /&gt;</code> 也是<strong>更长远的保障</strong>。</p>
<h4 id="HTML-忽略空格和换行"><a href="#HTML-忽略空格和换行" class="headerlink" title="HTML 忽略空格和换行"></a>HTML 忽略空格和换行</h4><p>对于 HTML，您无法通过在 HTML 代码中添加额外的空格或换行来改变输出的效果。</p>
<p>当显示页面时，浏览器会移除<strong>源代码中</strong>多余的空格和空行。所有连续的空格或空行都会被算作一个空格。需要注意的是，HTML 代码中的所有连续的空行（换行）也被显示为一个空格。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>春晓<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    春眠不觉晓，</span><br><span class="line">      处处闻啼鸟。</span><br><span class="line">        夜来风雨声，</span><br><span class="line">          花落知多少。</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>注意，浏览器忽略了源代码中的排版（省略了多余的空格和换行）。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>说明：HTML 的输出结果并不会按照源代码中那样去排版内容。</p>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>可以将注释插入 HTML 代码中，这样可以提高其可读性，使代码更易被人理解。浏览器会忽略注释，也不会显示它们。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 这是一个注释 --&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="条件注释"><a href="#条件注释" class="headerlink" title="条件注释"></a>条件注释</h4><p>您也许会在 HTML 中偶尔发现条件注释：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--[if IE 8]&gt;</span><br><span class="line">    .... some HTML here ....</span><br><span class="line">&lt;![endif]--&gt;</span><br></pre></td></tr></table></figure>
<p>条件注释定义只有 Internet Explorer 执行的 HTML 标签。</p>
<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="中文编码"><a href="#中文编码" class="headerlink" title="中文编码"></a>中文编码</h3><p>目前在大部分浏览器中，直接输出中文会出现中文乱码的情况，这时候我们就需要在头部将字符声明为 <strong>UTF-8</strong>。</p>
<p>添加 <code>&lt;meta charset=&quot;UTF-8&quot;&gt;</code> 元素。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>页面标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的第一个标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>我的第一个段落。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="html-和-htm"><a href="#html-和-htm" class="headerlink" title="html 和 htm"></a>html 和 htm</h3><p><code>.html</code> 和 <code>.htm</code> 都是 html 文档的后缀名，二者没有区别。</p>
<h3 id="HTML-忽略空格和换行-1"><a href="#HTML-忽略空格和换行-1" class="headerlink" title="HTML 忽略空格和换行"></a>HTML 忽略空格和换行</h3><p>对于 HTML，您无法通过在 HTML 代码中添加额外的空格或换行来改变输出的效果。</p>
<p>当显示页面时，浏览器会移除<strong>源代码中</strong>多余的空格和空行。所有连续的空格或空行都会被算作一个空格。需要注意的是，HTML 代码中的所有连续的空行（换行）也被显示为一个空格。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>春晓<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    春眠不觉晓，</span><br><span class="line">      处处闻啼鸟。</span><br><span class="line">        夜来风雨声，</span><br><span class="line">          花落知多少。</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>注意，浏览器忽略了源代码中的排版（省略了多余的空格和换行）。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>说明：HTML 的输出结果并不会按照源代码中那样去排版内容。</p>
<h2 id="更多内容"><a href="#更多内容" class="headerlink" title="更多内容"></a>更多内容</h2><blockquote>
<p>:books: 拓展阅读</p>
<ul>
<li><a href="html.md">Html</a></li>
<li><a href="css.md">Css</a></li>
<li><a href="javascript.md">Javascript</a></li>
</ul>
<p>:package: 本文归档在 <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener">我的前端技术教程系列：frontend-tutorial</a></p>
</blockquote>
<ul>
<li><a href="https://developer.mozilla.org/en-US/Learn/HTML" target="_blank" rel="noopener">mozilla html 教程</a></li>
<li><a href="http://www.w3school.com.cn/html/index.asp" target="_blank" rel="noopener">W3school html 教程</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/frontend/es6/babel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/frontend/es6/babel/" itemprop="url">Babel 教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Babel-教程"><a href="#Babel-教程" class="headerlink" title="Babel 教程"></a>Babel 教程</h1><blockquote>
<p><code>Babel</code> 是一个通用的多用途 JavaScript 编译器。</p>
<p>⚠ <strong>注意：</strong></p>
<p>Babel 可以与很多构建工具（如 <code>Browserify</code>、<code>Grunt</code>、<code>Gulp</code> 等）进行集成。由于本教程选择 <code>Webpack</code> ，所以只讲解与 <code>Webpack</code> 的集成。想了解如何与其它工具集成，请参考：<a href="https://babeljs.io/docs/setup/#installation" target="_blank" rel="noopener"><strong>官方文档 - installation</strong></a></p>
<p>关键词： <code>babel-cli</code>, <code>.babelrc</code>, <code>preset</code>, <code>polyfill</code></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#1-简介">1. 简介</a><ul>
<li><a href="#11-babel-能做什么">1.1. Babel 能做什么？</a></li>
<li><a href="#12-babel-不能做什么">1.2. Babel 不能做什么？</a></li>
</ul>
</li>
<li><a href="#2-安装-babel">2. 安装 Babel</a><ul>
<li><a href="#21-babel-cli">2.1. <code>babel-cli</code></a></li>
<li><a href="#22-babel-node">2.2. <code>babel-node</code></a></li>
<li><a href="#23-babel-register">2.3. <code>babel-register</code></a></li>
<li><a href="#24-babel-core">2.4. <code>babel-core</code></a></li>
<li><a href="#25-与-webpack-集成">2.5. 与 webpack 集成</a></li>
</ul>
</li>
<li><a href="#3-配置-babel">3. 配置 Babel</a><ul>
<li><a href="#31-babelrc">3.1. <code>.babelrc</code></a></li>
<li><a href="#32-在其它工具中配置">3.2. 在其它工具中配置</a></li>
</ul>
</li>
<li><a href="#4-执行-babel-生成的代码">4. 执行 Babel 生成的代码</a><ul>
<li><a href="#41-babel-polyfill">4.1. <code>babel-polyfill</code></a></li>
<li><a href="#42-babel-runtime">4.2. <code>babel-runtime</code></a></li>
</ul>
</li>
<li><a href="#5-更多内容">5. 更多内容</a></li>
</ul>
<!-- /TOC -->
<h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><h3 id="1-1-Babel-能做什么？"><a href="#1-1-Babel-能做什么？" class="headerlink" title="1.1. Babel 能做什么？"></a>1.1. Babel 能做什么？</h3><ul>
<li>Babel 通过语法转换来支持最新版本的 JavaScript （ES6），而不用等待浏览器的支持。</li>
<li>Babel 可以转换 React 的 JSX 语法和删除类型注释。</li>
<li>Babel 是由插件构建的。因此，你可以根据自己的需要订制。</li>
<li>支持 source map ，所以您可以轻松调试您编译的代码。</li>
</ul>
<h3 id="1-2-Babel-不能做什么？"><a href="#1-2-Babel-不能做什么？" class="headerlink" title="1.2. Babel 不能做什么？"></a>1.2. Babel 不能做什么？</h3><ul>
<li>Babel 只转换语法（如箭头函数），不支持新的全局变量。但是，您可以使用 <a href="http://babeljs.io/docs/usage/polyfill/" target="_blank" rel="noopener"><code>babel-polyfill</code></a> 来辅助支持。</li>
</ul>
<h2 id="2-安装-Babel"><a href="#2-安装-Babel" class="headerlink" title="2. 安装 Babel"></a>2. 安装 Babel</h2><h3 id="2-1-babel-cli"><a href="#2-1-babel-cli" class="headerlink" title="2.1. babel-cli"></a>2.1. <code>babel-cli</code></h3><p><code>babel-cli</code> 是 Babel 的命令行工具。</p>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地安装</span></span><br><span class="line">$ npm install --save-dev babel-cli</span><br><span class="line"><span class="comment"># 全局安装</span></span><br><span class="line">$ npm install --global babel-cli</span><br></pre></td></tr></table></figure>
<p><strong>用法</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将编译后的结果直接输出至终端</span></span><br><span class="line">$ babel example.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将结果写入到指定的文件</span></span><br><span class="line">$ babel example.js --out-file compiled.js</span><br><span class="line">$ babel example.js -o compiled.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将一个目录整个编译成一个新的目录</span></span><br><span class="line">$ babel src --out-dir lib</span><br><span class="line">$ babel src -d lib</span><br></pre></td></tr></table></figure>
<h4 id="与-package-json-集成"><a href="#与-package-json-集成" class="headerlink" title="与 package.json 集成"></a>与 <code>package.json</code> 集成</h4><blockquote>
<p>​:pushpin: <strong>提示：</strong></p>
<p>建议使用本地安装方式安装 <code>babel-cli</code> 。</p>
<p>原因在与：</p>
<ol>
<li>在同一台机器上的不同项目或许会依赖不同版本的 Babel 并允许你有选择的更新。</li>
<li>这意味着你对工作环境没有隐式依赖，这让你的项目有很好的可移植性并且易于安装。</li>
</ol>
</blockquote>
<p>本地安装 <code>babel-cli</code> ，直接使用 <code>babel</code> 命令将无法识别。你可以选在在  <code>package.json</code>  文件的  <code>scripts</code>  属性中定义命令。<code>npm</code> 会自动找到本地安装的库。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"build"</span>: <span class="string">"babel src -d lib"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"babel-cli"</span>: <span class="string">"^6.0.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在可以在终端里执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run build</span><br></pre></td></tr></table></figure>
<blockquote>
<p>​:flashlight: <strong>示例 DEMO01：</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel/demo01" target="_blank" rel="noopener"><strong>SOURCE</strong></a>)</p>
<p>说明：</p>
<p>示例的上一级目录 <a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel" target="_blank" rel="noopener"><code>codes/chapter04/babel</code></a> 已经配好了配置文件。</p>
<p>在 <code>codes/chapter04/babel</code> 路径下执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ npm install</span><br><span class="line">&gt; $ npm run demo01</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>会生成一个 <code>dist/demo01</code> 目录，其中就是被转码后的文件。</p>
</blockquote>
<h3 id="2-2-babel-node"><a href="#2-2-babel-node" class="headerlink" title="2.2. babel-node"></a>2.2. <code>babel-node</code></h3><p><code>babel-cli</code> 工具自带一个 <code>babel-node</code> 命令，提供一个支持 ES6 的 REPL 环境。它支持 Node 的 REPL 环境的所有功能，而且可以直接运行 ES6 代码。</p>
<p>它不用单独安装，而是随 <code>babel-cli</code> 一起安装。然后，执行 <code>babel-node</code> 就进入 PEPL 环境。</p>
<p>然后用  <code>babel-node</code>  来替代  <code>node</code>  运行所有的代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ babel-node</span><br><span class="line">&gt; (x =&gt; x * 2)(1)</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><code>babel-node</code> 命令可以直接运行 ES6 脚本:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ babel-node example.js</span><br></pre></td></tr></table></figure>
<p>如果用 npm 的话只需要这样做：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"script-name"</span>: <span class="string">"babel-node script.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"babel-cli"</span>: <span class="string">"^6.0.0"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后，执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run babel-node</span><br></pre></td></tr></table></figure>
<h3 id="2-3-babel-register"><a href="#2-3-babel-register" class="headerlink" title="2.3. babel-register"></a>2.3. <code>babel-register</code></h3><p>下一个常用的运行 Babel 的方法是通过  <code>babel-register</code>。这种方法只需要引入文件就可以运行 Babel，或许能更好地融入你的项目设置。</p>
<blockquote>
<p>​:warning: <strong>注意：</strong></p>
<p>这种方法并不适合正式产品环境使用。 直接部署用此方式编译的代码不是好的做法。 在部署之前预先编译会更好。</p>
<p>不过用在构建脚本或是其他本地运行的脚本中是非常合适的。</p>
</blockquote>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev babel-register</span><br></pre></td></tr></table></figure>
<p><strong>使用</strong></p>
<ol>
<li>创建  <code>index.js</code>  文件：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'Hello world!'</span>);</span><br></pre></td></tr></table></figure>
<p>这是，使用  <code>node index.js</code>  来运行它是不会使用 Babel 来编译的。所以我们需要设置  <code>babel-register</code>。.</p>
<ol start="2">
<li>创建  <code>register.js</code>  文件：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>(<span class="string">'babel-register'</span>);</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'./index.js'</span>);</span><br></pre></td></tr></table></figure>
<p>这样做可以把 Babel <em>注册</em>到 Node 的模块系统中并开始编译其中  <code>require</code>  的所有文件。</p>
<ol start="3">
<li><p>执行命令</p>
<p>现在我们可以使用  <code>register.js</code>  来代替  <code>node index.js</code>  来运行了。</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node register.js</span><br></pre></td></tr></table></figure>
<p>需要注意的是：你不能在你要编译的文件内同时注册 Babel，因为 node 会在 Babel 编译它之前就将它执行了。</p>
<blockquote>
<p>​:flashlight: <strong>示例 DEMO02：</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel/demo02" target="_blank" rel="noopener"><strong>SOURCE</strong></a>)</p>
<p>说明：</p>
<p>示例的上一级目录 <a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/babel" target="_blank" rel="noopener"><code>codes/chapter04/babel</code></a> 已经配好了配置文件。</p>
<p>在 <code>codes/chapter04/babel</code> 路径下执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ npm install</span><br><span class="line">&gt; $ npm run demo02</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>控制台会打印如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; &gt; node demo02/register.js</span><br><span class="line">&gt;</span><br><span class="line">&gt; Hello world!</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="2-4-babel-core"><a href="#2-4-babel-core" class="headerlink" title="2.4. babel-core"></a>2.4. <code>babel-core</code></h3><p>如果你需要以编程的方式来使用 Babel，可以使用  <code>babel-core</code>  这个包。</p>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install babel-core</span><br></pre></td></tr></table></figure>
<p><strong>使用</strong></p>
<p>在代码中引入 <code>babel-core</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">'babel-core'</span>);</span><br></pre></td></tr></table></figure>
<p><strong>编译 API</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 如果是字符串形式的 JavaScript 代码，可以使用 transform 编译</span><br><span class="line">babel.transform(<span class="string">"code();"</span>, options);</span><br><span class="line"><span class="comment">// =&gt; &#123; code, map, ast &#125;</span></span><br><span class="line"></span><br><span class="line"># 如果是文件的话，异步编译使用 transformFile</span><br><span class="line">babel.transformFile(<span class="string">"filename.js"</span>, options, <span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>) </span>&#123;</span><br><span class="line">  result; <span class="comment">// =&gt; &#123; code, map, ast &#125;</span></span><br><span class="line">&#125;);</span><br><span class="line"># 如果是文件的话，同步编译使用 transformFileSync</span><br><span class="line">babel.transformFileSync(<span class="string">"filename.js"</span>, options);</span><br><span class="line"><span class="comment">// =&gt; &#123; code, map, ast &#125;</span></span><br><span class="line"></span><br><span class="line"># 要是已经有一个 Babel AST（抽象语法树）了就可以直接从 AST 进行转换</span><br><span class="line">babel.transformFromAst(ast, code, options);</span><br><span class="line"><span class="comment">// =&gt; &#123; code, map, ast &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-5-与-webpack-集成"><a href="#2-5-与-webpack-集成" class="headerlink" title="2.5. 与 webpack 集成"></a>2.5. 与 webpack 集成</h3><blockquote>
<p>​:pushpin: <strong>提示：</strong></p>
<p>本教程由于选择的编译工具为 <code>webpack</code> ，所以这里只介绍与 <code>webpack</code> 的集成。</p>
<p>实际上，Babel 还可以与其它许多工具集成，更多内容参考：<a href="https://babeljs.io/docs/setup/#installation" target="_blank" rel="noopener">官方文档 - setup</a></p>
</blockquote>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev babel-loader babel-core</span><br></pre></td></tr></table></figure>
<p><strong>配置 </strong></p>
<p>在 Chapter03 的 <a href="https://github.com/dunwu/frontend-tutorial/tree/master/docs/chapter03/webpack/asset-management.md" target="_blank" rel="noopener">Webpack 资源管理</a> 一文中，介绍过使用 babel-loader 来处理 React 语法。</p>
<p>在 <strong>webpack.config.js</strong> 配置如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 关于模块配置</span></span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 模块规则（配置 loader、解析器等选项）</span></span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 语义解释器，将 js/jsx 文件中的 es2015/react 语法自动转为浏览器可识别的 Javascript 语法</span></span><br><span class="line">      test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">      include: path.resolve(__dirname, <span class="string">"app"</span>),</span><br><span class="line">      loader: <span class="string">"babel-loader"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<blockquote>
<p>​:flashlight: <strong>示例</strong></p>
<p><strong>chapter03-jigsaw：</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter03/jigsaw" target="_blank" rel="noopener"><strong>SOURCE</strong></a>)</p>
<p><strong>chapter04-jigsaw：</strong> (<a href="https://github.com/dunwu/frontend-tutorial/tree/master/codes/chapter04/jigsaw" target="_blank" rel="noopener"><strong>SOURCE</strong></a>)</p>
<p>说明：</p>
<p><code>chapter04-jigsaw</code> 和 <code>chapter03-jigsaw</code> 相比，多了一个 <code>.babelrc</code> 文件。它其实是将 <code>chapter03-jigsaw</code> 中的 <code>webpack.common.js</code> 文件里的 babel-loader 的配置移入了 <code>.babelrc</code> 文件。</p>
<p>这两个代码目录的执行结果完全相同。</p>
<p>执行方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ npm install</span><br><span class="line">&gt; <span class="comment"># 开发环境 - 本地启动一个访问地址为 localhost:9000 的 web app</span></span><br><span class="line">&gt; $ npm run dev</span><br><span class="line">&gt; <span class="comment"># 开发环境 - 生成一个 dist 目录，其中打包了所有资源文件，在浏览器打开 index.html，可以看到和开发环境差不多的展示。</span></span><br><span class="line">&gt; $ npm run prod</span><br><span class="line">&gt; <span class="comment"># 清除输出目录 dist</span></span><br><span class="line">&gt; $ npm run clean</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="3-配置-Babel"><a href="#3-配置-Babel" class="headerlink" title="3. 配置 Babel"></a>3. 配置 Babel</h2><blockquote>
<p>​:pushpin: 提示：</p>
<p>由于 <code>Babel</code> 是一个非常灵活的通用编译器，因此默认情况下它反而什么都不做。</p>
<p>你需要通过配置文件，明确地告诉 Babel 应该要做什么。</p>
</blockquote>
<h3 id="3-1-babelrc"><a href="#3-1-babelrc" class="headerlink" title="3.1. .babelrc"></a>3.1. <code>.babelrc</code></h3><p><code>.babelrc</code>  文件是 <code>Babel</code> 的默认配置文件。</p>
<p><code>.babelrc</code> <strong>文件的内容形式就是序列化的 JSON。</strong></p>
<p>该文件用来设置转码规则（presets）和插件（plugins），基本格式如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [],</span><br><span class="line">  <span class="attr">"plugins"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="转码规则-preset"><a href="#转码规则-preset" class="headerlink" title="转码规则(preset)"></a>转码规则(preset)</h4><p>转码规则可以告诉 Babel 去处理什么语法。</p>
<p>常见的转码规则有：</p>
<ul>
<li><p><code>babel-preset-es2015</code></p>
<p>这是 ES2015（最新版本的 JavaScript 标准，也叫做 ES6）的转码规则。使用它后，Babel 可以将 ES6 语法转码为普通 JavaScript（即 ES5） 语法。</p>
</li>
<li><p><code>babel-preset-react</code></p>
<p>这是 React 的转码规则。使用它后，Babel 可以将 React 语法转码为普通 JavaScript 语法。</p>
</li>
<li><p><code>babel-preset-stage-x</code></p>
<p>这是 ES7 不同阶段语法提案的转码规则。使用它后，Babel 可以将 ES7 不同阶段语法转码为普通 JavaScript 语法。</p>
<blockquote>
<p>​:pushpin: 提示：</p>
<p>JavaScript 还有一些提案，正在积极通过 TC39（ECMAScript 标准背后的技术委员会）的流程成为标准的一部分。</p>
<p>这个流程分为 5（0－4）个阶段。 随着提案得到越多的关注就越有可能被标准采纳，于是他们就继续通过各个阶段，最终在阶段 4 被标准正式采纳。以下是 4 个不同阶段的（打包的）预设：</p>
<ul>
<li><code>babel-preset-stage-0</code></li>
<li><code>babel-preset-stage-1</code></li>
<li><code>babel-preset-stage-2</code></li>
<li><code>babel-preset-stage-3</code></li>
</ul>
<p>stage-4 预设是不存在的因为它就是上面的  <code>es2015</code>  预设。</p>
<p>以上每种预设都依赖于紧随的后期阶段预设。例如，<code>babel-preset-stage-1</code>  依赖  <code>babel-preset-stage-2</code>，后者又依赖<code>babel-preset-stage-3</code>。</p>
</blockquote>
</li>
</ul>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># es2015（即ES6）语法转码规则</span></span><br><span class="line">$ npm install --save-dev babel-preset-es2015</span><br><span class="line"></span><br><span class="line"><span class="comment"># react 语法转码规则</span></span><br><span class="line">$ npm install --save-dev babel-preset-react</span><br><span class="line"></span><br><span class="line"><span class="comment"># stage 是指 ES7 不同阶段的语法转码规则，选装一个即可</span></span><br><span class="line">$ npm install --save-dev babel-preset-stage-0</span><br><span class="line">$ npm install --save-dev babel-preset-stage-1</span><br><span class="line">$ npm install --save-dev babel-preset-stage-2</span><br><span class="line">$ npm install --save-dev babel-preset-stage-3</span><br></pre></td></tr></table></figure>
<p><strong>使用</strong></p>
<p>安装完后，需要在配置文件  <code>.babelrc</code>  中引入项目中实际需要的预设转码规则，让 Babel 得以知道规则。</p>
<p>形式如下：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [<span class="string">"es2015"</span>, <span class="string">"react"</span>, <span class="string">"stage-0"</span>],</span><br><span class="line">  <span class="attr">"plugins"</span>: []</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="插件-plugins"><a href="#插件-plugins" class="headerlink" title="插件(plugins)"></a>插件(plugins)</h4><p>插件是 Babel 的核心。</p>
<p>Babel 插件大致分为三类：</p>
<ul>
<li><p>转码插件</p>
<p>有很多种插件：将 ES6 / ES2015 转换为 ES5，转换为 ES3，minification，JSX，flow，实验功能等等。</p>
</li>
</ul>
<ul>
<li><p>语法插件</p>
<p>这些只是使转码插件能够解析某些功能（转码插件已经包含语法插件，因此这两个功能你都不需要）：<code>babel-plugin-syntax-x</code></p>
</li>
<li><p>助手</p>
<p>这些主要用于各种插件内部使用：<code>babel-helper-x</code>。</p>
</li>
</ul>
<p>更多插件请在 <a href="https://www.npmjs.com/search?q=babel-plugin" target="_blank" rel="noopener">npm</a> 搜索（真的好多！）</p>
<p>更详细介绍请参考：<a href="http://babeljs.io/docs/plugins" target="_blank" rel="noopener">官方文档 - 插件</a></p>
<h3 id="3-2-在其它工具中配置"><a href="#3-2-在其它工具中配置" class="headerlink" title="3.2. 在其它工具中配置"></a>3.2. 在其它工具中配置</h3><blockquote>
<p>​:pushpin:​ <strong>提示：</strong></p>
<p>除了在  <code>.babelrc</code>  文件中定义 Babel 配置。实际上，还可以在其他工具中对其进行配置。</p>
</blockquote>
<h4 id="在-package-json-中配置"><a href="#在-package-json-中配置" class="headerlink" title="在 package.json 中配置"></a>在 <code>package.json</code> 中配置</h4><p>可以在 <code>package.json</code> 文件的 <code>babel</code> 属性中配置 Babel 规则。</p>
<p>配置方法与 <code>.babelrc</code> 文件完全相同。</p>
<p>形式如下：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"babel": &#123;</span><br><span class="line">  "presets": [</span><br><span class="line">    <span class="string">"es2015"</span></span><br><span class="line">  ]</span><br><span class="line">  "plugins": []</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<h4 id="在-webpack-config-js-中配置"><a href="#在-webpack-config-js-中配置" class="headerlink" title="在 webpack.config.js 中配置"></a>在 <code>webpack.config.js</code> 中配置</h4><p>可以在 <code>webpack.config.js</code> 文件配置 <code>babel-loader</code> 时，直接在 <code>options</code> 属性中配置 Babel 规则。</p>
<p>形式如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">  include: path.resolve(__dirname, <span class="string">"app"</span>),</span><br><span class="line">  exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">  loader: <span class="string">"babel-loader"</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    presets: [</span><br><span class="line">      [</span><br><span class="line">        <span class="string">"es2015"</span>,</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="string">"modules"</span>: <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      <span class="string">"react"</span></span><br><span class="line">    ],</span><br><span class="line">    plugins: [</span><br><span class="line">      <span class="string">"syntax-dynamic-import"</span>,  <span class="comment">// 动态导入插件</span></span><br><span class="line">      <span class="string">"react-hot-loader/babel"</span> <span class="comment">// 开启 React 代码的模块热替换(HMR)</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-执行-Babel-生成的代码"><a href="#4-执行-Babel-生成的代码" class="headerlink" title="4. 执行 Babel 生成的代码"></a>4. 执行 Babel 生成的代码</h2><p>即便你已经用 Babel 编译了你的代码，但这还不算完。</p>
<h3 id="4-1-babel-polyfill"><a href="#4-1-babel-polyfill" class="headerlink" title="4.1. babel-polyfill"></a>4.1. <code>babel-polyfill</code></h3><p>Babel 几乎可以编译所有新潮的 JavaScript 语法，但对于 APIs 来说却并非如此。</p>
<p>比方说，下列含有箭头函数的需要编译的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最终会变成这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addAll</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>).reduce(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然而，它依然无法随处可用。因为并非所有的 JavaScript 环境都支持  <code>Array.from</code>。</p>
<p>为了解决这个问题，我们使用一种叫做  <a href="https://remysharp.com/2010/10/08/what-is-a-polyfill" target="_blank" rel="noopener">Polyfill（代码填充，也可译作兼容性补丁）</a>  的技术。 简单地说，polyfill 即是在当前运行环境中用来复制（意指模拟性的复制，而不是拷贝）尚不存在的原生 api 的代码。 能让你提前使用还不可用的 APIs，<code>Array.from</code>  就是一个例子。</p>
<p>Babel 提供了 <code>babel-polyfill</code> 来支持 polyfill 。</p>
<p><strong>安装</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save babel-polyfill</span><br></pre></td></tr></table></figure>
<p><strong>使用</strong></p>
<p>然后，只需要在文件顶部导入 <code>babel-polyfill</code> 就可以了：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span>;</span><br></pre></td></tr></table></figure>
<h3 id="4-2-babel-runtime"><a href="#4-2-babel-runtime" class="headerlink" title="4.2. babel-runtime"></a>4.2. <code>babel-runtime</code></h3><p>babel-runtime 与 polyfill 类似，不同之处在于它不修改全局范围，并且与 <code>babel-plugin-transform-runtime</code>（通常在库/插件代码中）一起使用。</p>
<p>为了实现 ECMAScript 规范的细节，Babel 会使用“助手”方法来保持生成代码的整洁。</p>
<p>由于这些助手方法可能会特别长并且会被添加到每一个文件的顶部，因此你可以把它们统一移动到一个单一的“运行时（runtime）”中去。</p>
<p>通过安装  <code>babel-plugin-transform-runtime</code>  和  <code>babel-runtime</code>  来开始。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev babel-plugin-transform-runtime</span><br><span class="line">$ npm install --save babel-runtime</span><br></pre></td></tr></table></figure>
<p>然后更新  <code>.babelrc</code>：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"presets"</span>: [<span class="string">"es2015"</span>, <span class="string">"react"</span>, <span class="string">"stage-0"</span>],</span><br><span class="line">  <span class="attr">"plugins"</span>: [<span class="string">"transform-runtime"</span>, <span class="string">"transform-es2015-classes"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在，Babel 会把这样的代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  method() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>编译成：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> _classCallCheck <span class="keyword">from</span> <span class="string">'babel-runtime/helpers/classCallCheck'</span>;</span><br><span class="line"><span class="keyword">import</span> _createClass <span class="keyword">from</span> <span class="string">'babel-runtime/helpers/createClass'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> Foo = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    _classCallCheck(<span class="keyword">this</span>, Foo);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _createClass(Foo, [</span><br><span class="line">    &#123;</span><br><span class="line">      key: <span class="string">'method'</span>,</span><br><span class="line">      value: <span class="function"><span class="keyword">function</span> <span class="title">method</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> Foo;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>这样就不需要把  <code>_classCallCheck</code>  和  <code>_createClass</code>  这两个助手方法放进每一个需要的文件里去了。</p>
<h2 id="5-更多内容"><a href="#5-更多内容" class="headerlink" title="5. 更多内容"></a>5. 更多内容</h2><blockquote>
<p>:package: 本文归档在 <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener">我的前端技术教程系列：frontend-tutorial</a></p>
</blockquote>
<ul>
<li><strong>官方</strong><ul>
<li><a href="https://babeljs.io/" target="_blank" rel="noopener">Babel 官网</a></li>
<li><a href="https://www.babeljs.cn/" target="_blank" rel="noopener">Babel 中文网</a></li>
<li><a href="https://github.com/babel/babel" target="_blank" rel="noopener">Babel Github</a></li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/frontend/nodejs/npm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/frontend/nodejs/npm/" itemprop="url">Npm 入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Npm-入门"><a href="#Npm-入门" class="headerlink" title="Npm 入门"></a>Npm 入门</h1><blockquote>
<p><strong>Npm 是随同 Nodejs 一起安装的 js 包管理工具。</strong></p>
<p>关键词： <code>nodejs</code>, <code>包管理</code>, <code>npm</code>, <code>cnpm</code>, <code>package.json</code>, <code>node_modules</code></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:3 -->
<ul>
<li><a href="#简介">简介</a></li>
<li><a href="#安装">安装</a></li>
<li><a href="#npm-工作流">Npm 工作流</a></li>
<li><a href="#npm-常用命令">Npm 常用命令</a><ul>
<li><a href="#初始化新项目">初始化新项目</a></li>
<li><a href="#安装模块">安装模块</a></li>
<li><a href="#卸载模块">卸载模块</a></li>
<li><a href="#更新模块">更新模块</a></li>
<li><a href="#管理配置文件">管理配置文件</a></li>
<li><a href="#发布包">发布包</a></li>
<li><a href="#执行脚本">执行脚本</a></li>
<li><a href="#查看安装信息">查看安装信息</a></li>
</ul>
</li>
<li><a href="#配置文件">配置文件</a><ul>
<li><a href="#package-版本">package 版本</a></li>
<li><a href="#版本号">版本号</a></li>
</ul>
</li>
<li><a href="#npm-扩展">npm 扩展</a><ul>
<li><a href="#cnpm">cnpm</a></li>
<li><a href="#nrm">nrm</a></li>
</ul>
</li>
<li><a href="#更多内容">更多内容</a></li>
</ul>
<!-- /TOC -->
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><strong>Npm 是随同 Nodejs 一起安装的 js 包管理工具。</strong></p>
<p>常见的使用场景有以下几种：</p>
<ul>
<li>允许用户从 Npm 服务器下载别人编写的第三方包到本地使用。</li>
<li>允许用户从 Npm 服务器下载并安装别人编写的命令行程序到本地使用。</li>
<li>允许用户将自己编写的包或命令行程序上传到 Npm 服务器供别人使用。</li>
</ul>
<p>如果一个项目中存在 <code>package.json</code> 文件，那么用户可以直接使用 <code>npm install</code> 命令自动安装和维护当前项目所需的所有模块。在 <code>package.json</code> 文件中，开发者可以指定每个依赖项的版本范围，这样既可以保证模块自动更新，又不会因为所需模块功能大幅变化导致项目出现问题。开发者也可以选择将模块固定在某个版本之上。</p>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>由于新版的 nodejs 已经集成了 npm，所以之前 npm 也一并安装好了。同样可以通过输入 <code>npm -v</code> 来测试是否成功安装。命令如下，出现版本提示表示安装成功:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm -v</span><br><span class="line">2.3.0</span><br></pre></td></tr></table></figure>
<p>可以通过命令方式升级 npm</p>
<ul>
<li>Linux - <code>sudo npm install npm -g</code></li>
<li>Window - <code>npm install npm -g</code></li>
</ul>
<h2 id="Npm-工作流"><a href="#Npm-工作流" class="headerlink" title="Npm 工作流"></a>Npm 工作流</h2><p>Npm 工作流：</p>
<ol>
<li>创建一个新项目</li>
<li>增加／更新／删除依赖</li>
<li>安装／重装你的依赖</li>
<li>引入版本控制系统（例如 git）</li>
<li>持续集成</li>
</ol>
<h2 id="Npm-常用命令"><a href="#Npm-常用命令" class="headerlink" title="Npm 常用命令"></a>Npm 常用命令</h2><p><strong>每个命令都会更新 <code>package.json</code> 文件。</strong></p>
<ul>
<li>Npm 提供了很多命令，例如<code>install</code>和<code>publish</code>，使用<code>npm help</code>可查看所有命令。</li>
<li>使用<code>npm help</code>可查看某条命令的详细帮助，例如<code>npm help install</code>。</li>
<li>在<code>package.json</code>所在目录下使用<code>npm install . -g</code>可先在本地安装当前命令行程序，可用于发布前的本地测试。</li>
<li>使用<code>npm update</code>可以把当前目录下<code>node_modules</code>子目录里边的对应模块更新至最新版本。</li>
<li>使用<code>npm update -g</code>可以把全局安装的对应命令行程序更新至最新版。</li>
<li>使用<code>npm cache clear</code>可以清空 Npm 本地缓存，用于对付使用相同版本号发布新版本代码的人。</li>
<li>使用<code>npm unpublish @</code>可以撤销发布自己发布过的某个版本代码。</li>
</ul>
<p>Npm 提供了很多命令，例如 install 和 publish，使用 npm help 可查看所有命令。</p>
<h3 id="初始化新项目"><a href="#初始化新项目" class="headerlink" title="初始化新项目"></a>初始化新项目</h3><blockquote>
<p><code>npm init</code> 用于初始化项目，它会创建一个名为 <code>package.json</code> 的配置文件。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init [-f|--force|-y|--yes]</span><br></pre></td></tr></table></figure>
<p><strong>说明</strong></p>
<p>执行命令后，npm 会问你一系列问题，然后在执行命令的目录下创建一个<code>package.json</code>文件。</p>
<p>如果使用 <code>-f</code> / <code>--force</code> 或 <code>-y</code> / <code>--yes</code> ，npm 会使用默认值为你创建 <code>package.json</code> 文件，不再询问任何问题。</p>
<p>创建模块，package.json 文件是必不可少的。我们可以使用 Npm 生成 <code>package.json</code> 文件，生成的文件包含了基本的结果。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">$ npm init</span><br><span class="line">This utility will walk you through creating a `package.json` file.</span><br><span class="line">It only covers the most common items, and tries to guess sensible defaults.</span><br><span class="line"></span><br><span class="line">See `npm <span class="built_in">help</span> json` <span class="keyword">for</span> definitive documentation on these fields</span><br><span class="line">and exactly what they <span class="keyword">do</span>.</span><br><span class="line"></span><br><span class="line">Use `npm install &lt;pkg&gt; --save` afterwards to install a package and</span><br><span class="line">save it as a dependency <span class="keyword">in</span> the `package.json` file.</span><br><span class="line"></span><br><span class="line">Press ^C at any time to quit.</span><br><span class="line">name: (node_modules) runoob                   <span class="comment"># 模块名</span></span><br><span class="line">version: (1.0.0)</span><br><span class="line">description: Node.js 测试模块(www.runoob.com)  <span class="comment"># 描述</span></span><br><span class="line">entry point: (index.js)</span><br><span class="line"><span class="built_in">test</span> <span class="built_in">command</span>: make <span class="built_in">test</span></span><br><span class="line">git repository: https://github.com/runoob/runoob.git  <span class="comment"># Github 地址</span></span><br><span class="line">keywords:</span><br><span class="line">author:</span><br><span class="line">license: (ISC)</span><br><span class="line">About to write to ……/node_modules/package.json:      <span class="comment"># 生成地址</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"runoob"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"Node.js 测试模块(www.runoob.com)"</span>,</span><br><span class="line">  ……</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Is this ok? (yes) yes</span><br></pre></td></tr></table></figure>
<p>以上的信息，你需要根据你自己的情况输入。在最后输入 “yes” 后会生成 <code>package.json</code> 文件。</p>
<p>接下来我们可以使用以下命令在 npm 资源库中注册用户（使用邮箱注册）：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm adduser</span><br><span class="line">Username: mcmohd</span><br><span class="line">Password:</span><br><span class="line">Email: (this IS public) mcmohd@gmail.com</span><br></pre></td></tr></table></figure>
<h3 id="安装模块"><a href="#安装模块" class="headerlink" title="安装模块"></a>安装模块</h3><blockquote>
<p><code>npm install</code> 用于安装模块。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">npm install (with no args, <span class="keyword">in</span> package dir)</span><br><span class="line">npm install &lt;tarball file&gt;  <span class="comment"># 安装位于文件系统上的包。</span></span><br><span class="line">npm install &lt;tarball url&gt;   <span class="comment"># 获取 url，然后安装它。为了区分此选项和其他选项，参数必须以“http://”或“https://”开头。</span></span><br><span class="line">npm install &lt;folder&gt;        <span class="comment"># 安装位于文件系统上某文件夹中的包</span></span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;                 <span class="comment"># 安装指定的包的最新版本。</span></span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;tag&gt;           <span class="comment"># 安装被 tag 引用的包的版本。如果 tag 不存在于该包的注册表数据中，则失败。</span></span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version&gt;       <span class="comment"># 安装指定的包的版本。如果版本尚未发布到注册表，则失败。</span></span><br><span class="line">npm install [&lt;@scope&gt;/]&lt;name&gt;@&lt;version range&gt; <span class="comment"># 安装与指定版本范围相匹配的包版本。</span></span><br></pre></td></tr></table></figure>
<p><code>npm install [&lt;@scope&gt;/] [-S|--save|-D|--save-dev|-O|--save-optional]</code> 参数说明：</p>
<p><code>npm install</code> 有 3 个可选参数，用于保存或更新主 <code>package.json</code> 中的包版本：</p>
<ul>
<li><code>-S, --save</code> - 包将被添加到 <code>dependencies</code>。</li>
<li><code>-D, --save-dev</code> - 包将被添加到 <code>devDependencies</code>。</li>
<li><code>-O, --save-optional</code> - 包将被添加到 <code>optionalDependencies</code>。</li>
</ul>
<p>当使用上述任何选项将依赖保存到 <code>package.json</code> 时，有两个额外的可选标志 -</p>
<ul>
<li><code>-E, --save-exact</code> - 会在 <code>package.json</code> 文件指定安装模块的确切版本。</li>
<li><code>-B, --save-bundle</code> - 包也将被添加到<code>bundleDependencies</code>。</li>
</ul>
<h4 id="全局安装与本地安装"><a href="#全局安装与本地安装" class="headerlink" title="全局安装与本地安装"></a>全局安装与本地安装</h4><p>npm 的包安装分为本地安装（local）、全局安装（global）两种，从敲的命令行来看，差别只是有没有-g 而已，比如</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install express     <span class="comment"># 本地安装</span></span><br><span class="line">npm install express -g  <span class="comment"># 全局安装</span></span><br></pre></td></tr></table></figure>
<h5 id="本地安装"><a href="#本地安装" class="headerlink" title="本地安装"></a>本地安装</h5><ol>
<li>将安装包放在 <code>node_modules</code> 下（运行 npm 命令时所在的目录），如果没有 <code>node_modules</code> 目录，会在当前执行 npm 命令的目录下新建 <code>node_modules</code> 目录。</li>
<li>可以通过 require() 来引入本地安装的包。</li>
</ol>
<p>示例：我们使用 npm 命令安装常用的 Node.js 的 web 框架模块 <strong>express</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install express</span><br></pre></td></tr></table></figure>
<p>安装好之后，express 包就放在了工程目录下的 <code>node_modules</code> 目录中，因此在代码中只需要通过 <code>require(&#39;express&#39;)</code> 的方式就好，无需指定第三方包路径。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var express = require(&apos;express&apos;);</span><br></pre></td></tr></table></figure>
<h5 id="全局安装"><a href="#全局安装" class="headerlink" title="全局安装"></a>全局安装</h5><ol>
<li>将安装包放在 /usr/local 下或者你 node 的安装目录。</li>
<li>可以直接在命令行里使用。</li>
</ol>
<p>如果你希望具备两者功能，则需要在两个地方安装它或使用 <strong>npm link</strong>。</p>
<p>接下来我们使用全局方式安装 express</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install express -g</span><br></pre></td></tr></table></figure>
<p>安装过程输出如下内容，第一行输出了模块的版本号及安装位置。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">express@4.13.3 node_modules/express</span><br><span class="line">├── escape-html@1.0.2</span><br><span class="line">├── range-parser@1.0.2</span><br><span class="line">├── merge-descriptors@1.0.0</span><br><span class="line">├── array-flatten@1.1.1</span><br><span class="line">├── cookie@0.1.3</span><br><span class="line">├── utils-merge@1.0.0</span><br><span class="line">├── parseurl@1.3.0</span><br><span class="line">├── cookie-signature@1.0.6</span><br><span class="line">├── methods@1.1.1</span><br><span class="line">├── fresh@0.3.0</span><br><span class="line">├── vary@1.0.1</span><br><span class="line">├── path-to-regexp@0.1.7</span><br><span class="line">├── content-type@1.0.1</span><br><span class="line">├── etag@1.7.0</span><br><span class="line">├── serve-static@1.10.0</span><br><span class="line">├── content-disposition@0.5.0</span><br><span class="line">├── depd@1.0.1</span><br><span class="line">├── qs@4.0.0</span><br><span class="line">├── finalhandler@0.4.0 (unpipe@1.0.0)</span><br><span class="line">├── on-finished@2.3.0 (ee-first@1.1.1)</span><br><span class="line">├── proxy-addr@1.0.8 (forwarded@0.1.0, ipaddr.js@1.0.1)</span><br><span class="line">├── debug@2.2.0 (ms@0.7.1)</span><br><span class="line">├── <span class="built_in">type</span>-is@1.6.8 (media-typer@0.3.0, mime-types@2.1.6)</span><br><span class="line">├── accepts@1.2.12 (negotiator@0.5.3, mime-types@2.1.6)</span><br><span class="line">└── send@0.13.0 (destroy@1.0.3, statuses@1.2.1, ms@0.7.1, mime@1.3.4, http-errors@1.3.1)</span><br></pre></td></tr></table></figure>
<h3 id="卸载模块"><a href="#卸载模块" class="headerlink" title="卸载模块"></a>卸载模块</h3><blockquote>
<p><code>npm uninstall</code> 用于卸载包。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall [&lt;@scope&gt;/]&lt;pkg&gt;[@&lt;version&gt;]... [-S|--save|-D|--save-dev|-O|--save-optional]</span><br><span class="line"></span><br><span class="line">aliases: remove, rm, r, un, unlink</span><br></pre></td></tr></table></figure>
<p><strong>说明</strong></p>
<p>在全局模式下（即，在命令中附加<code>-g</code>或<code>--global</code>），它将当前包上下文作为全局包卸载。</p>
<p><code>npm uninstall</code> 有 3 个可选参数，用于保存或更新主 package.json 中的包版本：</p>
<ul>
<li><code>-S, --save</code> - 包将被添加到 <code>dependencies</code>。</li>
<li><code>-D, --save-dev</code> - 包将被添加到 <code>devDependencies</code>。</li>
<li><code>-O, --save-optional</code> - 包将被添加到 <code>optionalDependencies</code>。</li>
</ul>
<p>例：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall sax</span><br><span class="line">npm uninstall sax --save</span><br><span class="line">npm uninstall @myorg/privatepackage --save</span><br><span class="line">npm uninstall node-tap --save-dev</span><br><span class="line">npm uninstall dtrace-provider --save-optional</span><br></pre></td></tr></table></figure>
<h3 id="更新模块"><a href="#更新模块" class="headerlink" title="更新模块"></a>更新模块</h3><blockquote>
<p><code>npm update</code> 用于更新本地安装的模块。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm update [-g] [&lt;pkg&gt;...]</span><br><span class="line"></span><br><span class="line">aliases: up, upgrade</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：从 <a href="mailto:**npm@2.6.1" target="_blank" rel="noopener">**npm@2.6.1</a>** 开始，<code>npm update</code> 仅更新顶级包。旧版本的 npm 会递归检查所有的依赖。如果要达到旧版本的行为，请使用<code>npm --depth 9999 update</code>。</p>
</blockquote>
<h3 id="管理配置文件"><a href="#管理配置文件" class="headerlink" title="管理配置文件"></a>管理配置文件</h3><blockquote>
<p><code>npm config</code> 命令用于管理配置文件。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> &lt;key&gt; &lt;value&gt; [-g|--global]  <span class="comment"># 设置一个配置参数</span></span><br><span class="line">npm config get &lt;key&gt;                        <span class="comment"># 获取一个配置参数</span></span><br><span class="line">npm config delete &lt;key&gt;                     <span class="comment"># 删除一个配置参数</span></span><br><span class="line">npm config list                             <span class="comment"># 打印配置参数列表</span></span><br><span class="line">npm config edit                             <span class="comment"># 直接编辑配置文件</span></span><br><span class="line">npm get &lt;key&gt;                               <span class="comment"># npm config get &lt;key&gt; 的简写。</span></span><br><span class="line">npm <span class="built_in">set</span> &lt;key&gt; &lt;value&gt; [-g|--global]         <span class="comment"># npm config set &lt;key&gt; &lt;value&gt; [-g|--global] 的简写</span></span><br></pre></td></tr></table></figure>
<h3 id="发布包"><a href="#发布包" class="headerlink" title="发布包"></a>发布包</h3><blockquote>
<p><code>npm publish</code> 用于发布一个包。</p>
</blockquote>
<p><strong>命令格式</strong></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm publish [&lt;tarball&gt;|&lt;folder&gt;] [--tag &lt;tag&gt;] [--access &lt;public|restricted&gt;]</span><br><span class="line"></span><br><span class="line">Publishes <span class="string">'.'</span> <span class="keyword">if</span> no argument supplied</span><br><span class="line">Sets tag <span class="string">'latest'</span> <span class="keyword">if</span> no --tag specified</span><br></pre></td></tr></table></figure>
<blockquote>
<p>说明：将包发布到注册表，以便可以按名称安装。如果没有本地 <code>.gitignore</code> 或 <code>.npmignore</code> 文件，则包括软件包目录中的所有文件。如果这两个过滤文件都存在时，某个文件被 <code>.gitignore</code> 忽略，而不被 <code>.npmignore</code> 忽略，则它将被包括。</p>
</blockquote>
<h3 id="执行脚本"><a href="#执行脚本" class="headerlink" title="执行脚本"></a>执行脚本</h3><blockquote>
<p><code>npm run</code> 用于执行脚本。</p>
</blockquote>
<p>如果在 <code>package.json</code> 文件中的 <code>scripts</code> 字段定义了命令，就可以使用 <code>npm run</code> 来执行脚本命令。</p>
<p>示例：</p>
<p>假设 <code>package.json</code> 文件中的 <code>scripts</code> 字段如下定义：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">    "test": "mocha",</span><br><span class="line">    "lint": "eslint lib bin hot scripts",</span><br><span class="line">    "prepublish": "npm run test &amp;&amp; npm run lint",</span><br><span class="line">    "start": "node index.js"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>npm run test</code> - 相当于执行 <code>mocha</code> 命令。它会开始执行测试框架 Mocha 。</li>
<li><code>npm run lint</code> - 相当于执行 <code>eslint lib bin hot scripts</code> 命令。它会开始执行 eslint 检查。</li>
<li><code>npm run prepublish</code> - 相当于执行 <code>npm run test</code> 和 <code>npm run lint</code> 两条命令。现在你了解如何复合命令了吧。</li>
<li><code>npm start</code> - 相当于执行 <code>node index.js</code> 。Node.js 启动一个服务的入口脚本。</li>
</ul>
<h3 id="查看安装信息"><a href="#查看安装信息" class="headerlink" title="查看安装信息"></a>查看安装信息</h3><p>你可以使用以下命令来查看所有全局安装的模块：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ npm list -g</span><br><span class="line"></span><br><span class="line">├─┬ cnpm@4.3.2</span><br><span class="line">│ ├── auto-correct@1.0.0</span><br><span class="line">│ ├── bagpipe@0.3.5</span><br><span class="line">│ ├── colors@1.1.2</span><br><span class="line">│ ├─┬ commander@2.9.0</span><br><span class="line">│ │ └── graceful-readlink@1.0.1</span><br><span class="line">│ ├─┬ cross-spawn@0.2.9</span><br><span class="line">│ │ └── lru-cache@2.7.3</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
<p>如果要查看某个模块的版本号，可以使用命令如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm list grunt</span><br><span class="line"></span><br><span class="line">projectName@projectVersion /path/to/project/folder</span><br><span class="line">└── grunt@0.4.1</span><br></pre></td></tr></table></figure>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>使用 npm 来管理的 javascript 项目一般都有一个<code>package.json</code>文件。它定义了这个项目所依赖的各种包，以及项目的配置信息（比如名称、版本、依赖等元数据）。</p>
<p><code>package.json</code> 中的内容就是 json 形式。</p>
<p>重要字段：</p>
<ul>
<li><code>name</code> - 包名。</li>
<li><code>version</code> - 包的版本号。</li>
<li><code>description</code> - 包的描述。</li>
<li><code>homepage</code> - 包的官网 url 。</li>
<li><code>author</code> - 包的作者姓名。</li>
<li><code>contributors</code> - 包的其他贡献者姓名。</li>
<li><code>dependencies</code> - 指定项目运行所依赖的模块。</li>
<li><code>devDependencies</code> - 指定项目开发所依赖的模块。</li>
<li><code>repository</code> - 包代码存放的地方的类型，可以是 git 或 svn，git 可在 Github 上。</li>
<li><code>main</code> - main 字段是一个模块 ID，它是一个指向你程序的主要项目。就是说，如果你包的名字叫 express，然后用户安装它，然后 require(“express”)。</li>
<li><code>keywords</code> - 关键字</li>
<li><code>bin</code> - 用来指定各个内部命令对应的可执行文件的位置。</li>
<li><code>scripts</code> - 指定了运行脚本命令的 npm 命令行缩写。</li>
</ul>
<p><strong>示例：一个完整的 package.json</strong></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"reactnotes"</span>,</span><br><span class="line">  <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="attr">"description"</span>: <span class="string">"react 教程"</span>,</span><br><span class="line">  <span class="attr">"main"</span>: <span class="string">"./index.js"</span>,</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"react"</span>: <span class="string">"^15.4.1"</span>,</span><br><span class="line">    <span class="attr">"react-dom"</span>: <span class="string">"^15.4.1"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"webpack-dev-server"</span>: <span class="string">"^1.16.2"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"start"</span>: <span class="string">"node index.js"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"repository"</span>: &#123;</span><br><span class="line">    <span class="attr">"type"</span>: <span class="string">"git"</span>,</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"git+https://github.com/atlantis1024/ReactNotes.git"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"author"</span>: <span class="string">"victor"</span>,</span><br><span class="line">  <span class="attr">"license"</span>: <span class="string">"Apache-2.0"</span>,</span><br><span class="line">  <span class="attr">"bugs"</span>: &#123;</span><br><span class="line">    <span class="attr">"url"</span>: <span class="string">"https://github.com/atlantis1024/ReactNotes/issues"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"homepage"</span>: <span class="string">"https://github.com/atlantis1024/ReactNotes#readme"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="package-版本"><a href="#package-版本" class="headerlink" title="package 版本"></a>package 版本</h3><p>上文介绍 package.json 文件中的 <code>dependencies</code> 和 <code>devDependencies</code> 字段，这二者都是 json 数组。它们的每个 json 子对象，key 表示包名，value 表示版本。</p>
<p>npm 允许的版本声明方式十分多样。下面将为你介绍一二。</p>
<p><strong>说明</strong></p>
<ul>
<li><code>version</code> - 安装一个确定的版本，遵循“大版本.次要版本.小版本”的格式规定。如：1.0.0。</li>
<li><code>\~version</code> - 以 <code>\~1.0.0</code> 来举例，表示安装 1.0.x 的最新版本（不低于 1.0.0）。但是大版本号和次要版本号不能变。</li>
<li><code>^version</code> - 以 <code>^1.0.0</code> 来举例，表示安装 1.x.x 的最新版本（不低于 1.0.0），但是大版本号不能变。</li>
<li><code>1.2.x</code> - 表示安装 1.2.x。</li>
<li><code>&gt;、&gt;=、&lt;、&lt;=</code> - 可以像数组比较一样，使用比较符来限定版本范围。</li>
<li><code>version1 - version2</code> - 相当于 <code>&gt;=version1 &lt;=version2</code>.</li>
<li><code>range1 || range2</code> - 版本满足 range1 或 range2 两个限定条件中任意一个即可。</li>
<li><code>tag</code> - 一个指定 tag 对应的版本。</li>
<li><code>*</code> 或 <code>&quot;&quot;</code> (空字符串)：任意版本。</li>
<li><code>latest</code> - 最新版本。</li>
<li><code>http://...</code> 或 <code>file://...</code> - 你可以指定 http 或本地文件路径下的包作为版本。</li>
<li><code>git...</code> - 参考下面的“直接将 Git Url 作为依赖包版本”</li>
<li><code>user/repo</code> - 参考下面的“直接将 Git Url 作为依赖包版本”</li>
</ul>
<p>例：下面的版本声明都是有效的</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="attr">"foo"</span>: <span class="string">"1.0.0 - 2.9999.9999"</span>,</span><br><span class="line">    <span class="attr">"bar"</span>: <span class="string">"&gt;=1.0.2 &lt;2.1.2"</span>,</span><br><span class="line">    <span class="attr">"baz"</span>: <span class="string">"&gt;1.0.2 &lt;=2.3.4"</span>,</span><br><span class="line">    <span class="attr">"boo"</span>: <span class="string">"2.0.1"</span>,</span><br><span class="line">    <span class="attr">"qux"</span>: <span class="string">"&lt;1.0.0 || &gt;=2.3.1 &lt;2.4.5 || &gt;=2.5.2 &lt;3.0.0"</span>,</span><br><span class="line">    <span class="attr">"asd"</span>: <span class="string">"http://asdf.com/asdf.tar.gz"</span>,</span><br><span class="line">    <span class="attr">"til"</span>: <span class="string">"~1.2"</span>,</span><br><span class="line">    <span class="attr">"elf"</span>: <span class="string">"~1.2.3"</span>,</span><br><span class="line">    <span class="attr">"two"</span>: <span class="string">"2.x"</span>,</span><br><span class="line">    <span class="attr">"thr"</span>: <span class="string">"3.3.x"</span>,</span><br><span class="line">    <span class="attr">"lat"</span>: <span class="string">"latest"</span>,</span><br><span class="line">    <span class="attr">"dyl"</span>: <span class="string">"file:../dyl"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>直接将 Git Url 作为依赖包版本</strong></p>
<p>Git Url 形式可以如下：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git://github.com/user/project.git<span class="comment">#commit-ish</span></span><br><span class="line">git+ssh://user@hostname:project.git<span class="comment">#commit-ish</span></span><br><span class="line">git+ssh://user@hostname/project.git<span class="comment">#commit-ish</span></span><br><span class="line">git+http://user@hostname/project/blah.git<span class="comment">#commit-ish</span></span><br><span class="line">git+https://user@hostname/project/blah.git<span class="comment">#commit-ish</span></span><br></pre></td></tr></table></figure>
<h3 id="版本号"><a href="#版本号" class="headerlink" title="版本号"></a>版本号</h3><p>使用 Npm 下载和发布代码时都会接触到版本号。Npm 使用语义版本号来管理代码，这里简单介绍一下。</p>
<p>语义版本号分为 X.Y.Z 三位，分别代表主版本号、次版本号和补丁版本号。当代码变更时，版本号按以下原则更新。</p>
<ul>
<li>如果只是修复 bug，需要更新 Z 位。</li>
<li>如果是新增了功能，但是向下兼容，需要更新 Y 位。</li>
<li>如果有大变动，向下不兼容，需要更新 X 位。</li>
</ul>
<p>版本号有了这个保证后，在申明第三方包依赖时，除了可依赖于一个固定版本号外，还可依赖于某个范围的版本号。例如”argv”: “0.0.x”表示依赖于 0.0.x 系列的最新版 argv。</p>
<p>Npm 支持的所有版本号范围指定方式可以查看<a href="https://npmjs.org/doc/files/package.json.html#dependencies" target="_blank" rel="noopener">官方文档</a>。</p>
<h2 id="npm-扩展"><a href="#npm-扩展" class="headerlink" title="npm 扩展"></a>npm 扩展</h2><h3 id="cnpm"><a href="#cnpm" class="headerlink" title="cnpm"></a>cnpm</h3><p>大家都知道国内直接使用 npm 的官方镜像是非常慢的，这里推荐使用<a href="https://npm.taobao.org/" target="_blank" rel="noopener">淘宝 NPM 镜像</a>。</p>
<p><a href="https://npm.taobao.org/" target="_blank" rel="noopener">淘宝 NPM 镜像</a>是一个完整 npmjs.org 镜像，你可以用此代替官方版本(只读)，同步频率目前为 10 分钟 一次以保证尽量与官方服务同步。</p>
<p>你可以使用淘宝定制的 cnpm (gzip 压缩支持) 命令行工具代替默认的 npm:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>
<p>这样就可以使用 cnpm 命令来安装模块了：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cnpm install [name]</span><br></pre></td></tr></table></figure>
<p>更多信息可以查阅：<a href="http://npm.taobao.org/" target="_blank" rel="noopener">http://npm.taobao.org/</a>。</p>
<h3 id="nrm"><a href="#nrm" class="headerlink" title="nrm"></a>nrm</h3><p><a href="https://github.com/Pana/nrm" target="_blank" rel="noopener">Nrm</a> 是 NPM 注册服务器管理工具，可以快速切换不同的注册表：npm，cnpm，nj，taobao，或者是你自己的私服。</p>
<h4 id="安装-nrm"><a href="#安装-nrm" class="headerlink" title="安装 nrm"></a>安装 nrm</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nrm</span><br></pre></td></tr></table></figure>
<p>查看可用服务器</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看可用服务器</span></span><br><span class="line">$ nrm ls</span><br><span class="line"></span><br><span class="line">* npm -----  https://registry.npmjs.org/</span><br><span class="line">  cnpm ----  http://r.cnpmjs.org/</span><br><span class="line">  taobao --  https://registry.npm.taobao.org/</span><br><span class="line">  nj ------  https://registry.nodejitsu.com/</span><br><span class="line">  rednpm -- http://registry.mirror.cqupt.edu.cn</span><br><span class="line">  skimdb -- https://skimdb.npmjs.com/registry</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换服务器</span></span><br><span class="line">$ nrm use tabao</span><br></pre></td></tr></table></figure>
<h4 id="nrm-命令语义"><a href="#nrm-命令语义" class="headerlink" title="nrm 命令语义"></a>nrm 命令语义</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Usage: nrm [options] [<span class="built_in">command</span>]</span><br><span class="line"></span><br><span class="line">  Commands:</span><br><span class="line"></span><br><span class="line">    ls                           List all the registries</span><br><span class="line">    use &lt;registry&gt;               Change registry to registry</span><br><span class="line">    add &lt;registry&gt; &lt;url&gt; [home]  Add one custom registry</span><br><span class="line">    del &lt;registry&gt;               Delete one custom registry</span><br><span class="line">    home &lt;registry&gt; [browser]    Open the homepage of registry with optional browser</span><br><span class="line">    <span class="built_in">test</span> [registry]              Show the response time <span class="keyword">for</span> one or all registries</span><br><span class="line">    <span class="built_in">help</span>                         Print this <span class="built_in">help</span></span><br><span class="line"></span><br><span class="line">  Options:</span><br><span class="line"></span><br><span class="line">    -h, --<span class="built_in">help</span>     output usage information</span><br><span class="line">    -V, --version  output the version number</span><br></pre></td></tr></table></figure>
<h2 id="更多内容"><a href="#更多内容" class="headerlink" title="更多内容"></a>更多内容</h2><blockquote>
<p>:books: 拓展阅读</p>
<ul>
<li><a href="nodejs.md">Node.js</a></li>
<li><a href="npm.md">Npm</a></li>
<li><a href="yarn.md">Yarn</a></li>
</ul>
<p>:package: 本文归档在 <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener">我的前端技术教程系列：frontend-tutorial</a></p>
</blockquote>
<ul>
<li><a href="https://www.npmjs.com/" target="_blank" rel="noopener">Npm 官网</a></li>
<li><a href="https://www.npmjs.com.cn/" target="_blank" rel="noopener">Npm 中文网</a></li>
<li><a href="https://github.com/npm/cli" target="_blank" rel="noopener">Npm Github</a></li>
<li><a href="https://npm.taobao.org/" target="_blank" rel="noopener">淘宝 NPM 镜像</a> - 代替官方版本，加速下载</li>
<li><a href="https://github.com/sindresorhus/awesome-npm" target="_blank" rel="noopener">awesome-npm</a> - npm 资源</li>
<li><a href="https://github.com/rlidwka/sinopia" target="_blank" rel="noopener">sinopia</a> - 零配置搭建 npm 私服</li>
<li><a href="https://github.com/Pana/nrm" target="_blank" rel="noopener">nrm</a> - npm 服务器地址管理工具</li>
<li><a href="http://www.runoob.com/nodejs/nodejs-npm.html" target="_blank" rel="noopener">NPM 使用介绍</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/frontend/tool/gitbook-quiickstart/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/frontend/tool/gitbook-quiickstart/" itemprop="url">This is a comment</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>本文详细讲解了 Gitbook 生成电子书的完整过程，内容包括：安装、命令、配置、文档结构、生成电子书、部署。</p>
<p>限于篇幅，本文不介绍任何 Gitbook 定制化页面的内容。</p>
<p>想看看 Gitbook 在线电子书效果，请猛戳这里：<a href="https://dunwu.gitbooks.io/gitbook-notes" target="_blank" rel="noopener">gitbook-notes</a></p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:2 -->
<ul>
<li><a href="#概述">概述</a></li>
<li><a href="#gitbook-安装">GitBook 安装</a></li>
<li><a href="#gitbook-命令">GitBook 命令</a></li>
<li><a href="#gitbook-目录结构">Gitbook 目录结构</a></li>
<li><a href="#gitbook-配置">Gitbook 配置</a></li>
<li><a href="#生成电子书">生成电子书</a></li>
<li><a href="#gitbook-部署">Gitbook 部署</a></li>
<li><a href="#资源">资源</a></li>
</ul>
<!-- /TOC -->
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>GitBook 是使用 GitHub / Git 和 Markdown（或 AsciiDoc）构建漂亮书籍的命令行工具（和 Node.js 库）。</p>
<p>GitBook 可以将您的内容作为网站（可定制和可扩展）或电子书（PDF，ePub 或 Mobi）输出。</p>
<p><a href="https://www.gitbook.com/" target="_blank" rel="noopener">GitBook.com</a> 是使用 GitBook 格式创建和托管图书的在线平台。它提供托管，协作功能和易于使用的编辑器。</p>
<p><br><div align="center"><img src="https://camo.githubusercontent.com/c1b6c55fca8e171120ce1fd73afcee699cc2a98f/68747470733a2f2f7261772e6769746875622e636f6d2f476974626f6f6b494f2f676974626f6f6b2f6d61737465722f707265766965772e706e67"></div><br></p>
<h2 id="GitBook-安装"><a href="#GitBook-安装" class="headerlink" title="GitBook 安装"></a>GitBook 安装</h2><h3 id="本地安装"><a href="#本地安装" class="headerlink" title="本地安装"></a>本地安装</h3><h4 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h4><p>安装 GitBook 是很简单的。您的系统只需要满足这两个要求：</p>
<ul>
<li>NodeJS（推荐使用 v4.0.0 及以上版本）</li>
<li>Windows，Linux，Unix 或 Mac OS X</li>
</ul>
<h4 id="通过-NPM-安装"><a href="#通过-NPM-安装" class="headerlink" title="通过 NPM 安装"></a>通过 NPM 安装</h4><p>安装 GitBook 的最好办法是通过 <strong>NPM</strong>。在终端提示符下，只需运行以下命令即可安装 GitBook：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install gitbook-cli -g</span><br></pre></td></tr></table></figure>
<p><code>gitbook-cli</code> 是 GitBook 的一个命令行工具。它将自动安装所需版本的 GitBook 来构建一本书。</p>
<p>执行下面的命令，查看 GitBook 版本，以验证安装成功。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook -V</span><br></pre></td></tr></table></figure>
<h4 id="安装历史版本"><a href="#安装历史版本" class="headerlink" title="安装历史版本"></a>安装历史版本</h4><p><code>gitbook-cli</code>  可以轻松下载并安装其他版本的 GitBook 来测试您的书籍：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook fetch beta</span><br></pre></td></tr></table></figure>
<p>使用 <code>gitbook ls-remote</code>  会列举可以下载的版本。</p>
<h3 id="创建一本书"><a href="#创建一本书" class="headerlink" title="创建一本书"></a>创建一本书</h3><h4 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h4><p>GitBook 可以设置一个样板书：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook init</span><br></pre></td></tr></table></figure>
<p>如果您希望将书籍创建到一个新目录中，可以通过运行 <code>gitbook init ./directory</code> 这样做。</p>
<h4 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h4><p>使用下面的命令，会在项目的目录下生成一个 <code>_book</code> 目录，里面的内容为静态站点的资源文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook build</span><br></pre></td></tr></table></figure>
<h5 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h5><p>您可以使用选项  <code>--log=debug</code>  和  <code>--debug</code>  来获取更好的错误消息（使用堆栈跟踪）。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook build ./ --<span class="built_in">log</span>=debug --debug</span><br></pre></td></tr></table></figure>
<h4 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h4><p>使用下列命令会运行一个 web 服务, 通过 <code>http://localhost:4000/</code> 可以预览书籍</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gitbook serve</span><br></pre></td></tr></table></figure>
<h2 id="GitBook-命令"><a href="#GitBook-命令" class="headerlink" title="GitBook 命令"></a>GitBook 命令</h2><p>这里主要介绍一下 GitBook 的命令行工具 <code>gitbook-cli</code> 的一些命令, 首先说明两点:</p>
<ul>
<li><code>gitbook-cli</code> 和 <code>gitbook</code> 是两个软件</li>
<li><code>gitbook-cli</code> 会将下载的 gitbook 的不同版本放到 <code>\~/.gitbook</code>中, 可以通过设置<code>GITBOOK_DIR</code>环境变量来指定另外的文件夹</li>
</ul>
<p><strong>列出 gitbook 所有的命令</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook <span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<p><strong>输出 <code>gitbook-cli</code> 的帮助信息</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook --<span class="built_in">help</span></span><br></pre></td></tr></table></figure>
<p><strong>生成静态网页</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook build</span><br></pre></td></tr></table></figure>
<p><strong>生成静态网页并运行服务器</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook serve</span><br></pre></td></tr></table></figure>
<p><strong>生成时指定 gitbook 的版本, 本地没有会先下载</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook build --gitbook=2.0.1</span><br></pre></td></tr></table></figure>
<p><strong>列出本地所有的 gitbook 版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook ls</span><br></pre></td></tr></table></figure>
<p><strong>列出远程可用的 gitbook 版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook ls-remote</span><br></pre></td></tr></table></figure>
<p><strong>安装对应的 gitbook 版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook fetch 标签/版本号</span><br></pre></td></tr></table></figure>
<p><strong>更新到 gitbook 的最新版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook update</span><br></pre></td></tr></table></figure>
<p><strong>卸载对应的 gitbook 版本</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook uninstall 2.0.1</span><br></pre></td></tr></table></figure>
<p><strong>指定 log 的级别</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook build --<span class="built_in">log</span>=debug</span><br></pre></td></tr></table></figure>
<p><strong>输出错误信息</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gitbook builid --debug</span><br></pre></td></tr></table></figure>
<h2 id="Gitbook-目录结构"><a href="#Gitbook-目录结构" class="headerlink" title="Gitbook 目录结构"></a>Gitbook 目录结构</h2><h3 id="GitBook-项目结构"><a href="#GitBook-项目结构" class="headerlink" title="GitBook 项目结构"></a>GitBook 项目结构</h3><p>GitBook 使用简单的目录结构。在 <a href="https://toolchain.gitbook.com/pages.html" target="_blank" rel="noopener">SUMMARY</a> （即 <code>SUMMARY.md</code> 文件）中列出的所有 Markdown / Asciidoc 文件将被转换为 HTML。多语言书籍结构略有不同。</p>
<p>一个基本的 GitBook 电子书结构通常如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── book.json</span><br><span class="line">├── README.md</span><br><span class="line">├── SUMMARY.md</span><br><span class="line">├── chapter-1/</span><br><span class="line">|   ├── README.md</span><br><span class="line">|   └── something.md</span><br><span class="line">└── chapter-2/</span><br><span class="line">    ├── README.md</span><br><span class="line">    └── something.md</span><br></pre></td></tr></table></figure>
<p>GitBook 特殊文件的功能：</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>book.json</code></td>
<td>配置数据 (<strong>optional</strong>)</td>
</tr>
<tr>
<td><code>README.md</code></td>
<td>电子书的前言或简介 (<strong>required</strong>)</td>
</tr>
<tr>
<td><code>SUMMARY.md</code></td>
<td>电子书目录 (<strong>optional</strong>)</td>
</tr>
<tr>
<td><code>GLOSSARY.md</code></td>
<td>词汇/注释术语列表 (<strong>optional</strong>)</td>
</tr>
</tbody>
</table>
<h4 id="静态文件和图片"><a href="#静态文件和图片" class="headerlink" title="静态文件和图片"></a>静态文件和图片</h4><p>静态文件是在  <code>SUMMARY.md</code> 中未列出的文件。除非被忽略，否则所有静态文件都将复制到输出路径。</p>
<h4 id="忽略文件和文件夹"><a href="#忽略文件和文件夹" class="headerlink" title="忽略文件和文件夹"></a>忽略文件和文件夹</h4><p>GitBook 将读取  <code>.gitignore</code>，<code>.bookignore</code>  和  <code>.ignore</code>  文件，以获取要过滤的文件和文件夹。这些文件中的格式遵循 <code>.gitignore</code> 的规则：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># This is a comment</span><br><span class="line"></span><br><span class="line"># Ignore the file test.md</span><br><span class="line">test.md</span><br><span class="line"></span><br><span class="line"># Ignore everything in the directory &quot;bin&quot;</span><br><span class="line">bin/*</span><br></pre></td></tr></table></figure>
<h4 id="项目与子目录集成"><a href="#项目与子目录集成" class="headerlink" title="项目与子目录集成"></a>项目与子目录集成</h4><p>对于软件项目，您可以使用子目录（如 <code>docs/</code> ）来存储项目文档的图书。您可以配置根选项来指示 GitBook 可以找到该图书文件的文件夹：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── book.json</span><br><span class="line">└── docs/</span><br><span class="line">    ├── README.md</span><br><span class="line">    └── SUMMARY.md</span><br></pre></td></tr></table></figure>
<p>在 <code>book.json</code>  中配置以下内容：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"root"</span>: <span class="string">"./docs"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>GitBook 使用  <code>SUMMARY.md</code>  文件来定义本书的章节和子章节的结构。 <code>SUMMARY.md</code> 文件用于生成本书的目录。</p>
<p><code>SUMMARY.md</code>  的格式是一个链接列表。链接的标题将作为章节的标题，链接的目标是该章节文件的路径。</p>
<p>向父章节添加嵌套列表将创建子章节。</p>
<p><strong>简单示例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Summary</span><br><span class="line"></span><br><span class="line">* [Part I](part1/README.md)</span><br><span class="line">    * [Writing is nice](part1/writing.md)</span><br><span class="line">    * [GitBook is nice](part1/gitbook.md)</span><br><span class="line">* [Part II](part2/README.md)</span><br><span class="line">    * [We love feedback](part2/feedback_please.md)</span><br><span class="line">    * [Better tools for authors](part2/better_tools.md)</span><br></pre></td></tr></table></figure>
<p>每章都有一个专用页面（<code>part#/README.md</code>），并分为子章节。</p>
<p><strong>锚点</strong></p>
<p>目录中的章节可以使用锚点指向文件的特定部分。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Summary</span><br><span class="line"></span><br><span class="line">### Part I</span><br><span class="line"></span><br><span class="line">* [Part I](part1/README.md)</span><br><span class="line">    * [Writing is nice](part1/README.md#writing)</span><br><span class="line">    * [GitBook is nice](part1/README.md#gitbook)</span><br><span class="line">* [Part II](part2/README.md)</span><br><span class="line">    * [We love feedback](part2/README.md#feedback)</span><br><span class="line">    * [Better tools for authors](part2/README.md#tools)</span><br></pre></td></tr></table></figure>
<p><strong>部分</strong></p>
<p>目录可以分为以标题或水平线 <code>----</code> 分隔的部分：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># Summary</span><br><span class="line"></span><br><span class="line">### Part I</span><br><span class="line"></span><br><span class="line">* [Writing is nice](part1/writing.md)</span><br><span class="line">* [GitBook is nice](part1/gitbook.md)</span><br><span class="line"></span><br><span class="line">### Part II</span><br><span class="line"></span><br><span class="line">* [We love feedback](part2/feedback_please.md)</span><br><span class="line">* [Better tools for authors](part2/better_tools.md)</span><br><span class="line"></span><br><span class="line">----</span><br><span class="line"></span><br><span class="line">* [Last part without title](part3/title.md)</span><br></pre></td></tr></table></figure>
<p>Parts 只是章节组，没有专用页面，但根据主题，它将在导航中显示。</p>
<h4 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h4><p><strong>Markdown 语法</strong></p>
<p>默认情况下，GitBook 的大多数文件都使用 Markdown 语法。 GitBook 推荐使用这种语法。所使用的语法类似于 <a href="https://guides.github.com/features/mastering-markdown/" target="_blank" rel="noopener">GitHub Flavored Markdown syntax</a> 。</p>
<p>此外，你还可以选择 <a href="https://toolchain.gitbook.com/syntax/asciidoc.html" target="_blank" rel="noopener">AsciiDoc 语法</a>。</p>
<p><strong>页面内容示例：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Title of the chapter</span><br><span class="line"></span><br><span class="line">This is a great introduction.</span><br><span class="line"></span><br><span class="line">## Section 1</span><br><span class="line"></span><br><span class="line">Markdown will dictates _most_ of your **book&apos;s structure**</span><br><span class="line"></span><br><span class="line">## Section 2</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p><strong>页面前言</strong></p>
<p>页面可以包含一个可选的前言。它可以用于定义页面的描述。前面的事情必须是文件中的第一件事，必须采取在三虚线之间设置的有效 YAML 的形式。这是一个基本的例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">description: This is a short description of my page</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"># The content of my page</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h3 id="Glossary"><a href="#Glossary" class="headerlink" title="Glossary"></a>Glossary</h3><p>允许您指定要显示为注释的术语及其各自的定义。根据这些术语，GitBook 将自动构建索引并突出显示这些术语。</p>
<p><code>GLOSSARY.md</code>  的格式是 <code>h2</code> 标题的列表，以及描述段落：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## Term</span><br><span class="line">Definition for this term</span><br><span class="line"></span><br><span class="line">## Another term</span><br><span class="line">With it&apos;s definition, this can contain bold text</span><br><span class="line">and all other kinds of inline markup ...</span><br></pre></td></tr></table></figure>
<h2 id="Gitbook-配置"><a href="#Gitbook-配置" class="headerlink" title="Gitbook 配置"></a>Gitbook 配置</h2><blockquote>
<p>GitBook 允许您使用灵活的配置自定义您的电子书。</p>
<p>这些选项在 <code>book.json</code> 文件中指定。对于不熟悉 JSON 语法的作者，您可以使用 <a href="http://jsonlint.com/" target="_blank" rel="noopener">JSONlint</a> 等工具验证语法。</p>
</blockquote>
<h3 id="常规设置"><a href="#常规设置" class="headerlink" title="常规设置"></a>常规设置</h3><table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>root</code></td>
<td>包含所有图书文件的根文件夹的路径，除了  <code>book.json</code></td>
</tr>
<tr>
<td><code>structure</code></td>
<td>指定自述文件，摘要，词汇表等的路径，参考  <a href="#structure">Structure paragraph</a>.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>您的书名，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预填的。</td>
</tr>
<tr>
<td><code>description</code></td>
<td>您的书籍的描述，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预填的。</td>
</tr>
<tr>
<td><code>author</code></td>
<td>作者名。在 GitBook.com 上，这个字段是预填的。</td>
</tr>
<tr>
<td><code>isbn</code></td>
<td>国际标准书号 ISBN</td>
</tr>
<tr>
<td><code>language</code></td>
<td>本书的语言类型 —— <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes" target="_blank" rel="noopener">ISO code</a> 。默认值是  <code>en</code></td>
</tr>
<tr>
<td><code>direction</code></td>
<td>文本阅读顺序。可以是 <code>rtl</code> （从右向左）或 <code>ltr</code> （从左向右），默认值依赖于 <code>language</code> 的值。</td>
</tr>
<tr>
<td><code>gitbook</code></td>
<td>应该使用的 GitBook 版本。使用 <a href="http://semver.org/" target="_blank" rel="noopener">SemVer</a> 规范，并接受类似于 <code>“&gt; = 3.0.0”</code> 的条件。</td>
</tr>
</tbody>
</table>
<p>author</p>
<p>作者姓名，在 GitBook.com 上，这个字段是预先填写的。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"author" : "victor zhang"</span><br></pre></td></tr></table></figure>
<p>description</p>
<p>电子书的描述，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预先填写的。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"description" : "Gitbook 教程"</span><br></pre></td></tr></table></figure>
<p>direction</p>
<p>文本的方向。可以是 rtl 或 ltr，默认值取决于语言的值。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"direction" : "ltr"</span><br></pre></td></tr></table></figure>
<p>gitbook</p>
<p>应该使用的 GitBook 版本。使用 SemVer 规范，接受类似于 &gt;=3.0.0 的条件。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">"gitbook" : "3.0.0",</span><br><span class="line">"gitbook" : "&gt;=3.0.0"</span><br></pre></td></tr></table></figure>
<p>language</p>
<p>Gitbook 使用的语言, 版本 2.6.4 中可选的语言如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">en, ar, bn, cs, de, en, es, fa, fi, fr, he, it, ja, ko, no, pl, pt, ro, ru, sv, uk, vi, zh-hans, zh-tw</span><br></pre></td></tr></table></figure>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"language" : "zh-hans",</span><br></pre></td></tr></table></figure>
<p>links</p>
<p>在左侧导航栏添加链接信息</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">"links" : &#123;</span><br><span class="line">    "sidebar" : &#123;</span><br><span class="line">        "Home" : "https://github.com/dunwu/gitbook-notes"</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>root</p>
<p>包含所有图书文件的根文件夹的路径， book.json 文件除外。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"root" : "./docs",</span><br></pre></td></tr></table></figure>
<p>structure</p>
<p>指定 Readme、Summary、Glossary 和 Languages 对应的文件名。</p>
<p>styles</p>
<p>自定义页面样式， 默认情况下各 generator 对应的 css 文件</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">"styles": &#123;</span><br><span class="line">    "website": "styles/website.css",</span><br><span class="line">    "ebook": "styles/ebook.css",</span><br><span class="line">    "pdf": "styles/pdf.css",</span><br><span class="line">    "mobi": "styles/mobi.css",</span><br><span class="line">    "epub": "styles/epub.css"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>例如要使 <code>h1</code>、<code>h2</code> 标签有下边框， 可以在 <code>website.css</code> 中设置</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">h1</span>,</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#efeaea</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>title</p>
<p>电子书的书名，默认值是从 README 中提取出来的。在 GitBook.com 上，这个字段是预先填写的。</p>
<p>例：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">"title" : "gitbook-notes",</span><br></pre></td></tr></table></figure>
<h3 id="plugins"><a href="#plugins" class="headerlink" title="plugins"></a>plugins</h3><p>插件及其配置在  <code>book.json</code> 中指定。有关详细信息。</p>
<p>自 3.0.0 版本开始，GitBook 可以使用主题。有关详细信息，请参阅  <a href="https://toolchain.gitbook.com/themes/" target="_blank" rel="noopener">the theming section</a> 。</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>plugins</code></td>
<td>要加载的插件列表</td>
</tr>
<tr>
<td><code>pluginsConfig</code></td>
<td>插件的配置</td>
</tr>
</tbody>
</table>
<h4 id="添加插件"><a href="#添加插件" class="headerlink" title="添加插件"></a>添加插件</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"plugins": [</span><br><span class="line">    <span class="string">"splitter"</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>添加新插件之后需要运行 <code>gitbook install</code> 来安装新的插件</p>
<h3 id="去除自带插件"><a href="#去除自带插件" class="headerlink" title="去除自带插件"></a>去除自带插件</h3><p>Gitbook 默认带有 5 个插件：</p>
<ul>
<li>highlight</li>
<li>search</li>
<li>sharing</li>
<li>font-settings</li>
<li>livereload</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"plugins": [</span><br><span class="line">    <span class="string">"-search"</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="structure"><a href="#structure" class="headerlink" title="structure"></a>structure</h3><p>除了  <code>root</code> 属性之外，您可以指定 Readme，Summary，Glossary 和 Languages 的名称（而不是使用默认名称，如 README.md）。这些文件必须在项目的根目录下（或 <code>root</code> 的根目录，如果你在 <code>book.json</code> 中配置了  <code>root</code> 属性）。不接受的路径，如：<code>dir / MY_README.md</code>。</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>structure.readme</code></td>
<td>Readme 文件名（默认值是  <code>README.md</code> ）</td>
</tr>
<tr>
<td><code>structure.summary</code></td>
<td>Summary 文件名（默认值是  <code>SUMMARY.md</code> ）</td>
</tr>
<tr>
<td><code>structure.glossary</code></td>
<td>Glossary 文件名（默认值是  <code>GLOSSARY.md</code> ）</td>
</tr>
<tr>
<td><code>structure.languages</code></td>
<td>Languages 文件名（默认值是  <code>LANGS.md</code> ）</td>
</tr>
</tbody>
</table>
<h3 id="pdf"><a href="#pdf" class="headerlink" title="pdf"></a>pdf</h3><p>可以使用  <code>book.json</code> 中的一组选项来定制 PDF 输出：</p>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>pdf.pageNumbers</code></td>
<td>将页码添加到每个页面的底部（默认为 true）</td>
</tr>
<tr>
<td><code>pdf.fontSize</code></td>
<td>基本字体大小（默认是 12）</td>
</tr>
<tr>
<td><code>pdf.fontFamily</code></td>
<td>基本字体样式（默认是 <code>Arial</code>）</td>
</tr>
<tr>
<td><code>pdf.paperSize</code></td>
<td>页面尺寸，选项有： <code>&#39;a0&#39;, &#39;a1&#39;, &#39;a2&#39;, &#39;a3&#39;, &#39;a4&#39;, &#39;a5&#39;, &#39;a6&#39;, &#39;b0&#39;, &#39;b1&#39;, &#39;b2&#39;, &#39;b3&#39;, &#39;b4&#39;, &#39;b5&#39;, &#39;b6&#39;, &#39;legal&#39;, &#39;letter&#39;</code> （默认值是 <code>a4</code>）</td>
</tr>
<tr>
<td><code>pdf.margin.top</code></td>
<td>上边界（默认值是 56）</td>
</tr>
<tr>
<td><code>pdf.margin.bottom</code></td>
<td>下边界（默认值是 56）</td>
</tr>
<tr>
<td><code>pdf.margin.right</code></td>
<td>右边界（默认值是 62）</td>
</tr>
<tr>
<td><code>pdf.margin.left</code></td>
<td>左边界（默认值是 62）</td>
</tr>
</tbody>
</table>
<h2 id="生成电子书"><a href="#生成电子书" class="headerlink" title="生成电子书"></a>生成电子书</h2><p>GitBook 可以生成一个网站，但也可以输出内容作为电子书（ePub，Mobi，PDF）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Generate a PDF file</span><br><span class="line">$ gitbook pdf ./ ./mybook.pdf</span><br><span class="line"></span><br><span class="line"># Generate an ePub file</span><br><span class="line">$ gitbook epub ./ ./mybook.epub</span><br><span class="line"></span><br><span class="line"># Generate a Mobi file</span><br><span class="line">$ gitbook mobi ./ ./mybook.mobi</span><br></pre></td></tr></table></figure>
<h3 id="安装-ebook-convert"><a href="#安装-ebook-convert" class="headerlink" title="安装 ebook-convert"></a>安装 ebook-convert</h3><p><code>ebook-convert</code>  可以用来生成电子书（epub，mobi，pdf）。</p>
<h4 id="GNU-Linux"><a href="#GNU-Linux" class="headerlink" title="GNU/Linux"></a>GNU/Linux</h4><p>安装  <a href="https://calibre-ebook.com/download" target="_blank" rel="noopener">Calibre application</a>.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo aptitude install calibre</span><br></pre></td></tr></table></figure>
<p>在一些 GNU / Linux 发行版中，节点被安装为 nodejs，您需要手动创建一个符号链接：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sudo</span> ln -s /usr/bin/nodejs /usr/bin/node</span><br></pre></td></tr></table></figure>
<h4 id="OS-X"><a href="#OS-X" class="headerlink" title="OS X"></a>OS X</h4><p>下载  <a href="https://calibre-ebook.com/download" target="_blank" rel="noopener">Calibre application</a>。将 <code>calibre.app</code> 移动到应用程序文件夹后，创建一个符号链接到 <code>ebook-convert</code> 工具：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo ln -s ~/Applications/calibre.app/Contents/MacOS/ebook-convert /usr/bin</span><br></pre></td></tr></table></figure>
<p>您可以使用 $PATH 中的任何目录替换  <code>/usr/bin</code> 。</p>
<h3 id="封面"><a href="#封面" class="headerlink" title="封面"></a>封面</h3><p>封面用于所有电子书格式。您可以自己提供一个，也可以使用  <a href="https://plugins.gitbook.com/plugin/autocover" target="_blank" rel="noopener">autocover plugin</a> 生成一个。</p>
<p>要提供封面，请将 <code>cover.jpg</code> 文件放在书本的根目录下。添加一个 <code>cover_small.jpg</code> 将指定一个较小版本的封面。封面应为 <code>JPEG</code> 文件。</p>
<p>好的封面应该遵守以下准则：</p>
<ul>
<li><code>cover.jpg</code> 的尺寸为 1800x2360 像素，<code>cover_small.jpg</code> 为 200x262</li>
<li>没有边界</li>
<li>清晰可见的书名</li>
<li>任何重要的文字应该在小版本中可见</li>
</ul>
<h2 id="Gitbook-部署"><a href="#Gitbook-部署" class="headerlink" title="Gitbook 部署"></a>Gitbook 部署</h2><h3 id="托管到-gitbook-com"><a href="#托管到-gitbook-com" class="headerlink" title="托管到 gitbook.com"></a>托管到 gitbook.com</h3><p><a href="https://www.gitbook.com/" target="_blank" rel="noopener">GitBook.com</a> 是使用 GitBook 格式创建和托管图书的在线平台。它提供托管，协作功能和易于使用的编辑器。</p>
<p><strong>创建新书</strong></p>
<p>如下图所示，根据个人需求，选择一个模板创建你的电子书。</p>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/gitbook-notes/master/assets/images/gitbook-new-book.png"></div><br></p>
<p><strong>设置书的基本信息</strong></p>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/gitbook-notes/master/assets/images/gitbook-settings.png"></div><br></p>
<p><strong>clone 到本地</strong></p>
<p>Gitbook.com 会为每本书创建一个 git 仓库。</p>
<p>如下图所示，拷贝 git 地址，然后 <code>git clone</code> 到本地。</p>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/gitbook-notes/master/assets/images/gitbook-clone.png"></div><br></p>
<p><strong>发布</strong></p>
<p>在本地按照 Gitbook 规范编辑电子书，然后 <code>git push</code> 到 Gitbook 的远程仓库。</p>
<p>默认访问地址是：https://用户名.gitbooks.io/项目名/content/</p>
<p>例如：我的用户名为 dunwu，一个电子书项目名为 test，则访问路径是： <code>https://dunwu.gitbooks.io/test/content/</code></p>
<p>当然，如果你有自己的域名，也可以设置 Domains 选项，来指定访问路径为你的域。</p>
<h3 id="托管到-Github"><a href="#托管到-Github" class="headerlink" title="托管到 Github"></a>托管到 Github</h3><p>如果你不希望使用 Gitbook 的仓库，而是想直接使用 Github 的仓库，也是可以的。</p>
<p>首先，你需要绑定你的 Github 账号。最简单的方式当然就是登录 Gitbook.com 时使用 Github 账号登录方式了。否则，你也可以在 Account Settings 中的 Github 设置选项中去进行绑定。</p>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/gitbook-notes/master/assets/images/gitbook-settings-github.png"></div><br></p>
<p>绑定了 Github 账号后，你可以在新建电子书时，选择从一个指定的 Github 仓库导入电子书项目。参考下图：</p>
<p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/gitbook-notes/master/assets/images/gitbook-new-book-with-github.png"></div><br></p>
<p>只要你指定的 Github 仓库中的文档内容符合 Gitbook 规范，Gitbook 就会自动根据你的每次更新去构建生成电子书网站。</p>
<p>默认访问地址是：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://Github用户名.gitbooks.io/Github 仓库/content/</span><br></pre></td></tr></table></figure>
<p>例如：我的用户名为 dunwu，Github 仓库名为 gitbook-notes，则访问路径是：</p>
<p><a href="https://dunwu.gitbooks.io/gitbook-notes/content/" target="_blank" rel="noopener">https://dunwu.gitbooks.io/gitbook-notes/content/</a></p>
<h4 id="托管到-Github-Pages"><a href="#托管到-Github-Pages" class="headerlink" title="托管到 Github Pages"></a>托管到 Github Pages</h4><p>也许你以前也了解 Github 的一个功能： <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> 。它允许用户在 GitHub 仓库托管你的个人、组织或项目的静态页面（自动识别 html、css、javascript）。</p>
<p><strong>建立 xxx.github.io 仓库</strong></p>
<p>要使用这个特性，首先，你必须建立一个严格遵循以下命名要求的仓库：<code>Github账号名.github.io</code>举例，我的 Github 账号为 dunwu，则这个仓库应该叫 <code>dunwu.github.io</code>。通常，这个仓库被用来作为个人或组织的博客。</p>
<p><strong>建立 gh-pages 分支</strong></p>
<p>完成第 1 步后，在任意一个 Github 仓库中建立一个名为 <code>gh-pages</code> 的分支。只要 <code>gh-pages</code> 中的内容符合一个静态站点要求，就可以在如下地址中进行访问：<code>https://Github用户名.gitbooks.io/Github 仓库</code> 。例如：我的一个 Github 仓库名为 react-notes，则访问路径是：<code>https://dunwu.github.io/react-notes</code></p>
<p><strong>自动化发布到 gh-pages</strong></p>
<p>如果每次都手动 git push 到远程 gh-pages 分支，略有点麻烦。</p>
<p>怎么实现自动化发布呢？</p>
<p>有两种方法：</p>
<p><strong>使用 gh-pages 插件</strong></p>
<p>如果你了解 Nodejs，那么最简单的发布方式就是使用 <code>gh-pages</code> 插件。</p>
<p>先在本地安装插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D gh-pages</span><br></pre></td></tr></table></figure>
<p>然后，在 package.json 文件中添加脚本命令：</p>
<p>如下：<code>-d</code> 命令参数后面是要发布的静态站点内容的目录</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "deploy": "gh-pages -d build"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p><strong>脚本</strong></p>
<p>写一个执行 git 命令的脚本就搞定了。</p>
<p>下面的脚本无论是在 bat 或 sh 脚本中都可以执行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd build</span><br><span class="line">git init</span><br><span class="line">git checkout -b gh-pages</span><br><span class="line">git add .</span><br><span class="line">git commit -am &quot;Update&quot;</span><br><span class="line">git push git@github.com:dunwu/gitbook-notes gh-pages --force&quot;</span><br></pre></td></tr></table></figure>
<h2 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h2><h3 id="官方资源"><a href="#官方资源" class="headerlink" title="官方资源"></a>官方资源</h3><ul>
<li><a href="https://github.com/GitbookIO/gitbook" target="_blank" rel="noopener">Gitbook Github</a></li>
<li><a href="https://www.gitbook.com/" target="_blank" rel="noopener">Gitbook 官网</a></li>
<li><a href="https://toolchain.gitbook.com/" target="_blank" rel="noopener">Gitbook Toolchain 文档</a></li>
<li><a href="https://help.gitbook.com/" target="_blank" rel="noopener">Gitbook 帮助中心</a></li>
</ul>
<h3 id="教程资源"><a href="#教程资源" class="headerlink" title="教程资源"></a>教程资源</h3><ul>
<li><a href="https://github.com/zhangjikai/gitbook-use" target="_blank" rel="noopener">gitbook-use</a> by zhangjikai</li>
</ul>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><ul>
<li><a href="https://www.gitbook.com/editor" target="_blank" rel="noopener">Gitbook 编辑器</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2019/03/06/algorithm/data-structure/search/README/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="张鹏的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/blog/2019/03/06/algorithm/data-structure/search/README/" itemprop="url">查找</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-03-06T00:00:00+08:00">
                2019-03-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h1><h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="hash-search.md">哈希表的查找</a></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/blog/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/blog/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/39/">39</a><a class="extend next" rel="next" href="/blog/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/blog/images/avatar.gif" alt="Zhang Peng">
            
              <p class="site-author-name" itemprop="name">Zhang Peng</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/blog/archives/">
              
                  <span class="site-state-item-count">381</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/blog/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/blog/tags/index.html">
                  <span class="site-state-item-count">76</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/blog/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/dunwu" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:forbreak@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-paper-plane"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhang Peng</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/blog/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/blog/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/blog/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === '') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
